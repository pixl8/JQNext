{"version":3,"file":"jqnext.min.js","sources":["../src/selectors/pseudo.js","../src/core/data.js","../src/utilities/type.js","../src/utilities/objects.js","../src/utilities/strings.js","../src/core/collection.js","../src/utilities/deferred.js","../src/events/core.js","../src/dom/manipulation.js","../src/dom/attributes.js","../src/dom/css.js","../src/events/shortcuts.js","../src/effects/core.js","../src/effects/showhide.js","../src/ajax/core.js","../src/ajax/serialize.js","../src/compat/jquery-ui.js","../src/jqnext.js","../src/dom/traversal.js"],"sourcesContent":["/**\n * jQNext - Pseudo Selector Engine\n * Support for jQuery-specific pseudo-selectors\n */\n\n/**\n * Check if element is visible\n * @param {Element} elem - Element to check\n * @returns {boolean}\n */\nfunction isVisible(elem) {\n  return !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);\n}\n\n/**\n * Pseudo-selector definitions\n * Each returns true if the element matches the pseudo\n */\nexport const pseudoSelectors = {\n  // Visibility\n  ':visible': (elem) => isVisible(elem),\n  ':hidden': (elem) => !isVisible(elem),\n  \n  // :not() - handles jQuery pseudos inside\n  ':not': (elem, index, collection, selector) => {\n    if (!selector) return true;\n    // Use matchesWithPseudo for the inner selector to handle jQuery pseudos\n    return !matchesSingleSelectorForNot(elem, selector, index, collection);\n  },\n  \n  // Position in set\n  ':first': (elem, index) => index === 0,\n  ':last': (elem, index, collection) => index === collection.length - 1,\n  ':even': (elem, index) => index % 2 === 0,\n  ':odd': (elem, index) => index % 2 === 1,\n  ':eq': (elem, index, collection, param) => index === parseInt(param, 10),\n  ':gt': (elem, index, collection, param) => index > parseInt(param, 10),\n  ':lt': (elem, index, collection, param) => index < parseInt(param, 10),\n  ':nth': (elem, index, collection, param) => index === parseInt(param, 10),\n  \n  // Content\n  ':contains': (elem, index, collection, text) => elem.textContent.indexOf(text) > -1,\n  ':empty': (elem) => !elem.firstChild,\n  ':parent': (elem) => !!elem.firstChild,\n  ':has': (elem, index, collection, selector) => elem.querySelector(selector) !== null,\n  \n  // Form elements\n  ':input': (elem) => /^(input|select|textarea|button)$/i.test(elem.nodeName),\n  ':text': (elem) => elem.type === 'text',\n  ':password': (elem) => elem.type === 'password',\n  ':radio': (elem) => elem.type === 'radio',\n  ':checkbox': (elem) => elem.type === 'checkbox',\n  ':submit': (elem) => elem.type === 'submit',\n  ':image': (elem) => elem.type === 'image',\n  ':reset': (elem) => elem.type === 'reset',\n  ':button': (elem) => elem.type === 'button' || elem.nodeName.toLowerCase() === 'button',\n  ':file': (elem) => elem.type === 'file',\n  \n  // Form state\n  ':enabled': (elem) => elem.disabled === false && !elem.matches('[disabled]'),\n  ':disabled': (elem) => elem.disabled === true,\n  ':checked': (elem) => elem.checked === true,\n  ':selected': (elem) => elem.selected === true,\n  ':focus': (elem) => elem === elem.ownerDocument.activeElement && elem.ownerDocument.hasFocus(),\n  \n  // Structure\n  ':root': (elem) => elem === elem.ownerDocument.documentElement,\n  ':target': (elem) => {\n    const hash = window.location.hash;\n    return hash && elem.id === hash.slice(1);\n  },\n  ':animated': (elem) => {\n    // Check if element has running animations\n    const animations = elem.getAnimations?.() || [];\n    return animations.length > 0;\n  },\n  \n  // Header elements\n  ':header': (elem) => /^h[1-6]$/i.test(elem.nodeName),\n  \n  // First/last of type\n  ':first-child': (elem) => elem.parentNode?.firstElementChild === elem,\n  ':last-child': (elem) => elem.parentNode?.lastElementChild === elem,\n  ':only-child': (elem) => {\n    const parent = elem.parentNode;\n    return parent?.firstElementChild === elem && parent?.lastElementChild === elem;\n  },\n  \n  // Data attribute\n  ':data': (elem, index, collection, key) => {\n    if (key) {\n      return elem.dataset[key] !== undefined;\n    }\n    return Object.keys(elem.dataset).length > 0;\n  },\n  \n  // Lang\n  ':lang': (elem, index, collection, lang) => {\n    const elemLang = elem.lang || elem.closest('[lang]')?.lang || '';\n    return elemLang.toLowerCase().startsWith(lang.toLowerCase());\n  }\n};\n\n// Regex to match pseudo-selectors with optional parameters\nconst pseudoRegex = /:([\\w-]+)(?:\\(([^)]*)\\))?/g;\n\n/**\n * Check if a pseudo name is a jQuery-specific pseudo (not native CSS)\n * @param {string} name - Pseudo name without colon\n * @returns {boolean}\n */\nfunction isJQueryPseudo(name) {\n  // Check both with and without colon prefix (plugins may add without colon)\n  return pseudoSelectors[':' + name] !== undefined || pseudoSelectors[name] !== undefined;\n}\n\n/**\n * Parse a selector string and extract pseudo-selectors\n * @param {string} selector - Selector string\n * @returns {Object} - { baseSelector, pseudos: [{ name, param }] }\n */\nexport function parsePseudos(selector) {\n  const pseudos = [];\n  let baseSelector = selector;\n  \n  // Reset regex lastIndex\n  pseudoRegex.lastIndex = 0;\n  \n  let match;\n  while ((match = pseudoRegex.exec(selector)) !== null) {\n    const [fullMatch, name, param] = match;\n    \n    // Check if it's a jQuery pseudo (not native CSS)\n    // Also make sure it's not inside an attribute selector like [type='text']\n    const beforeMatch = selector.substring(0, match.index);\n    const insideAttr = (beforeMatch.match(/\\[/g) || []).length > (beforeMatch.match(/\\]/g) || []).length;\n    \n    if (!insideAttr && isJQueryPseudo(name)) {\n      pseudos.push({\n        name: ':' + name,\n        param: param?.replace(/^['\"]|['\"]$/g, '') // Remove quotes\n      });\n      \n      // Check if the pseudo was preceded by a space (descendant combinator)\n      // In that case, replace with '*' to select all descendants\n      const charBefore = match.index > 0 ? selector[match.index - 1] : '';\n      if (charBefore === ' ' || charBefore === '\\t' || charBefore === '\\n') {\n        // Replace the pseudo with '*' to get all descendants\n        baseSelector = baseSelector.substring(0, match.index) + '*' + baseSelector.substring(match.index + fullMatch.length);\n      } else {\n        baseSelector = baseSelector.replace(fullMatch, '');\n      }\n    }\n  }\n  \n  // Clean up the base selector - remove leading/trailing commas and whitespace\n  baseSelector = baseSelector\n    .replace(/^[\\s,]+/, '')  // Remove leading whitespace and commas\n    .replace(/[\\s,]+$/, '')  // Remove trailing whitespace and commas\n    .replace(/,\\s*,/g, ',')  // Remove double commas\n    .trim();\n  \n  // If selector is empty or just whitespace, default to '*'\n  if (!baseSelector) {\n    baseSelector = '*';\n  }\n  \n  return { baseSelector, pseudos };\n}\n\n/**\n * Filter elements by jQuery pseudo-selectors\n * @param {Element[]} elements - Elements to filter\n * @param {Array} pseudos - Array of { name, param } objects\n * @returns {Element[]} - Filtered elements\n */\nexport function filterByPseudos(elements, pseudos) {\n  if (!pseudos.length) return elements;\n  \n  let result = elements;\n  \n  for (const pseudo of pseudos) {\n    // Check both with and without colon prefix (plugins may add without colon)\n    const filterFn = pseudoSelectors[pseudo.name] || pseudoSelectors[pseudo.name.slice(1)];\n    if (filterFn) {\n      result = result.filter((elem, index, arr) =>\n        filterFn(elem, index, arr, pseudo.param)\n      );\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Enhanced query selector with jQuery pseudo support\n * @param {string} selector - Selector string\n * @param {Element|Document} context - Context element\n * @returns {Element[]} - Matching elements\n */\nexport function querySelectorAllWithPseudo(selector, context = document) {\n  // Ensure selector is a string\n  if (typeof selector !== 'string' || !selector) {\n    return [];\n  }\n  \n  // Ensure context is valid\n  if (!context || typeof context.querySelectorAll !== 'function') {\n    // Try to use document if context is invalid\n    context = document;\n  }\n  \n  // Handle comma-separated selectors\n  if (selector.indexOf(',') > -1) {\n    const selectors = selector.split(',').map(s => s.trim());\n    const results = new Set();\n    \n    selectors.forEach(sel => {\n      querySelectorAllWithPseudo(sel, context).forEach(elem => results.add(elem));\n    });\n    \n    return Array.from(results);\n  }\n  \n  const { baseSelector, pseudos } = parsePseudos(selector);\n  \n  try {\n    // Handle selectors starting with > (child combinator)\n    let actualSelector = baseSelector;\n    if (actualSelector.startsWith('>')) {\n      // Need to scope the selector to the context\n      if (context.id) {\n        actualSelector = '#' + context.id + ' ' + actualSelector;\n      } else {\n        // Add a temporary ID\n        const tempId = 'jqnext-temp-' + Math.random().toString(36).substr(2, 9);\n        context.id = tempId;\n        actualSelector = '#' + tempId + ' ' + actualSelector;\n        const elements = Array.from(document.querySelectorAll(actualSelector));\n        context.removeAttribute('id');\n        return filterByPseudos(elements, pseudos);\n      }\n    }\n    \n    // First, try native querySelectorAll\n    let elements = Array.from(context.querySelectorAll(actualSelector));\n    \n    // Then filter by jQuery pseudos\n    return filterByPseudos(elements, pseudos);\n  } catch (e) {\n    // If native fails (invalid selector), return empty silently (jQuery behavior)\n    return [];\n  }\n}\n\n/**\n * Check if a single element matches a selector with pseudo support\n * @param {Element} elem - Element to check\n * @param {string} selector - Selector string\n * @param {number} [index=0] - Element's index in the collection (for filter context)\n * @param {Element[]} [collection=null] - The full collection being filtered\n * @returns {boolean}\n */\nexport function matchesWithPseudo(elem, selector, index = 0, collection = null) {\n  // Ensure selector is a string\n  if (typeof selector !== 'string' || !selector) {\n    return false;\n  }\n  \n  // Ensure elem is valid\n  if (!elem || !elem.matches) {\n    return false;\n  }\n  \n  // Default collection to just the element if not provided\n  const coll = collection || [elem];\n  const idx = collection ? index : 0;\n  \n  // Handle comma-separated selectors (element matches if ANY part matches)\n  if (selector.indexOf(',') > -1) {\n    const selectors = selector.split(',').map(s => s.trim()).filter(Boolean);\n    return selectors.some(sel => matchesSingleSelector(elem, sel, idx, coll));\n  }\n  \n  return matchesSingleSelector(elem, selector, idx, coll);\n}\n\n/**\n * Check if element matches a single (non-comma-separated) selector\n * @param {Element} elem - Element to check\n * @param {string} selector - Single selector string\n * @param {number} index - Element's index in the collection\n * @param {Element[]} collection - The full collection being filtered\n * @returns {boolean}\n */\nfunction matchesSingleSelector(elem, selector, index, collection) {\n  const { baseSelector, pseudos } = parsePseudos(selector);\n  \n  // Check base selector first (if not just '*')\n  if (baseSelector && baseSelector !== '*') {\n    try {\n      if (!elem.matches(baseSelector)) {\n        return false;\n      }\n    } catch (e) {\n      // Invalid selector - can't match\n      return false;\n    }\n  }\n  \n  // Check all pseudos with proper index and collection context\n  for (const pseudo of pseudos) {\n    const filterFn = pseudoSelectors[pseudo.name];\n    if (filterFn && !filterFn(elem, index, collection, pseudo.param)) {\n      return false;\n    }\n  }\n  \n  return true;\n}\n\n/**\n * Check if element matches a single selector with proper collection context\n * This is used by :not() to properly evaluate index-based pseudos like :last\n * @param {Element} elem - Element to check\n * @param {string} selector - Single selector string\n * @param {number} index - Element's index in the collection\n * @param {Element[]} collection - The full collection being filtered\n * @returns {boolean}\n */\nfunction matchesSingleSelectorForNot(elem, selector, index, collection) {\n  const { baseSelector, pseudos } = parsePseudos(selector);\n  \n  // Check base selector first (if not just '*')\n  if (baseSelector && baseSelector !== '*') {\n    try {\n      if (!elem.matches(baseSelector)) {\n        return false;\n      }\n    } catch (e) {\n      // Invalid selector - can't match\n      return false;\n    }\n  }\n  \n  // Check all pseudos with proper index and collection context\n  for (const pseudo of pseudos) {\n    const filterFn = pseudoSelectors[pseudo.name];\n    if (filterFn && !filterFn(elem, index, collection, pseudo.param)) {\n      return false;\n    }\n  }\n  \n  return true;\n}\n\nexport default {\n  pseudoSelectors,\n  parsePseudos,\n  filterByPseudos,\n  querySelectorAllWithPseudo,\n  matchesWithPseudo\n};","/**\n * jQNext - Data Storage\n * WeakMap-based data storage for elements (replaces jQuery's $.data)\n */\n\n// Use WeakMap for memory-efficient data storage\nconst dataCache = new WeakMap();\n\n// Unique identifier for internal data\nexport const expando = 'jQNext' + Date.now() + Math.random().toString(36).slice(2);\n\n/**\n * Get or create the data object for an element\n * @param {Object} owner - Element or object to get data for\n * @returns {Object} - Data object for the owner\n */\nfunction getData(owner) {\n  let data = dataCache.get(owner);\n  if (!data) {\n    data = {};\n    // Only set for nodes that can accept data\n    if (acceptsData(owner)) {\n      dataCache.set(owner, data);\n    }\n  }\n  return data;\n}\n\n/**\n * Check if an object can have data attached to it\n * @param {Object} owner - Object to check\n * @returns {boolean}\n */\nfunction acceptsData(owner) {\n  // Accept data on:\n  // - Objects (any object without a fixed type)\n  // - Element nodes\n  // - Document nodes\n  // Reject on:\n  // - null/undefined\n  // - Text nodes\n  // - Comment nodes\n  // - Processing instruction nodes\n  // - Embedded elements (applets, object)\n  return owner != null && (\n    owner.nodeType === 1 ||\n    owner.nodeType === 9 ||\n    owner.nodeType === 11 ||\n    !+owner.nodeType // Objects without nodeType (plain objects)\n  );\n}\n\n/**\n * Convert data attribute name to property key\n * @param {string} key - Attribute name\n * @returns {string} - Property key\n */\nfunction camelCase(key) {\n  return key.replace(/-([a-z])/g, (_, letter) => letter.toUpperCase());\n}\n\n/**\n * Get value from HTML5 data attributes\n * @param {Element} elem - Element to get data from\n * @param {string} key - Data key (without 'data-' prefix)\n * @returns {*} - Data value\n */\nfunction dataAttr(elem, key) {\n  if (elem.nodeType !== 1) return undefined;\n  \n  const name = 'data-' + key.replace(/[A-Z]/g, '-$&').toLowerCase();\n  const data = elem.getAttribute(name);\n  \n  if (data === null) {\n    return undefined;\n  }\n  \n  // Try to parse the value\n  if (data === 'true') return true;\n  if (data === 'false') return false;\n  if (data === 'null') return null;\n  \n  // Convert to number if it represents a number\n  if (data === +data + '') return +data;\n  \n  // Try to parse as JSON\n  if (/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/.test(data)) {\n    try {\n      return JSON.parse(data);\n    } catch (e) {\n      // Not valid JSON, return as string\n    }\n  }\n  \n  return data;\n}\n\n/**\n * Set data on an element\n * @param {Object} owner - Element or object\n * @param {string|Object} key - Data key or object of key-value pairs\n * @param {*} [value] - Value to set\n */\nexport function setData(owner, key, value) {\n  const cache = getData(owner);\n  \n  if (typeof key === 'string') {\n    cache[camelCase(key)] = value;\n  } else if (typeof key === 'object') {\n    // Set multiple values\n    for (const k in key) {\n      cache[camelCase(k)] = key[k];\n    }\n  }\n}\n\n/**\n * Get data from an element\n * @param {Object} owner - Element or object\n * @param {string} [key] - Data key (optional, returns all data if not provided)\n * @returns {*} - Data value or all data\n */\nexport function getDataValue(owner, key) {\n  const cache = getData(owner);\n  \n  if (key === undefined) {\n    // Return all data, including data attributes\n    if (owner.nodeType === 1) {\n      // Populate from data- attributes if not already done\n      if (!cache._attrsRead && owner.dataset) {\n        for (const attr in owner.dataset) {\n          if (!(attr in cache)) {\n            cache[attr] = dataAttr(owner, attr);\n          }\n        }\n        cache._attrsRead = true;\n      }\n    }\n    \n    // Return copy without internal properties\n    const result = {};\n    for (const k in cache) {\n      if (!k.startsWith('_')) {\n        result[k] = cache[k];\n      }\n    }\n    return result;\n  }\n  \n  const camelKey = camelCase(key);\n  \n  // Check cache first\n  if (camelKey in cache) {\n    return cache[camelKey];\n  }\n  \n  // Fall back to data attribute\n  if (owner.nodeType === 1) {\n    const value = dataAttr(owner, key);\n    if (value !== undefined) {\n      // Cache for future access\n      cache[camelKey] = value;\n      return value;\n    }\n  }\n  \n  return undefined;\n}\n\n/**\n * Remove data from an element\n * @param {Object} owner - Element or object\n * @param {string|string[]} [key] - Data key(s) to remove (removes all if not provided)\n */\nexport function removeData(owner, key) {\n  if (key === undefined) {\n    // Remove all data\n    dataCache.delete(owner);\n    return;\n  }\n  \n  const cache = getData(owner);\n  const keys = Array.isArray(key) ? key : [key];\n  \n  keys.forEach(k => {\n    delete cache[camelCase(k)];\n  });\n}\n\n/**\n * Check if an element has any data\n * @param {Object} owner - Element or object\n * @returns {boolean}\n */\nexport function hasData(owner) {\n  const cache = dataCache.get(owner);\n  if (!cache) return false;\n  \n  // Check if there are any non-internal properties\n  for (const key in cache) {\n    if (!key.startsWith('_')) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Get internal data (prefixed with '_')\n * @param {Object} owner - Element or object\n * @param {string} key - Internal data key\n * @returns {*}\n */\nexport function getInternalData(owner, key) {\n  const cache = getData(owner);\n  return cache['_' + key];\n}\n\n/**\n * Set internal data (prefixed with '_')\n * @param {Object} owner - Element or object\n * @param {string} key - Internal data key\n * @param {*} value - Value to set\n */\nexport function setInternalData(owner, key, value) {\n  const cache = getData(owner);\n  cache['_' + key] = value;\n}\n\n/**\n * Remove internal data\n * @param {Object} owner - Element or object\n * @param {string} key - Internal data key\n */\nexport function removeInternalData(owner, key) {\n  const cache = getData(owner);\n  delete cache['_' + key];\n}\n\n/**\n * Clean up all data associated with removed elements\n * Should be called when elements are removed from DOM\n * @param {Element|Element[]} elems - Elements to clean up\n */\nexport function cleanData(elems) {\n  const elements = Array.isArray(elems) ? elems : [elems];\n  \n  elements.forEach(elem => {\n    // Remove data\n    dataCache.delete(elem);\n    \n    // Also clean children\n    if (elem.nodeType === 1) {\n      const children = elem.getElementsByTagName('*');\n      for (let i = 0; i < children.length; i++) {\n        dataCache.delete(children[i]);\n      }\n    }\n  });\n}\n\nexport default {\n  expando,\n  setData,\n  getDataValue,\n  removeData,\n  hasData,\n  getInternalData,\n  setInternalData,\n  removeInternalData,\n  cleanData\n};","/**\n * jQNext - Type Utilities\n * Type checking and conversion functions\n */\n\nconst class2type = {};\nconst toString = class2type.toString;\nconst hasOwn = class2type.hasOwnProperty;\n\n// Populate class2type map\n'Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' ').forEach(name => {\n  class2type[`[object ${name}]`] = name.toLowerCase();\n});\n\n/**\n * Determine the internal JavaScript [[Class]] of an object\n * @param {*} obj - Value to check\n * @returns {string} - Type string (e.g., 'array', 'object', 'function')\n */\nexport function type(obj) {\n  if (obj == null) {\n    return obj + '';\n  }\n  return typeof obj === 'object' || typeof obj === 'function'\n    ? class2type[toString.call(obj)] || 'object'\n    : typeof obj;\n}\n\n/**\n * Check if value is array-like (has length and numeric indices)\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isArrayLike(obj) {\n  // Defensive checks\n  if (obj == null || isWindow(obj)) {\n    return false;\n  }\n  \n  // Must be an object\n  if (typeof obj !== 'object' && typeof obj !== 'function') {\n    return false;\n  }\n  \n  // No functions\n  if (typeof obj === 'function') {\n    return false;\n  }\n  \n  const length = obj.length;\n  const objType = type(obj);\n  \n  // Elements with length\n  if (obj.nodeType === 1 && length) {\n    return true;\n  }\n  \n  // Arrays\n  if (objType === 'array') {\n    return true;\n  }\n  \n  // Empty array-like\n  if (length === 0) {\n    return true;\n  }\n  \n  // Array-like with valid length\n  if (typeof length === 'number' && length > 0) {\n    try {\n      return (length - 1) in obj;\n    } catch (e) {\n      return false;\n    }\n  }\n  \n  return false;\n}\n\n/**\n * Check if value is an array\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isArray(obj) {\n  return Array.isArray(obj);\n}\n\n/**\n * Check if value is a function\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isFunction(obj) {\n  return typeof obj === 'function' && typeof obj.nodeType !== 'number';\n}\n\n/**\n * Check if value is a window object\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isWindow(obj) {\n  return obj != null && obj === obj.window;\n}\n\n/**\n * Check if value is a Document\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isDocument(obj) {\n  return obj != null && obj.nodeType === 9;\n}\n\n/**\n * Check if value is an Element\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isElement(obj) {\n  return obj != null && obj.nodeType === 1;\n}\n\n/**\n * Check if value is numeric\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isNumeric(obj) {\n  const realType = type(obj);\n  return (realType === 'number' || realType === 'string') && \n    !isNaN(obj - parseFloat(obj));\n}\n\n/**\n * Check if value is a plain object (created using {} or new Object)\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isPlainObject(obj) {\n  if (!obj || type(obj) !== 'object' || obj.nodeType || isWindow(obj)) {\n    return false;\n  }\n  \n  try {\n    if (obj.constructor && \n        !hasOwn.call(obj, 'constructor') && \n        !hasOwn.call(obj.constructor.prototype, 'isPrototypeOf')) {\n      return false;\n    }\n  } catch (e) {\n    return false;\n  }\n  \n  // Own properties are enumerated firstly, so to speed up checking\n  let key;\n  for (key in obj) { /* empty */ }\n  \n  return key === undefined || hasOwn.call(obj, key);\n}\n\n/**\n * Check if object is empty (has no own enumerable properties)\n * @param {Object} obj - Object to check\n * @returns {boolean}\n */\nexport function isEmptyObject(obj) {\n  for (const name in obj) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Check if value is a string\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isString(obj) {\n  return type(obj) === 'string';\n}\n\n/**\n * Check if value is undefined\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isUndefined(obj) {\n  return obj === undefined;\n}\n\n/**\n * Check if value is null\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isNull(obj) {\n  return obj === null;\n}\n\n/**\n * Check if value is a boolean\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isBoolean(obj) {\n  return type(obj) === 'boolean';\n}\n\n/**\n * Check if value is an object (not null and typeof object or function)\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isObject(obj) {\n  return obj != null && (typeof obj === 'object' || typeof obj === 'function');\n}\n\nexport default {\n  type,\n  isArrayLike,\n  isArray,\n  isFunction,\n  isWindow,\n  isDocument,\n  isElement,\n  isNumeric,\n  isPlainObject,\n  isEmptyObject,\n  isString,\n  isUndefined,\n  isNull,\n  isBoolean,\n  isObject\n};","/**\n * jQNext - Object Utilities\n * Object manipulation and iteration functions\n */\n\nimport { isFunction, isArray, isArrayLike, isPlainObject, isWindow } from './type.js';\n\n/**\n * Merge the contents of two or more objects together into the first object\n * @param {boolean|Object} deep - If true, performs deep merge. Or target object.\n * @param {Object} target - The object to extend (if deep is boolean)\n * @param {...Object} sources - Objects containing properties to merge\n * @returns {Object} - The target object\n */\nexport function extend(deep, target, ...sources) {\n  let isDeep = false;\n  let targetObj = deep;\n  let objectsToMerge = [target, ...sources];\n  \n  // Handle deep copy situation\n  if (typeof deep === 'boolean') {\n    isDeep = deep;\n    targetObj = target;\n    objectsToMerge = sources;\n  }\n  \n  // Handle case when target is not an object\n  if (typeof targetObj !== 'object' && !isFunction(targetObj)) {\n    targetObj = {};\n  }\n  \n  objectsToMerge.forEach(src => {\n    if (src == null) return;\n    \n    for (const key in src) {\n      const srcVal = src[key];\n      \n      // Prevent Object.prototype pollution\n      if (key === '__proto__' || targetObj === srcVal) {\n        continue;\n      }\n      \n      // Recurse if we're merging plain objects or arrays\n      if (isDeep && srcVal && (isPlainObject(srcVal) || isArray(srcVal))) {\n        const existingVal = targetObj[key];\n        let clone;\n        \n        if (isArray(srcVal)) {\n          clone = existingVal && isArray(existingVal) ? existingVal : [];\n        } else {\n          clone = existingVal && isPlainObject(existingVal) ? existingVal : {};\n        }\n        \n        targetObj[key] = extend(isDeep, clone, srcVal);\n      } else if (srcVal !== undefined) {\n        targetObj[key] = srcVal;\n      }\n    }\n  });\n  \n  return targetObj;\n}\n\n/**\n * Iterate over an object or array, executing a function for each element\n * @param {Object|Array} obj - Object or array to iterate\n * @param {Function} callback - Function to execute for each element (index/key, value)\n * @returns {Object|Array} - The original object\n */\nexport function each(obj, callback) {\n  if (isArrayLike(obj)) {\n    const length = obj.length;\n    for (let i = 0; i < length; i++) {\n      if (callback.call(obj[i], i, obj[i]) === false) {\n        break;\n      }\n    }\n  } else {\n    for (const key in obj) {\n      if (callback.call(obj[key], key, obj[key]) === false) {\n        break;\n      }\n    }\n  }\n  \n  return obj;\n}\n\n/**\n * Translate all items in an array or object to new array of items\n * @param {Object|Array} obj - Object or array to iterate\n * @param {Function} callback - Function to execute for each element (value, index/key)\n * @returns {Array} - New array with the results\n */\nexport function map(obj, callback) {\n  const result = [];\n  \n  if (isArrayLike(obj)) {\n    const length = obj.length;\n    for (let i = 0; i < length; i++) {\n      const value = callback(obj[i], i);\n      if (value != null) {\n        result.push(value);\n      }\n    }\n  } else {\n    for (const key in obj) {\n      const value = callback(obj[key], key);\n      if (value != null) {\n        result.push(value);\n      }\n    }\n  }\n  \n  return result.flat();\n}\n\n/**\n * Finds the elements of an array which satisfy a filter function\n * @param {Array} array - Array to filter\n * @param {Function} callback - Filter function (element, index)\n * @param {boolean} [invert=false] - If true, return elements that don't match\n * @returns {Array} - Filtered array\n */\nexport function grep(array, callback, invert = false) {\n  const result = [];\n  const length = array.length;\n  const expectTrue = !invert;\n  \n  for (let i = 0; i < length; i++) {\n    const retVal = !!callback(array[i], i);\n    if (retVal === expectTrue) {\n      result.push(array[i]);\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Search for a specified value within an array\n * @param {*} elem - Value to search for\n * @param {Array} array - Array to search\n * @param {number} [fromIndex=0] - Index to start from\n * @returns {number} - Index of element, or -1 if not found\n */\nexport function inArray(elem, array, fromIndex = 0) {\n  return array == null ? -1 : Array.prototype.indexOf.call(array, elem, fromIndex);\n}\n\n/**\n * Merge the contents of two arrays together into the first array\n * @param {Array} first - Array to receive elements\n * @param {Array} second - Array to merge into first\n * @returns {Array} - The first array\n */\nexport function merge(first, second) {\n  const len = +second.length;\n  let j = 0;\n  let i = first.length;\n  \n  for (; j < len; j++) {\n    first[i++] = second[j];\n  }\n  \n  first.length = i;\n  \n  return first;\n}\n\n/**\n * Convert an array-like object into a true JavaScript array\n * @param {*} arrayLike - Any array-like object\n * @returns {Array} - Array containing the elements\n */\nexport function makeArray(arrayLike, results = []) {\n  const arr = results;\n  \n  if (arrayLike != null) {\n    if (isArrayLike(Object(arrayLike))) {\n      merge(arr, typeof arrayLike === 'string' ? [arrayLike] : arrayLike);\n    } else {\n      arr.push(arrayLike);\n    }\n  }\n  \n  return arr;\n}\n\n/**\n * Bind a function to a context\n * @param {Function} fn - Function to bind\n * @param {Object} context - Context to bind to\n * @param {...*} args - Arguments to prepend to function calls\n * @returns {Function} - Bound function\n */\nexport function proxy(fn, context, ...args) {\n  if (!isFunction(fn)) {\n    return undefined;\n  }\n  \n  // Support: jQuery-style arguments (context, name)\n  if (typeof context === 'string') {\n    const tmp = fn[context];\n    context = fn;\n    fn = tmp;\n  }\n  \n  // Create bound function\n  const bound = function(...callArgs) {\n    return fn.apply(\n      context || this,\n      args.concat(callArgs)\n    );\n  };\n  \n  // Set a unique guid so we can remove the bound function later\n  bound.guid = fn.guid = fn.guid || proxy.guid++;\n  \n  return bound;\n}\n\nproxy.guid = 1;\n\n/**\n * An empty function - used as placeholder\n */\nexport function noop() {}\n\n/**\n * Return the current time\n * @returns {number} - Current timestamp in milliseconds\n */\nexport function now() {\n  return Date.now();\n}\n\n/**\n * Sort an array of DOM elements, in place, removing duplicates\n * @param {Array} results - Array to sort and dedupe\n * @returns {Array} - The sorted array\n */\nexport function uniqueSort(results) {\n  // Handle null, undefined, or non-array-like\n  if (!results) {\n    return results || [];\n  }\n  \n  // Ensure it's array-like\n  if (typeof results !== 'object' || typeof results.length !== 'number') {\n    return [];\n  }\n  \n  if (!results.length) {\n    return [];\n  }\n  \n  const seen = new Set();\n  const unique = [];\n  \n  for (let i = 0; i < results.length; i++) {\n    const elem = results[i];\n    if (elem && !seen.has(elem)) {\n      seen.add(elem);\n      unique.push(elem);\n    }\n  }\n  \n  // Sort by document position if elements\n  if (unique[0] && typeof unique[0].compareDocumentPosition === 'function') {\n    unique.sort((a, b) => {\n      if (a === b) return 0;\n      if (!a || !b || !a.compareDocumentPosition) return 0;\n      const compare = a.compareDocumentPosition(b);\n      if (compare & 4) return -1; // a is before b\n      if (compare & 2) return 1;  // a is after b\n      return 0;\n    });\n  }\n  \n  return unique;\n}\n\n/**\n * Check if an element is contained within another\n * @param {Element} container - Potential container element\n * @param {Element} contained - Element to check\n * @returns {boolean} - True if contained is inside container\n */\nexport function contains(container, contained) {\n  // Element.contains works for most cases\n  if (container.contains) {\n    return container !== contained && container.contains(contained);\n  }\n  \n  // Fallback for older browsers\n  if (container.compareDocumentPosition) {\n    return !!(container.compareDocumentPosition(contained) & 16);\n  }\n  \n  return false;\n}\n\n/**\n * Execute some JavaScript code globally\n * @param {string} code - Code to execute\n */\nexport function globalEval(code) {\n  if (code && /\\S/.test(code)) {\n    // Use indirect eval to run code in global scope\n    const script = document.createElement('script');\n    script.text = code;\n    document.head.appendChild(script).parentNode.removeChild(script);\n  }\n}\n\nexport default {\n  extend,\n  each,\n  map,\n  grep,\n  inArray,\n  merge,\n  makeArray,\n  proxy,\n  noop,\n  now,\n  uniqueSort,\n  contains,\n  globalEval\n};","/**\n * jQNext - String Utilities\n * String manipulation functions\n */\n\nconst rmsPrefix = /^-ms-/;\nconst rdashAlpha = /-([a-z])/g;\n\n/**\n * Convert dashed string to camelCase\n * @param {string} str - String to convert\n * @returns {string} - camelCase string\n */\nexport function camelCase(str) {\n  return str\n    .replace(rmsPrefix, 'ms-')\n    .replace(rdashAlpha, (all, letter) => letter.toUpperCase());\n}\n\n/**\n * Remove whitespace from beginning and end of string\n * Handles special whitespace: NBSP (\\xA0), ZWSP (\\uFEFF)\n * @param {string} str - String to trim\n * @returns {string} - Trimmed string\n */\nexport function trim(str) {\n  if (str == null) {\n    return '';\n  }\n  // Handle special whitespace characters that String.trim() might not handle\n  return (str + '').replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n}\n\n// Wrapper elements for special tags that can't be direct children of div\nconst wrapMap = {\n  // Table elements need proper wrappers\n  thead: ['table'],\n  tbody: ['table'],\n  tfoot: ['table'],\n  colgroup: ['table'],\n  caption: ['table'],\n  tr: ['table', 'tbody'],\n  th: ['table', 'tbody', 'tr'],\n  td: ['table', 'tbody', 'tr'],\n  col: ['table', 'colgroup'],\n  // Option/optgroup need select\n  option: ['select'],\n  optgroup: ['select'],\n  // Legend needs fieldset\n  legend: ['fieldset']\n};\n\n// Default wrapper is just a div (no special handling needed)\nconst defaultWrapper = [];\n\n/**\n * Get the wrapper needed for a tag\n * @param {string} tag - Tag name (lowercase)\n * @returns {string[]} - Array of wrapper tag names from outermost to innermost\n */\nfunction getWrapper(tag) {\n  return wrapMap[tag.toLowerCase()] || defaultWrapper;\n}\n\n/**\n * Parse a string into an array of DOM nodes\n * @param {string} data - HTML string to parse\n * @param {Document|boolean} [context=document] - Document context or keepScripts boolean\n * @param {boolean} [keepScripts=false] - Include script elements\n * @returns {Array|null} - Array of DOM nodes or null\n */\nexport function parseHTML(data, context, keepScripts) {\n  // Handle null, undefined, empty string\n  if (!data || typeof data !== 'string') {\n    return null;\n  }\n  \n  // Handle arguments - context can be boolean (keepScripts) or Document\n  if (typeof context === 'boolean') {\n    keepScripts = context;\n    context = document;\n  }\n  \n  // Default context\n  if (!context) {\n    context = document;\n  }\n  \n  // Throw if context is an element (not a document)\n  if (context.nodeType === 1) {\n    throw new Error('Context must be a document, not an element');\n  }\n  \n  // Get the actual document from context\n  const doc = context.ownerDocument || context;\n  \n  // Simple single tag: $('<div>')\n  const singleTagMatch = data.match(/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i);\n  if (singleTagMatch) {\n    return [doc.createElement(singleTagMatch[1])];\n  }\n  \n  // Detect the first tag in the HTML to determine if wrapping is needed\n  const tagMatch = data.match(/^[\\s]*<([a-z][^\\s>\\/]*)/i);\n  const firstTag = tagMatch ? tagMatch[1].toLowerCase() : '';\n  const wrapper = getWrapper(firstTag);\n  \n  // Create a document fragment to hold parsed content\n  const fragment = doc.createDocumentFragment();\n  let tmp = doc.createElement('div');\n  \n  // Build wrapper structure if needed\n  if (wrapper.length) {\n    // Build opening tags\n    let html = '';\n    for (let i = 0; i < wrapper.length; i++) {\n      html += '<' + wrapper[i] + '>';\n    }\n    html += data;\n    // Build closing tags in reverse\n    for (let i = wrapper.length - 1; i >= 0; i--) {\n      html += '</' + wrapper[i] + '>';\n    }\n    tmp.innerHTML = html;\n    \n    // Drill down to the innermost wrapper to get the actual content\n    for (let i = 0; i < wrapper.length; i++) {\n      tmp = tmp.firstElementChild;\n    }\n  } else {\n    // Use innerHTML to parse (no special wrapper needed)\n    tmp.innerHTML = data;\n  }\n  \n  // Move nodes to fragment\n  let node;\n  while ((node = tmp.firstChild)) {\n    fragment.appendChild(node);\n  }\n  \n  const nodes = Array.from(fragment.childNodes);\n  \n  // Remove scripts if not keeping them\n  if (!keepScripts) {\n    const filtered = [];\n    nodes.forEach(node => {\n      if (node.nodeType === 1 && node.tagName === 'SCRIPT') {\n        return; // skip script elements\n      }\n      if (node.nodeType === 1) {\n        // Remove nested scripts\n        const scripts = node.querySelectorAll ? node.querySelectorAll('script') : [];\n        scripts.forEach(script => script.parentNode && script.parentNode.removeChild(script));\n      }\n      filtered.push(node);\n    });\n    return filtered;\n  }\n  \n  return nodes;\n}\n\n/**\n * Parse JSON string into an object\n * @param {string} data - JSON string to parse\n * @returns {*} - Parsed value\n */\nexport function parseJSON(data) {\n  return JSON.parse(data);\n}\n\n/**\n * Parse XML string into an XML document\n * @param {string} data - XML string to parse\n * @returns {Document|null} - XML document or null\n */\nexport function parseXML(data) {\n  // Handle non-string inputs\n  if (data == null || typeof data !== 'string') {\n    return null;\n  }\n  \n  // Handle empty string\n  if (!data.trim()) {\n    return null;\n  }\n  \n  const parser = new DOMParser();\n  const xml = parser.parseFromString(data, 'text/xml');\n  \n  // Check for parsing errors\n  const parseError = xml.getElementsByTagName('parsererror');\n  if (parseError.length) {\n    throw new Error('Invalid XML: ' + data);\n  }\n  \n  return xml;\n}\n\n/**\n * Encode a set of form elements or object as a URL-encoded string\n * @param {Object|Array} obj - Object or array to serialize\n * @param {boolean} [traditional=false] - Use traditional parameter serialization\n * @returns {string} - URL-encoded string\n */\nexport function param(obj, traditional = false) {\n  const parts = [];\n  \n  function add(key, valueOrFunction) {\n    // If value is a function, invoke it and use its return value\n    const value = typeof valueOrFunction === 'function' \n      ? valueOrFunction() \n      : valueOrFunction;\n    \n    parts.push(\n      encodeURIComponent(key) + '=' + \n      encodeURIComponent(value == null ? '' : value)\n    );\n  }\n  \n  function buildParams(prefix, obj, traditional) {\n    if (Array.isArray(obj)) {\n      obj.forEach((v, i) => {\n        if (traditional || /\\[\\]$/.test(prefix)) {\n          // Treat each array item as a scalar\n          add(prefix, v);\n        } else {\n          // Item is non-scalar (array or object), encode its numeric index\n          buildParams(\n            prefix + '[' + (typeof v === 'object' && v != null ? i : '') + ']',\n            v,\n            traditional\n          );\n        }\n      });\n    } else if (!traditional && typeof obj === 'object' && obj !== null) {\n      // Serialize object item\n      for (const name in obj) {\n        buildParams(prefix + '[' + name + ']', obj[name], traditional);\n      }\n    } else {\n      // Serialize scalar item\n      add(prefix, obj);\n    }\n  }\n  \n  // Serialize the top-level object\n  if (Array.isArray(obj)) {\n    // Serialize array items (assume they are {name, value} objects)\n    obj.forEach(item => {\n      add(item.name, item.value);\n    });\n  } else {\n    for (const prefix in obj) {\n      buildParams(prefix, obj[prefix], traditional);\n    }\n  }\n  \n  return parts.join('&');\n}\n\n/**\n * Throw an error with the given message\n * @param {string} msg - Error message\n */\nexport function error(msg) {\n  throw new Error(msg);\n}\n\nexport default {\n  camelCase,\n  trim,\n  parseHTML,\n  parseJSON,\n  parseXML,\n  param,\n  error\n};","/**\n * jQNext - Collection Class\n * The core jQuery-compatible collection object\n */\n\nimport { querySelectorAllWithPseudo, matchesWithPseudo } from '../selectors/pseudo.js';\nimport { setData, getDataValue, removeData, cleanData, expando } from './data.js';\nimport { isFunction, isArrayLike, isWindow, isString, isPlainObject, isElement } from '../utilities/type.js';\nimport { extend, merge, makeArray, uniqueSort } from '../utilities/objects.js';\nimport { parseHTML } from '../utilities/strings.js';\n\n// Reference to the jQNext function (will be set by jqnext.js)\nlet jQNext = null;\n\n/**\n * Set the jQNext reference\n * @param {Function} fn - The jQNext function\n */\nexport function setJQNext(fn) {\n  jQNext = fn;\n}\n\n/**\n * Push context onto stack and return new collection\n * @param {jQCollection} collection - Collection to add to stack\n * @param {jQCollection} prev - Previous collection\n * @returns {jQCollection}\n */\nfunction pushStack(collection, prev) {\n  // Build a new jQCollection\n  const ret = jQNext(collection);\n  \n  // Add the old object onto the stack\n  ret.prevObject = prev;\n  \n  // Inherit context from previous collection (jQuery compatibility)\n  if (prev && prev.context) {\n    ret.context = prev.context;\n  }\n  \n  return ret;\n}\n\n/**\n * jQuery-compatible collection class\n * Extends Array to provide jQuery-like functionality\n */\nexport class jQCollection {\n  constructor() {\n    // Internal array to store elements\n    this._elements = [];\n    this.length = 0;\n    \n    // Store reference to previous collection for .end()\n    this.prevObject = null;\n    \n    // Store the selector string used to create this collection\n    this.selector = '';\n    \n    // Store the context used - default to document (jQuery compatibility)\n    this.context = typeof document !== 'undefined' ? document : null;\n  }\n  \n  /**\n   * Initialize the collection with elements\n   * @param {string|Element|NodeList|Array|Function} selector\n   * @param {Element|Document|jQCollection} context\n   */\n  init(selector, context = document) {\n    // Normalize context to DOM element(s)\n    // Handle: jQCollection, array of elements, single element\n    let contextElem;\n    if (context instanceof jQCollection) {\n      contextElem = context[0];\n    } else if (Array.isArray(context) || (context && typeof context.length === 'number' && context !== window && !context.nodeType && !isString(context))) {\n      // It's an array or array-like (but not window or string) - extract first element\n      contextElem = context[0];\n    } else {\n      contextElem = context;\n    }\n    \n    // Store context as DOM element (jQuery compatibility)\n    this.context = contextElem || document;\n    \n    // Handle empty or null selector\n    if (!selector) {\n      this.selector = '';\n      return this;\n    }\n    \n    // Handle DOM ready: $(function)\n    if (isFunction(selector)) {\n      // DOM is already loaded\n      if (document.readyState === 'complete' ||\n          (document.readyState !== 'loading' && !document.documentElement.doScroll)) {\n        setTimeout(() => selector(jQNext), 0);\n      } else {\n        document.addEventListener('DOMContentLoaded', () => selector(jQNext), { once: true });\n      }\n      return this;\n    }\n    \n    // Handle string selector\n    if (isString(selector)) {\n      // Trim the selector for HTML detection\n      const trimmed = selector.trim();\n      \n      // HTML string: $('<div>') - detect HTML by looking for < at start of trimmed string\n      // Also handle strings that look like HTML (contain < followed by tag-like content)\n      const isHtml = trimmed[0] === '<' && trimmed[trimmed.length - 1] === '>' && trimmed.length >= 3;\n      // Also check for HTML fragments that might not start with < (like text nodes followed by tags)\n      // or have leading/trailing content - but primarily look for HTML tag patterns\n      const looksLikeHtml = !isHtml && (\n        // Check if it looks like HTML: contains <tagname or </ pattern\n        /<[a-zA-Z][^>]*>/.test(selector) ||\n        // Or starts with whitespace followed by <\n        /^\\s*</.test(selector)\n      );\n      \n      if (isHtml || looksLikeHtml) {\n        // Parse HTML\n        const doc = context && context.ownerDocument ? context.ownerDocument :\n                    (context && context.nodeType === 9 ? context : document);\n        const nodes = parseHTML(trimmed, doc, true);\n        this._push(nodes || []);\n        \n        // Handle props object: $('<div/>', { class: 'foo', text: 'bar' })\n        if (context && isPlainObject(context)) {\n          this._applyProps(context);\n        }\n        \n        return this;\n      }\n      \n      // Store selector string\n      this.selector = selector;\n      \n      // Handle invalid selector starting with # followed by non-word characters\n      if (selector === '#' || /^#[^a-zA-Z]/.test(selector) && !/^#[a-zA-Z_]/.test(selector)) {\n        return this; // Return empty collection for invalid selectors like '#'\n      }\n      \n      // CSS selector\n      try {\n        const elements = querySelectorAllWithPseudo(selector, contextElem);\n        this._push(elements);\n      } catch (e) {\n        // Invalid selector - return empty collection silently (jQuery behavior)\n      }\n      return this;\n    }\n    \n    // Handle Element\n    if (selector.nodeType) {\n      this[0] = selector;\n      this.length = 1;\n      this.context = selector;\n      return this;\n    }\n    \n    // Handle Window\n    if (isWindow(selector)) {\n      this[0] = selector;\n      this.length = 1;\n      this.context = selector;\n      return this;\n    }\n    \n    // Handle jQCollection - copy selector\n    if (selector instanceof jQCollection) {\n      this._push(selector.toArray());\n      this.selector = selector.selector;\n      this.context = selector.context || document;\n      return this;\n    }\n    \n    // Handle Array-like objects (NodeList, HTMLCollection, Array)\n    if (isArrayLike(selector)) {\n      this._push(Array.from(selector));\n      // context remains document (set in constructor)\n      return this;\n    }\n    \n    return this;\n  }\n  \n  /**\n   * Apply props object to elements (quick setter support)\n   * @private\n   * @param {Object} props - Properties/methods to apply\n   */\n  _applyProps(props) {\n    for (const key in props) {\n      const value = props[key];\n      \n      // Special handling for certain properties\n      if (key === 'text') {\n        // Set text content\n        this.each(function() {\n          this.textContent = value;\n        });\n      } else if (key === 'html') {\n        // Set HTML content\n        this.each(function() {\n          this.innerHTML = value;\n        });\n      } else if (key === 'class') {\n        // Set class attribute\n        this.each(function() {\n          this.className = value;\n        });\n      } else if (key === 'id') {\n        // Set id\n        this.each(function() {\n          this.id = value;\n        });\n      } else if (typeof this[key] === 'function') {\n        // Call the method if it exists on the collection\n        if (isFunction(value)) {\n          this[key](value);\n        } else if (isPlainObject(value)) {\n          // For methods like css, attr - pass the object\n          this[key](value);\n        } else if (Array.isArray(value)) {\n          this[key](...value);\n        } else {\n          this[key](value);\n        }\n      } else {\n        // Set as attribute\n        this.each(function() {\n          this.setAttribute(key, value);\n        });\n      }\n    }\n  }\n  \n  /**\n   * Push elements into the collection\n   * @private\n   * @param {Element[]} elements\n   */\n  _push(elements) {\n    for (let i = 0; i < elements.length; i++) {\n      this[i] = elements[i];\n    }\n    this.length = elements.length;\n  }\n  \n  // ==========================================\n  // ARRAY-LIKE METHODS\n  // ==========================================\n  \n  /**\n   * Iterate over elements\n   * @param {Function} callback - Function(index, element)\n   * @returns {jQCollection}\n   */\n  each(callback) {\n    for (let i = 0; i < this.length; i++) {\n      if (callback.call(this[i], i, this[i]) === false) {\n        break;\n      }\n    }\n    return this;\n  }\n  \n  /**\n   * Create a new collection with the results of calling a function on every element\n   * @param {Function} callback - Function(index, element)\n   * @returns {jQCollection}\n   */\n  map(callback) {\n    const result = [];\n    for (let i = 0; i < this.length; i++) {\n      const value = callback.call(this[i], i, this[i]);\n      if (value != null) {\n        result.push(value);\n      }\n    }\n    return pushStack(result.flat(), this);\n  }\n  \n  /**\n   * Get the element at index, or all elements as array\n   * @param {number} [index]\n   * @returns {Element|Element[]}\n   */\n  get(index) {\n    if (index === undefined) {\n      return this.toArray();\n    }\n    return index < 0 ? this[this.length + index] : this[index];\n  }\n  \n  /**\n   * Convert to array\n   * @returns {Element[]}\n   */\n  toArray() {\n    return Array.prototype.slice.call(this);\n  }\n  \n  /**\n   * Get the index of an element\n   * @param {Element|string} elem - Element or selector\n   * @returns {number}\n   */\n  index(elem) {\n    // No argument: return index of first element in parent\n    if (!elem) {\n      const first = this[0];\n      if (first && first.parentNode) {\n        return Array.from(first.parentNode.children).indexOf(first);\n      }\n      return -1;\n    }\n    \n    // Selector: return index of first match\n    if (isString(elem)) {\n      return Array.prototype.indexOf.call(jQNext(elem), this[0]);\n    }\n    \n    // Element: return its index in the collection\n    const element = elem instanceof jQCollection ? elem[0] : elem;\n    return Array.prototype.indexOf.call(this, element);\n  }\n  \n  /**\n   * Reduce the set of elements to the one at the specified index\n   * @param {number} index\n   * @returns {jQCollection}\n   */\n  eq(index) {\n    const len = this.length;\n    const j = +index + (index < 0 ? len : 0);\n    return pushStack(j >= 0 && j < len ? [this[j]] : [], this);\n  }\n  \n  /**\n   * Get the first element\n   * @returns {jQCollection}\n   */\n  first() {\n    return this.eq(0);\n  }\n  \n  /**\n   * Get the last element\n   * @returns {jQCollection}\n   */\n  last() {\n    return this.eq(-1);\n  }\n  \n  /**\n   * Get a subset of elements\n   * @param {number} start\n   * @param {number} [end]\n   * @returns {jQCollection}\n   */\n  slice(start, end) {\n    return pushStack(Array.prototype.slice.call(this, start, end), this);\n  }\n  \n  /**\n   * End the most recent filtering operation\n   * @returns {jQCollection}\n   */\n  end() {\n    return this.prevObject || jQNext();\n  }\n  \n  /**\n   * Add the previous set of elements to the current set\n   * @param {string} [selector] - Optional selector to filter previous set\n   * @returns {jQCollection}\n   */\n  addBack(selector) {\n    return this.add(selector ? this.prevObject?.filter(selector) : this.prevObject);\n  }\n  \n  /**\n   * Create a new jQCollection with elements added\n   * @param {string|Element|jQCollection} selector\n   * @param {Element|Document} [context]\n   * @returns {jQCollection}\n   */\n  add(selector, context) {\n    return pushStack(\n      uniqueSort(merge(this.get(), jQNext(selector, context))),\n      this\n    );\n  }\n  \n  // ==========================================\n  // SELECTION & FILTERING\n  // ==========================================\n  \n  /**\n   * Find descendant elements\n   * @param {string} selector\n   * @returns {jQCollection}\n   */\n  find(selector) {\n    const result = [];\n    \n    for (let i = 0; i < this.length; i++) {\n      const found = querySelectorAllWithPseudo(selector, this[i]);\n      merge(result, found);\n    }\n    \n    return pushStack(this.length > 1 ? uniqueSort(result) : result, this);\n  }\n  \n  /**\n   * Filter elements by selector, function, or element\n   * @param {string|Function|Element|jQCollection} selector\n   * @returns {jQCollection}\n   */\n  filter(selector) {\n    return pushStack(winnow(this, selector, false), this);\n  }\n  \n  /**\n   * Remove elements that match\n   * @param {string|Function|Element|jQCollection} selector\n   * @returns {jQCollection}\n   */\n  not(selector) {\n    return pushStack(winnow(this, selector, true), this);\n  }\n  \n  /**\n   * Check if any element matches selector\n   * @param {string|Function|Element|jQCollection} selector\n   * @returns {boolean}\n   */\n  is(selector) {\n    return !!winnow(this, selector, false).length;\n  }\n  \n  /**\n   * Reduce to elements that have descendant matching selector\n   * @param {string|Element} selector\n   * @returns {jQCollection}\n   */\n  has(selector) {\n    const targets = jQNext(selector, this);\n    \n    return this.filter(function() {\n      for (let i = 0; i < targets.length; i++) {\n        if (this.contains(targets[i])) {\n          return true;\n        }\n      }\n      return false;\n    });\n  }\n  \n  /**\n   * Get all child nodes including text nodes\n   * @returns {jQCollection}\n   */\n  contents() {\n    const result = [];\n    \n    for (let i = 0; i < this.length; i++) {\n      const elem = this[i];\n      \n      // Handle iframe\n      if (elem.nodeName.toLowerCase() === 'iframe') {\n        result.push(elem.contentDocument || elem.contentWindow.document);\n      } else {\n        merge(result, elem.childNodes);\n      }\n    }\n    \n    return pushStack(result, this);\n  }\n  \n  // ==========================================\n  // DATA\n  // ==========================================\n  \n  /**\n   * Get/set data on elements\n   * @param {string|Object} [key]\n   * @param {*} [value]\n   * @returns {*|jQCollection}\n   */\n  data(key, value) {\n    // Get all data\n    if (key === undefined) {\n      if (this[0]) {\n        return getDataValue(this[0]);\n      }\n      // Return null for empty collection (jQuery compatibility)\n      return null;\n    }\n    \n    // Get single value\n    if (value === undefined && !isPlainObject(key)) {\n      if (this[0]) {\n        return getDataValue(this[0], key);\n      }\n      return undefined;\n    }\n    \n    // Set data\n    return this.each(function() {\n      setData(this, key, value);\n    });\n  }\n  \n  /**\n   * Remove data from elements\n   * @param {string|string[]} [key]\n   * @returns {jQCollection}\n   */\n  removeData(key) {\n    return this.each(function() {\n      removeData(this, key);\n    });\n  }\n  \n  // ==========================================\n  // INTERNAL HELPERS\n  // ==========================================\n  \n  /**\n   * Push elements onto the stack (jQuery internal)\n   * @param {Element[]} elems\n   * @returns {jQCollection}\n   */\n  pushStack(elems) {\n    return pushStack(elems, this);\n  }\n  \n  /**\n   * Create a function bound to this object\n   * Used internally for callbacks\n   * @param {Function} fn\n   * @returns {Function}\n   */\n  _bind(fn) {\n    const collection = this;\n    return function(...args) {\n      return fn.apply(collection, args);\n    };\n  }\n}\n\n// Make it array-like for iteration\njQCollection.prototype[Symbol.iterator] = function* () {\n  for (let i = 0; i < this.length; i++) {\n    yield this[i];\n  }\n};\n\n/**\n * Filter/not helper - jQuery's winnow function\n * @param {jQCollection} elements\n * @param {*} qualifier\n * @param {boolean} not\n * @returns {Element[]}\n */\nfunction winnow(elements, qualifier, not) {\n  // Handle null/undefined qualifier\n  if (qualifier == null) {\n    return not ? Array.prototype.slice.call(elements) : [];\n  }\n  \n  // Ensure elements is array-like\n  if (!elements || typeof elements.length !== 'number') {\n    return [];\n  }\n  \n  // Single element\n  if (isElement(qualifier)) {\n    return Array.prototype.filter.call(elements, elem =>\n      (elem === qualifier) !== not\n    );\n  }\n  \n  // Function\n  if (isFunction(qualifier)) {\n    return Array.prototype.filter.call(elements, (elem, i) =>\n      !!qualifier.call(elem, i, elem) !== not\n    );\n  }\n  \n  // Array of elements\n  if (isArrayLike(qualifier) && !isString(qualifier)) {\n    const qualArr = Array.from(qualifier);\n    const qualSet = new Set(qualArr);\n    return Array.prototype.filter.call(elements, elem =>\n      qualSet.has(elem) !== not\n    );\n  }\n  \n  // Selector string\n  if (isString(qualifier)) {\n    const elemArray = Array.prototype.slice.call(elements);\n    return elemArray.filter((elem, index) => {\n      if (!elem || !elem.matches) return not;\n      return matchesWithPseudo(elem, qualifier, index, elemArray) !== not;\n    });\n  }\n  \n  return [];\n}\n\nexport default jQCollection;","/**\n * jQNext - Deferred/Promise Utilities\n * jQuery-compatible Deferred implementation using native Promises\n */\n\nimport { isFunction } from './type.js';\nimport { extend } from './objects.js';\n\n/**\n * Create a Callbacks list\n * @param {string} options - Space-separated list of options\n * @returns {Object} - Callbacks list object\n */\nexport function Callbacks(options = '') {\n  const opts = {};\n  options.split(/\\s+/).forEach(flag => {\n    if (flag) opts[flag] = true;\n  });\n  \n  let list = [];\n  let firing = false;\n  let firingIndex = -1;\n  let memory = null;\n  let fired = false;\n  let locked = false;\n  \n  const fire = function() {\n    locked = locked || opts.once;\n    fired = firing = true;\n    \n    for (; firingIndex < list.length; firingIndex++) {\n      const fn = list[firingIndex];\n      if (fn && typeof fn === 'function') {\n        if (fn.apply(memory[0], memory[1]) === false && opts.stopOnFalse) {\n          memory = false;\n          break;\n        }\n      }\n    }\n    \n    firing = false;\n    \n    if (locked) {\n      if (memory) {\n        list = [];\n      } else {\n        list = '';\n      }\n    }\n  };\n  \n  const self = {\n    add: function(...args) {\n      if (list) {\n        // Save starting position for memory-triggered fire\n        const firingStart = list.length;\n        \n        const addToList = (arg) => {\n          if (isFunction(arg)) {\n            if (!opts.unique || !self.has(arg)) {\n              list.push(arg);\n            }\n          } else if (Array.isArray(arg)) {\n            arg.forEach(addToList);\n          }\n        };\n        \n        args.forEach(addToList);\n        \n        if (memory && !firing) {\n          // Reset firingIndex to point just before the new callbacks\n          // so the loop starts at the first newly added callback\n          firingIndex = firingStart - 1;\n          fire();\n        }\n      }\n      return this;\n    },\n    \n    remove: function(...args) {\n      args.forEach(arg => {\n        let index;\n        while ((index = list.indexOf(arg)) > -1) {\n          list.splice(index, 1);\n          if (index <= firingIndex) {\n            firingIndex--;\n          }\n        }\n      });\n      return this;\n    },\n    \n    has: function(fn) {\n      return fn ? list.indexOf(fn) > -1 : list.length > 0;\n    },\n    \n    empty: function() {\n      if (list) {\n        list = [];\n      }\n      return this;\n    },\n    \n    disable: function() {\n      locked = list = memory = null;\n      return this;\n    },\n    \n    disabled: function() {\n      return !list;\n    },\n    \n    lock: function() {\n      locked = true;\n      if (!memory) {\n        self.disable();\n      }\n      return this;\n    },\n    \n    locked: function() {\n      return !!locked;\n    },\n    \n    fireWith: function(context, args) {\n      if (list) {\n        if (fired && !firing) {\n          if (!opts.memory) {\n            return this;\n          }\n        }\n        \n        memory = [context, args || []];\n        firingIndex = -1;\n        \n        if (!firing) {\n          fire();\n        }\n      }\n      return this;\n    },\n    \n    fire: function(...args) {\n      self.fireWith(this, args);\n      return this;\n    },\n    \n    fired: function() {\n      return !!fired;\n    }\n  };\n  \n  return self;\n}\n\n/**\n * Create a new Deferred object\n * @param {Function} [func] - Function to call with the deferred\n * @returns {Object} - Deferred object\n */\nexport function Deferred(func) {\n  const tuples = [\n    // action, add listener, callbacks, final state\n    ['resolve', 'done', Callbacks('once memory'), 'resolved'],\n    ['reject', 'fail', Callbacks('once memory'), 'rejected'],\n    ['notify', 'progress', Callbacks('memory')]\n  ];\n  \n  let state = 'pending';\n  \n  const promise = {\n    state: function() {\n      return state;\n    },\n    \n    always: function(...fns) {\n      deferred.done(...fns).fail(...fns);\n      return this;\n    },\n    \n    catch: function(fn) {\n      return promise.then(null, fn);\n    },\n    \n    pipe: function(/* fnDone, fnFail, fnProgress */) {\n      // Deprecated in jQuery, but still supported\n      return this.then.apply(this, arguments);\n    },\n    \n    then: function(onFulfilled, onRejected, onProgress) {\n      let maxDepth = 0;\n      \n      function resolve(depth, deferred, handler, special) {\n        return function() {\n          let context = this;\n          let callArgs = Array.prototype.slice.call(arguments);\n          \n          function mightThrow() {\n            let returned, then;\n            \n            // Support: Promises/A+ section 2.3.3.3.3\n            if (depth < maxDepth) {\n              return;\n            }\n            \n            returned = handler.apply(context, callArgs);\n            \n            // Support: Promises/A+ section 2.3.1\n            if (returned === deferred.promise()) {\n              throw new TypeError('Thenable self-resolution');\n            }\n            \n            // Support: Promises/A+ sections 2.3.3.1, 3.5\n            then = returned &&\n              (typeof returned === 'object' || typeof returned === 'function') &&\n              returned.then;\n            \n            // Handle a returned thenable\n            if (isFunction(then)) {\n              // Special processors (notify) just wait for resolution\n              if (special) {\n                then.call(\n                  returned,\n                  resolve(maxDepth, deferred, identity, special),\n                  resolve(maxDepth, deferred, thrower, special)\n                );\n              } else {\n                maxDepth++;\n                then.call(\n                  returned,\n                  resolve(maxDepth, deferred, identity, special),\n                  resolve(maxDepth, deferred, thrower, special),\n                  resolve(maxDepth, deferred, identity, deferred.notifyWith)\n                );\n              }\n            } else {\n              if (handler !== identity) {\n                context = undefined;\n                callArgs = [returned];\n              }\n              (special || deferred.resolveWith)(context, callArgs);\n            }\n          }\n          \n          // Only normal processors (resolve) catch and reject exceptions\n          const process = special\n            ? mightThrow\n            : function() {\n                try {\n                  mightThrow();\n                } catch (e) {\n                  if (depth + 1 >= maxDepth) {\n                    context = undefined;\n                    callArgs = [e];\n                    deferred.rejectWith(context, callArgs);\n                  }\n                }\n              };\n          \n          // Execute the process\n          if (depth) {\n            process();\n          } else {\n            setTimeout(process);\n          }\n        };\n      }\n      \n      return Deferred(function(newDefer) {\n        // progress handlers\n        tuples[2][2].add(\n          resolve(0, newDefer, isFunction(onProgress) ? onProgress : identity, newDefer.notifyWith)\n        );\n        \n        // done handlers\n        tuples[0][2].add(\n          resolve(0, newDefer, isFunction(onFulfilled) ? onFulfilled : identity)\n        );\n        \n        // fail handlers\n        tuples[1][2].add(\n          resolve(0, newDefer, isFunction(onRejected) ? onRejected : thrower)\n        );\n      }).promise();\n    },\n    \n    promise: function(obj) {\n      return obj != null ? extend(obj, promise) : promise;\n    }\n  };\n  \n  const deferred = {};\n  \n  // Add list-specific methods\n  tuples.forEach((tuple, i) => {\n    const list = tuple[2];\n    const stateString = tuple[3];\n    \n    // promise.progress = list.add\n    // promise.done = list.add\n    // promise.fail = list.add\n    promise[tuple[1]] = list.add;\n    \n    // Handle state\n    if (stateString) {\n      list.add(\n        function() {\n          state = stateString;\n        },\n        // Disable opposite callback list\n        tuples[i ^ 1][2].disable,\n        // Lock progress callback\n        tuples[2][2].lock\n      );\n    }\n    \n    list.add(tuple[4]);\n    \n    // deferred.resolve = function()\n    // deferred.reject = function()\n    // deferred.notify = function()\n    deferred[tuple[0]] = function(...args) {\n      deferred[tuple[0] + 'With'](this === deferred ? undefined : this, args);\n      return this;\n    };\n    \n    // deferred.resolveWith = list.fireWith\n    // deferred.rejectWith = list.fireWith\n    // deferred.notifyWith = list.fireWith\n    deferred[tuple[0] + 'With'] = list.fireWith;\n  });\n  \n  // Make the deferred a promise\n  promise.promise(deferred);\n  \n  // Call given func if any\n  if (func) {\n    func.call(deferred, deferred);\n  }\n  \n  return deferred;\n}\n\n/**\n * Resolve multiple deferreds/values\n * @param {...*} args - Deferreds or values\n * @returns {Promise} - Master promise\n */\nexport function when(...args) {\n  const subordinates = args.slice();\n  const length = subordinates.length;\n  \n  // The count of uncompleted subordinates\n  let remaining = length !== 1 || (subordinates[0] && isFunction(subordinates[0].promise))\n    ? length\n    : 0;\n  \n  // The master Deferred\n  const deferred = remaining === 1 ? subordinates[0] : Deferred();\n  \n  // Update function for resolve values\n  const updateFunc = function(i, context, values) {\n    return function(value) {\n      context[i] = this;\n      values[i] = arguments.length > 1 ? Array.from(arguments) : value;\n      if (values === progressContexts) {\n        deferred.notifyWith(context, values);\n      } else if (!(--remaining)) {\n        deferred.resolveWith(context, values);\n      }\n    };\n  };\n  \n  let progressContexts, progressValues, resolveContexts, resolveValues;\n  \n  // Add listeners to Deferred subordinates\n  if (length > 1) {\n    progressContexts = new Array(length);\n    progressValues = new Array(length);\n    resolveContexts = new Array(length);\n    resolveValues = new Array(length);\n    \n    for (let i = 0; i < length; i++) {\n      if (subordinates[i] && isFunction(subordinates[i].promise)) {\n        subordinates[i].promise()\n          .progress(updateFunc(i, progressContexts, progressValues))\n          .done(updateFunc(i, resolveContexts, resolveValues))\n          .fail(deferred.reject);\n      } else {\n        --remaining;\n      }\n    }\n  }\n  \n  // If we're not waiting on anything, resolve the master\n  if (!remaining) {\n    deferred.resolveWith(resolveContexts, resolveValues);\n  }\n  \n  return deferred.promise();\n}\n\n// Helper functions\nfunction identity(v) {\n  return v;\n}\n\nfunction thrower(ex) {\n  throw ex;\n}\n\nexport default {\n  Callbacks,\n  Deferred,\n  when\n};","/**\n * jQNext - Events Core\n * Event binding, delegation, and triggering with namespace support\n */\n\nimport { isFunction, isString, isPlainObject } from '../utilities/type.js';\nimport { setInternalData, getInternalData, removeInternalData } from '../core/data.js';\nimport { matchesWithPseudo } from '../selectors/pseudo.js';\n\n// Event handler storage using WeakMap\nconst handlersStorage = new WeakMap();\n\n/**\n * Get handlers storage for an element (for jQuery._data compatibility)\n * @param {Element} elem\n * @returns {Object|undefined} - The handlers object or undefined\n */\nexport function getHandlersStorage(elem) {\n  return handlersStorage.get(elem);\n}\n\n// Special event types that need different handling\nexport const special = {\n  // Focus/blur don't bubble, use focusin/focusout\n  focus: {\n    trigger: function() {\n      if (this !== document.activeElement && this.focus) {\n        this.focus();\n        return false;\n      }\n    },\n    delegateType: 'focusin'\n  },\n  blur: {\n    trigger: function() {\n      if (this === document.activeElement && this.blur) {\n        this.blur();\n        return false;\n      }\n    },\n    delegateType: 'focusout'\n  },\n  // Click for checkbox/radio needs special handling\n  click: {\n    trigger: function() {\n      if (this.type === 'checkbox' && this.click && this.nodeName.toLowerCase() === 'input') {\n        this.click();\n        return false;\n      }\n    },\n    _default: function(event) {\n      return event.target.nodeName.toLowerCase() === 'a';\n    }\n  },\n  // Submit needs special handling to trigger native form submission\n  submit: {\n    trigger: function() {\n      if (this.nodeName && this.nodeName.toLowerCase() === 'form' && typeof this.submit === 'function') {\n        this.submit();\n        return false;\n      }\n    },\n    _default: function(event) {\n      return event.target.nodeName && event.target.nodeName.toLowerCase() === 'form';\n    }\n  },\n  // Mouseenter/leave don't bubble, simulate with mouseover/out\n  mouseenter: {\n    delegateType: 'mouseover',\n    handle: function(event) {\n      const related = event.relatedTarget;\n      const target = event.currentTarget;\n      \n      if (!related || (related !== target && !target.contains(related))) {\n        return event.handleObj.handler.apply(this, arguments);\n      }\n    }\n  },\n  mouseleave: {\n    delegateType: 'mouseout',\n    handle: function(event) {\n      const related = event.relatedTarget;\n      const target = event.currentTarget;\n      \n      if (!related || (related !== target && !target.contains(related))) {\n        return event.handleObj.handler.apply(this, arguments);\n      }\n    }\n  },\n  // Focusin/focusout are handled natively in modern browsers\n  focusin: {\n    setup: function() {\n      return false; // Use native\n    }\n  },\n  focusout: {\n    setup: function() {\n      return false; // Use native\n    }\n  }\n};\n\n/**\n * Parse event type string with namespaces\n * @param {string} types - Event type(s) with optional namespaces (e.g., 'click.ns1.ns2')\n * @returns {Array} - Array of { type, namespaces } objects\n */\nexport function parseEventTypes(types) {\n  const result = [];\n  \n  // Handle non-string types\n  if (typeof types !== 'string') {\n    if (types && typeof types === 'object' && types.type) {\n      // It's an event object\n      return [{ type: types.type, namespaces: [], namespace: '', origType: types.type }];\n    }\n    return result;\n  }\n  \n  const typeArr = types.split(/\\s+/).filter(Boolean);\n  \n  typeArr.forEach(type => {\n    const parts = type.split('.');\n    const eventType = parts[0];\n    const namespaces = parts.slice(1).sort();\n    \n    result.push({\n      type: eventType,\n      namespaces,\n      namespace: namespaces.join('.'),\n      origType: type\n    });\n  });\n  \n  return result;\n}\n\n/**\n * Get or create handlers object for an element\n * @param {Element} elem\n * @returns {Object}\n */\nfunction getHandlers(elem) {\n  let handlers = handlersStorage.get(elem);\n  if (!handlers) {\n    handlers = { events: {}, handle: null };\n    handlersStorage.set(elem, handlers);\n  }\n  return handlers;\n}\n\n/**\n * Create a unified event handler function\n * @param {Element} elem\n * @returns {Function}\n */\nfunction createHandler(elem) {\n  const handlers = getHandlers(elem);\n  \n  if (handlers.handle) {\n    return handlers.handle;\n  }\n  \n  handlers.handle = function(nativeEvent) {\n    // Create jQuery-like event object\n    const event = fixEvent(nativeEvent);\n    \n    // Get handlers for this event type\n    const typeHandlers = handlers.events[event.type] || [];\n    \n    // Copy to avoid modification during iteration\n    const handlersCopy = typeHandlers.slice();\n    \n    // Pre-compute matching targets and depths for delegated handlers\n    // jQuery sorts delegated handlers by DOM depth - closer to event.target fires first\n    const handlerQueue = [];\n    \n    for (let i = 0; i < handlersCopy.length; i++) {\n      const handleObj = handlersCopy[i];\n      \n      // Check namespace match\n      if (event.namespace && !event.namespace.split('.').every(ns =>\n        handleObj.namespace.includes(ns))) {\n        continue;\n      }\n      \n      // Check selector (delegation)\n      let target;\n      let depth = 0;\n      \n      if (handleObj.selector) {\n        // Find matching delegated target (use pseudo-aware matching)\n        target = event.target;\n        depth = 0;\n        while (target && target !== elem) {\n          if (target.nodeType === 1 && matchesWithPseudo(target, handleObj.selector)) {\n            break;\n          }\n          target = target.parentNode;\n          depth++;\n        }\n        \n        // No match found if we reached the bound element or walked off the DOM\n        if (target === elem || target === null) {\n          continue;\n        }\n        \n        handlerQueue.push({ handleObj, target, depth, isDelegated: true });\n      } else {\n        // For non-delegated events, this should be the element the handler is bound to\n        // Non-delegated handlers fire after all delegated handlers (jQuery behavior)\n        handlerQueue.push({ handleObj, target: elem, depth: Infinity, isDelegated: false });\n      }\n    }\n    \n    // Sort by depth: delegated handlers closer to event.target fire first\n    // This matches jQuery behavior where inner elements' handlers fire before outer\n    handlerQueue.sort((a, b) => a.depth - b.depth);\n    \n    for (let i = 0; i < handlerQueue.length; i++) {\n      const { handleObj, target } = handlerQueue[i];\n      \n      event.currentTarget = target;\n      event.handleObj = handleObj;\n      event.data = handleObj.data;\n      \n      // Call the handler\n      let result;\n      \n      // Build arguments: event + any extra args from trigger\n      const extraArgs = event._extraArgs || [];\n      const args = [event].concat(extraArgs);\n      \n      // Check for special handler\n      const specialHandle = special[handleObj.origType]?.handle;\n      if (specialHandle) {\n        result = specialHandle.apply(target, args);\n      }\n      \n      if (result === undefined) {\n        result = handleObj.handler.apply(target, args);\n      }\n      \n      if (result !== undefined) {\n        event.result = result;\n        if (result === false) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }\n      \n      if (event.isImmediatePropagationStopped()) {\n        break;\n      }\n    }\n    \n    return event.result;\n  };\n  \n  return handlers.handle;\n}\n\n/**\n * Fix native event to jQuery-like event\n * @param {Event} nativeEvent\n * @returns {Object}\n */\nfunction fixEvent(nativeEvent) {\n  // If already fixed, return\n  if (nativeEvent._fixed) {\n    return nativeEvent;\n  }\n  \n  const event = {\n    originalEvent: nativeEvent,\n    _fixed: true,\n    type: nativeEvent.type,\n    target: nativeEvent.target,\n    currentTarget: nativeEvent.currentTarget,\n    relatedTarget: nativeEvent.relatedTarget,\n    timeStamp: nativeEvent.timeStamp || Date.now(),\n    namespace: '',\n    result: undefined,\n    handleObj: null,\n    data: null,\n    \n    // Copy common properties\n    button: nativeEvent.button,\n    buttons: nativeEvent.buttons,\n    // For keypress events, charCode is the character code (e.g., 96 for backtick)\n    // For keydown/keyup, keyCode is the key code\n    // which should be charCode for keypress, keyCode for keydown/keyup\n    which: nativeEvent.type === 'keypress'\n      ? (nativeEvent.charCode || nativeEvent.which || nativeEvent.keyCode)\n      : (nativeEvent.which || nativeEvent.keyCode),\n    keyCode: nativeEvent.keyCode,\n    charCode: nativeEvent.charCode,\n    key: nativeEvent.key,\n    code: nativeEvent.code,\n    altKey: nativeEvent.altKey,\n    ctrlKey: nativeEvent.ctrlKey,\n    metaKey: nativeEvent.metaKey,\n    shiftKey: nativeEvent.shiftKey,\n    clientX: nativeEvent.clientX,\n    clientY: nativeEvent.clientY,\n    pageX: nativeEvent.pageX,\n    pageY: nativeEvent.pageY,\n    screenX: nativeEvent.screenX,\n    screenY: nativeEvent.screenY,\n    offsetX: nativeEvent.offsetX,\n    offsetY: nativeEvent.offsetY,\n    detail: nativeEvent.detail,\n    \n    // State\n    _isDefaultPrevented: false,\n    _isPropagationStopped: false,\n    _isImmediatePropagationStopped: false,\n    \n    // Methods\n    preventDefault: function() {\n      this._isDefaultPrevented = true;\n      nativeEvent.preventDefault();\n    },\n    stopPropagation: function() {\n      this._isPropagationStopped = true;\n      nativeEvent.stopPropagation();\n    },\n    stopImmediatePropagation: function() {\n      this._isImmediatePropagationStopped = true;\n      this._isPropagationStopped = true;\n      nativeEvent.stopImmediatePropagation();\n    },\n    isDefaultPrevented: function() {\n      return this._isDefaultPrevented || nativeEvent.defaultPrevented;\n    },\n    isPropagationStopped: function() {\n      return this._isPropagationStopped;\n    },\n    isImmediatePropagationStopped: function() {\n      return this._isImmediatePropagationStopped;\n    }\n  };\n  \n  // Calculate pageX/pageY if missing\n  if (event.pageX == null && nativeEvent.clientX != null) {\n    const doc = nativeEvent.target?.ownerDocument || document;\n    const docElem = doc.documentElement;\n    const body = doc.body;\n    \n    event.pageX = nativeEvent.clientX + \n      (docElem?.scrollLeft || body?.scrollLeft || 0) - \n      (docElem?.clientLeft || body?.clientLeft || 0);\n    event.pageY = nativeEvent.clientY + \n      (docElem?.scrollTop || body?.scrollTop || 0) - \n      (docElem?.clientTop || body?.clientTop || 0);\n  }\n  \n  // Add which for click events\n  if (!event.which && nativeEvent.button !== undefined) {\n    event.which = (nativeEvent.button & 1 ? 1 : \n                   (nativeEvent.button & 2 ? 3 : \n                   (nativeEvent.button & 4 ? 2 : 0)));\n  }\n  \n  return event;\n}\n\n/**\n * Bind event handler(s)\n * @param {jQCollection} collection\n * @param {string} types - Event type(s)\n * @param {string|Object|Function} selector - Selector for delegation, or data, or handler\n * @param {Object|Function} [data] - Data to pass to handler, or handler\n * @param {Function} [fn] - Handler function\n * @param {boolean} [one=false] - Only trigger once\n * @returns {jQCollection}\n */\nexport function on(collection, types, selector, data, fn, one = false) {\n  // Handle object signature: on({ type: handler }, selector, data)\n  if (isPlainObject(types)) {\n    if (isString(selector)) {\n      // on({ type: handler }, selector)\n      data = data || null;\n    } else {\n      // on({ type: handler }, data)\n      data = selector;\n      selector = undefined;\n    }\n    \n    for (const type in types) {\n      on(collection, type, selector, data, types[type], one);\n    }\n    return collection;\n  }\n  \n  // Normalize arguments\n  if (data == null && fn == null) {\n    // on(types, fn)\n    fn = selector;\n    data = selector = undefined;\n  } else if (fn == null) {\n    if (isString(selector)) {\n      // on(types, selector, fn)\n      fn = data;\n      data = undefined;\n    } else {\n      // on(types, data, fn)\n      fn = data;\n      data = selector;\n      selector = undefined;\n    }\n  }\n  \n  if (fn === false) {\n    fn = returnFalse;\n  } else if (!fn) {\n    return collection;\n  }\n  \n  // Handle one-time binding\n  if (one) {\n    const origFn = fn;\n    fn = function(event) {\n      off(collection, event);\n      return origFn.apply(this, arguments);\n    };\n    fn.guid = origFn.guid || (origFn.guid = on.guid++);\n  }\n  \n  return collection.each(function() {\n    addHandler(this, types, fn, data, selector);\n  });\n}\n\non.guid = 1;\n\n/**\n * Add handler to element\n */\nfunction addHandler(elem, types, handler, data, selector) {\n  const parsedTypes = parseEventTypes(types);\n  const handlers = getHandlers(elem);\n  const elemHandle = createHandler(elem);\n  \n  // Assign guid to handler if not present\n  if (!handler.guid) {\n    handler.guid = on.guid++;\n  }\n  \n  parsedTypes.forEach(({ type, namespaces, namespace, origType }) => {\n    // Get special handling\n    const specialType = special[type];\n    \n    // Determine the actual event type to listen for\n    const bindType = selector && specialType?.delegateType || type;\n    \n    // Create handler object\n    const handleObj = {\n      type: bindType,\n      origType: type,\n      handler,\n      data,\n      selector,\n      namespace,\n      namespaces,\n      guid: handler.guid\n    };\n    \n    // Call special add callback (used by plugins like jquery.hotkeys)\n    // This allows plugins to modify handleObj (e.g., wrap the handler)\n    specialType?.add?.call(elem, handleObj);\n    \n    // Initialize handlers array for this type if needed\n    if (!handlers.events[bindType]) {\n      handlers.events[bindType] = [];\n      \n      // Check for special setup\n      if (!specialType?.setup?.call(elem, data, namespaces, elemHandle)) {\n        // Use addEventListener\n        elem.addEventListener(bindType, elemHandle, false);\n      }\n    }\n    \n    handlers.events[bindType].push(handleObj);\n  });\n}\n\n/**\n * Remove event handler(s)\n * @param {jQCollection} collection\n * @param {string|Object} [types]\n * @param {string|Function} [selector]\n * @param {Function} [fn]\n * @returns {jQCollection}\n */\nexport function off(collection, types, selector, fn) {\n  // Handle object signature\n  if (types && types.handleObj) {\n    // off(event) - called from one-time handler\n    const event = types;\n    // Directly call removeHandler instead of recursively calling off\n    // since we don't have a real collection with .each()\n    removeHandler(event.currentTarget, event.handleObj.origType,\n        event.handleObj.handler, event.handleObj.selector);\n    return collection;\n  }\n  \n  if (isPlainObject(types)) {\n    for (const type in types) {\n      off(collection, type, selector, types[type]);\n    }\n    return collection;\n  }\n  \n  // Normalize arguments\n  if (selector === false || isFunction(selector)) {\n    fn = selector;\n    selector = undefined;\n  }\n  \n  if (fn === false) {\n    fn = returnFalse;\n  }\n  \n  return collection.each(function() {\n    removeHandler(this, types, fn, selector);\n  });\n}\n\n/**\n * Remove handler from element\n */\nfunction removeHandler(elem, types, handler, selector) {\n  const handlers = handlersStorage.get(elem);\n  if (!handlers) return;\n  \n  // If no types specified, remove all\n  if (!types) {\n    for (const type in handlers.events) {\n      removeByType(elem, handlers, type, handler, selector);\n    }\n    return;\n  }\n  \n  const parsedTypes = parseEventTypes(types);\n  \n  parsedTypes.forEach(({ type, namespace }) => {\n    // Remove for specific type or all types if type is empty\n    const typesToRemove = type ? [type] : Object.keys(handlers.events);\n    \n    typesToRemove.forEach(t => {\n      removeByType(elem, handlers, t, handler, selector, namespace);\n    });\n  });\n}\n\n/**\n * Remove handlers by type\n */\nfunction removeByType(elem, handlers, type, handler, selector, namespace) {\n  const events = handlers.events[type];\n  if (!events) return;\n  \n  const remaining = events.filter(handleObj => {\n    // Check if this handler should be removed\n    if (handler && handleObj.guid !== handler.guid) {\n      return true;\n    }\n    if (selector && handleObj.selector !== selector) {\n      return true;\n    }\n    if (namespace) {\n      const nsArray = namespace.split('.');\n      if (!nsArray.every(ns => handleObj.namespaces.includes(ns))) {\n        return true;\n      }\n    }\n    return false;\n  });\n  \n  handlers.events[type] = remaining;\n  \n  // Remove listener if no handlers left\n  if (!remaining.length) {\n    const specialType = special[type];\n    \n    if (!specialType?.teardown?.call(elem, namespace, handlers.handle)) {\n      elem.removeEventListener(type, handlers.handle, false);\n    }\n    \n    delete handlers.events[type];\n  }\n}\n\n/**\n * Bind one-time event handler\n * @param {jQCollection} collection\n * @param {string} types\n * @param {string|Object|Function} selector\n * @param {Object|Function} [data]\n * @param {Function} [fn]\n * @returns {jQCollection}\n */\nexport function one(collection, types, selector, data, fn) {\n  return on(collection, types, selector, data, fn, true);\n}\n\n/**\n * Trigger an event\n * @param {jQCollection} collection\n * @param {string|Event} event\n * @param {*} [data]\n * @returns {jQCollection}\n */\nexport function trigger(collection, event, data) {\n  return collection.each(function() {\n    triggerEvent(this, event, data, true);\n  });\n}\n\n/**\n * Trigger handler without bubbling\n * @param {jQCollection} collection\n * @param {string|Event} event\n * @param {*} [data]\n * @returns {*}\n */\nexport function triggerHandler(collection, event, data) {\n  const elem = collection[0];\n  if (elem) {\n    return triggerEvent(elem, event, data, false);\n  }\n}\n\n/**\n * Core trigger function\n */\nfunction triggerEvent(elem, event, data, propagate) {\n  const eventType = isString(event) ? event : event.type;\n  const parsedTypes = parseEventTypes(eventType);\n  \n  if (!parsedTypes.length) return;\n  \n  const { type, namespace, origType } = parsedTypes[0];\n  \n  // Create event object\n  let eventObj;\n  \n  // Check if it's a jQuery-like event (has isDefaultPrevented method)\n  const isJQueryEvent = event && typeof event.isDefaultPrevented === 'function';\n  \n  if (isJQueryEvent) {\n    // Already a jQuery-like event object, use it directly\n    eventObj = event;\n    // Ensure target is set\n    if (!eventObj.target) {\n      eventObj.target = elem;\n    }\n  } else if (isPlainObject(event) || event instanceof Event) {\n    eventObj = fixEvent(event instanceof Event ? event : { type, target: elem, ...event });\n  } else {\n    eventObj = fixEvent(new CustomEvent(type, {\n      bubbles: propagate,\n      cancelable: true,\n      detail: data\n    }));\n  }\n  \n  eventObj.type = type;\n  eventObj.namespace = namespace;\n  \n  // Ensure target is always set (CustomEvent doesn't have target until dispatched)\n  if (!eventObj.target) {\n    eventObj.target = elem;\n  }\n  \n  // Store extra arguments for handlers (jQuery compatibility)\n  // data can be an array that should be spread as extra args\n  eventObj._extraArgs = data != null ? (Array.isArray(data) ? data : [data]) : [];\n  \n  // Trigger on element\n  const handlers = handlersStorage.get(elem);\n  if (handlers?.handle) {\n    handlers.handle(eventObj);\n  }\n  \n  // Propagate to parent if needed\n  if (propagate && !eventObj.isPropagationStopped() && elem.parentNode) {\n    triggerEvent(elem.parentNode, eventObj, data, true);\n  }\n  \n  // Check special trigger - if it returns false, it handles native behavior itself\n  const specialTrigger = special[type]?.trigger;\n  const specialHandled = specialTrigger?.call(elem, data) === false;\n  \n  // Trigger native event if applicable (unless special handler did it)\n  if (propagate && !eventObj.isDefaultPrevented() && !specialHandled) {\n    const nativeEventName = 'on' + type;\n    if (elem[nativeEventName] && isFunction(elem[type])) {\n      // Temporarily prevent re-triggering\n      const old = elem[nativeEventName];\n      elem[nativeEventName] = null;\n      elem[type]();\n      elem[nativeEventName] = old;\n    }\n  }\n  \n  return eventObj.result;\n}\n\n/**\n * Helper function that returns false\n */\nfunction returnFalse() {\n  return false;\n}\n\n/**\n * Helper function that returns true\n */\nfunction returnTrue() {\n  return true;\n}\n\n/**\n * Clone event handlers from one element to another\n * @param {Element} source - Source element\n * @param {Element} dest - Destination element\n */\nexport function cloneHandlers(source, dest) {\n  const sourceHandlers = handlersStorage.get(source);\n  if (!sourceHandlers || !sourceHandlers.events) return;\n  \n  // Get or create handlers for dest\n  const destHandlers = getHandlers(dest);\n  const destHandle = createHandler(dest);\n  \n  // Clone each event type\n  for (const type in sourceHandlers.events) {\n    const typeHandlers = sourceHandlers.events[type];\n    \n    if (!destHandlers.events[type]) {\n      destHandlers.events[type] = [];\n      // Add event listener on dest\n      dest.addEventListener(type, destHandle, false);\n    }\n    \n    // Clone each handler object\n    typeHandlers.forEach(handleObj => {\n      const clonedHandleObj = {\n        type: handleObj.type,\n        origType: handleObj.origType,\n        handler: handleObj.handler,\n        data: handleObj.data,\n        selector: handleObj.selector,\n        namespace: handleObj.namespace,\n        namespaces: handleObj.namespaces ? handleObj.namespaces.slice() : [],\n        guid: handleObj.guid\n      };\n      \n      destHandlers.events[type].push(clonedHandleObj);\n    });\n  }\n}\n\nexport default {\n  on,\n  off,\n  one,\n  trigger,\n  triggerHandler,\n  special,\n  parseEventTypes,\n  cloneHandlers\n};","/**\n * jQNext - DOM Manipulation\n * Insert, remove, wrap, clone methods\n */\n\nimport { isString, isFunction, isElement } from '../utilities/type.js';\nimport { parseHTML } from '../utilities/strings.js';\nimport { cleanData, getDataValue, setData } from '../core/data.js';\nimport { matchesWithPseudo } from '../selectors/pseudo.js';\nimport { cloneHandlers } from '../events/core.js';\n\n/**\n * Get the document for an element\n * @param {Element} elem\n * @returns {Document}\n */\nfunction getDocument(elem) {\n  return elem.ownerDocument || elem;\n}\n\n/**\n * Convert argument to nodes\n * @param {string|Element|NodeList|Array} content\n * @param {Document} doc\n * @returns {Node[]}\n */\nfunction toNodes(content, doc = document) {\n  if (isString(content)) {\n    return parseHTML(content, doc, true);\n  }\n  if (content instanceof Node) {\n    return [content];\n  }\n  // Handle jQuery-like collections (array-like with elements)\n  if (content && content.length !== undefined) {\n    const arr = [];\n    for (let i = 0; i < content.length; i++) {\n      const item = content[i];\n      if (item instanceof Node) {\n        arr.push(item);\n      }\n    }\n    // Only return nodes that are valid - don't include non-Nodes\n    return arr;\n  }\n  return [];\n}\n\n/**\n * Insert nodes relative to target\n * @param {Element} target\n * @param {Node[]} nodes\n * @param {string} position - 'beforebegin', 'afterbegin', 'beforeend', 'afterend'\n */\nfunction insertNodes(target, nodes, position) {\n  const parent = target.parentNode;\n  \n  nodes.forEach(node => {\n    switch (position) {\n      case 'beforebegin':\n        parent.insertBefore(node, target);\n        break;\n      case 'afterbegin':\n        target.insertBefore(node, target.firstChild);\n        break;\n      case 'beforeend':\n        target.appendChild(node);\n        break;\n      case 'afterend':\n        parent.insertBefore(node, target.nextSibling);\n        break;\n    }\n  });\n}\n\n/**\n * Get/set innerHTML\n * @param {jQCollection} collection\n * @param {string|Function} [value]\n * @returns {string|jQCollection}\n */\nexport function html(collection, value) {\n  // Getter\n  if (value === undefined) {\n    const elem = collection[0];\n    return elem ? elem.innerHTML : undefined;\n  }\n  \n  // Setter\n  return collection.each(function(i) {\n    const oldHtml = this.innerHTML;\n    \n    // Clean up events/data on children (only for elements/documents/fragments)\n    if (this.nodeType === 1 || this.nodeType === 9 || this.nodeType === 11) {\n      cleanData(Array.from(this.getElementsByTagName('*')));\n    }\n    \n    // Set new content\n    const newValue = isFunction(value) ? value.call(this, i, oldHtml) : value;\n    \n    // Handle jQuery-like collections (object with length and elements)\n    if (newValue && typeof newValue === 'object' && newValue.length !== undefined && !(newValue instanceof Node)) {\n      // It's a collection - empty and append each element (MOVE, not clone - jQuery behavior)\n      this.textContent = '';\n      for (let j = 0; j < newValue.length; j++) {\n        const node = newValue[j];\n        if (node instanceof Node) {\n          this.appendChild(node);  // Move the original node, don't clone\n        }\n      }\n      return;\n    }\n    \n    try {\n      this.innerHTML = newValue;\n    } catch (e) {\n      // Fall back to DOM manipulation for problematic HTML\n      this.textContent = '';\n      const nodes = parseHTML(newValue, getDocument(this), true);\n      nodes.forEach(node => this.appendChild(node));\n    }\n  });\n}\n\n/**\n * Get/set textContent\n * @param {jQCollection} collection\n * @param {string|Function} [value]\n * @returns {string|jQCollection}\n */\nexport function text(collection, value) {\n  // Getter\n  if (value === undefined) {\n    let result = '';\n    for (let i = 0; i < collection.length; i++) {\n      const elem = collection[i];\n      const nodeType = elem.nodeType;\n      \n      if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n        result += elem.textContent;\n      } else if (nodeType === 3 || nodeType === 4) {\n        result += elem.nodeValue;\n      }\n    }\n    return result;\n  }\n  \n  // Setter\n  return collection.each(function(i) {\n    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n      const newValue = isFunction(value) ? value.call(this, i, this.textContent) : value;\n      this.textContent = newValue;\n    }\n  });\n}\n\n/**\n * Append content to each element\n * @param {jQCollection} collection\n * @param {...*} content - Content to append\n * @returns {jQCollection}\n */\nexport function append(collection, ...content) {\n  return domManip(collection, content, function(elem) {\n    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n      this.appendChild(elem);\n    }\n  });\n}\n\n/**\n * Prepend content to each element\n * @param {jQCollection} collection\n * @param {...*} content\n * @returns {jQCollection}\n */\nexport function prepend(collection, ...content) {\n  return domManip(collection, content, function(elem) {\n    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n      this.insertBefore(elem, this.firstChild);\n    }\n  });\n}\n\n/**\n * Insert content before each element\n * @param {jQCollection} collection\n * @param {...*} content\n * @returns {jQCollection}\n */\nexport function before(collection, ...content) {\n  return domManip(collection, content, function(elem) {\n    if (this.parentNode) {\n      this.parentNode.insertBefore(elem, this);\n    }\n  });\n}\n\n/**\n * Insert content after each element\n * @param {jQCollection} collection\n * @param {...*} content\n * @returns {jQCollection}\n */\nexport function after(collection, ...content) {\n  return domManip(collection, content, function(elem) {\n    if (this.parentNode) {\n      this.parentNode.insertBefore(elem, this.nextSibling);\n    }\n  });\n}\n\n/**\n * DOM manipulation core function\n * @param {jQCollection} collection\n * @param {Array} args\n * @param {Function} callback\n * @returns {jQCollection}\n */\nfunction domManip(collection, args, callback) {\n  const doc = getDocument(collection[0] || document);\n  \n  // Pre-parse non-function arguments into nodes (will be cloned per element)\n  const staticArgs = [];\n  const funcArgs = [];\n  \n  args.forEach((arg, idx) => {\n    if (isFunction(arg)) {\n      funcArgs.push({ idx, fn: arg });\n    } else {\n      staticArgs.push({ idx, nodes: toNodes(arg, doc) });\n    }\n  });\n  \n  const len = collection.length;\n  \n  collection.each(function(i) {\n    const isLast = i === len - 1;\n    \n    // Build nodes array in argument order\n    const allNodes = [];\n    \n    // Process static args - clone for all except last element\n    staticArgs.forEach(({ nodes }) => {\n      nodes.forEach(node => {\n        allNodes.push(isLast ? node : node.cloneNode(true));\n      });\n    });\n    \n    // Process function args - always fresh nodes per element\n    funcArgs.forEach(({ fn }) => {\n      const result = fn.call(this, i, this.innerHTML);\n      const resultNodes = toNodes(result, doc);\n      // Function results are always used directly (fresh per element)\n      allNodes.push(...resultNodes);\n    });\n    \n    // Insert all nodes\n    allNodes.forEach(node => {\n      callback.call(this, node);\n    });\n  });\n  \n  return collection;\n}\n\n/**\n * Append elements to target\n * @param {jQCollection} collection\n * @param {string|Element|jQCollection} target\n * @returns {jQCollection}\n */\nexport function appendTo(collection, target, jQNext) {\n  jQNext(target).append(collection);\n  return collection;\n}\n\n/**\n * Prepend elements to target\n * @param {jQCollection} collection\n * @param {string|Element|jQCollection} target\n * @returns {jQCollection}\n */\nexport function prependTo(collection, target, jQNext) {\n  jQNext(target).prepend(collection);\n  return collection;\n}\n\n/**\n * Insert elements before target\n * @param {jQCollection} collection\n * @param {string|Element|jQCollection} target\n * @returns {jQCollection}\n */\nexport function insertBefore(collection, target, jQNext) {\n  jQNext(target).before(collection);\n  return collection;\n}\n\n/**\n * Insert elements after target\n * @param {jQCollection} collection\n * @param {string|Element|jQCollection} target\n * @returns {jQCollection}\n */\nexport function insertAfter(collection, target, jQNext) {\n  jQNext(target).after(collection);\n  return collection;\n}\n\n/**\n * Wrap each element with content\n * @param {jQCollection} collection\n * @param {string|Element|Function} wrapper\n * @returns {jQCollection}\n */\nexport function wrap(collection, wrapper, jQNext) {\n  const isFunc = isFunction(wrapper);\n  \n  return collection.each(function(i) {\n    const wrapperElem = isFunc ? wrapper.call(this, i) : wrapper;\n    const wrap = jQNext(wrapperElem).clone()[0];\n    \n    if (this.parentNode) {\n      this.parentNode.insertBefore(wrap, this);\n    }\n    \n    // Find the deepest child of the wrapper\n    let target = wrap;\n    while (target.firstElementChild) {\n      target = target.firstElementChild;\n    }\n    \n    target.appendChild(this);\n  });\n}\n\n/**\n * Wrap all elements together\n * @param {jQCollection} collection\n * @param {string|Element} wrapper\n * @returns {jQCollection}\n */\nexport function wrapAll(collection, wrapper, jQNext) {\n  if (!collection.length) return collection;\n  \n  const wrap = jQNext(wrapper).clone()[0];\n  \n  // Insert wrapper before first element\n  if (collection[0].parentNode) {\n    collection[0].parentNode.insertBefore(wrap, collection[0]);\n  }\n  \n  // Find deepest child\n  let target = wrap;\n  while (target.firstElementChild) {\n    target = target.firstElementChild;\n  }\n  \n  // Move all elements into wrapper\n  collection.each(function() {\n    target.appendChild(this);\n  });\n  \n  return collection;\n}\n\n/**\n * Wrap the inner contents of each element\n * @param {jQCollection} collection\n * @param {string|Element|Function} wrapper\n * @returns {jQCollection}\n */\nexport function wrapInner(collection, wrapper, jQNext) {\n  const isFunc = isFunction(wrapper);\n  \n  return collection.each(function(i) {\n    const self = jQNext(this);\n    const contents = self.contents();\n    \n    if (contents.length) {\n      contents.wrapAll(isFunc ? wrapper.call(this, i) : wrapper);\n    } else {\n      self.append(isFunc ? wrapper.call(this, i) : wrapper);\n    }\n  });\n}\n\n/**\n * Remove the parent wrapper from elements\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {jQCollection}\n */\nexport function unwrap(collection, selector) {\n  collection.parent(selector).not('body').each(function() {\n    const parent = this.parentNode;\n    if (parent) {\n      while (this.firstChild) {\n        parent.insertBefore(this.firstChild, this);\n      }\n      parent.removeChild(this);\n    }\n  });\n  \n  return collection;\n}\n\n/**\n * Remove all children\n * @param {jQCollection} collection\n * @returns {jQCollection}\n */\nexport function empty(collection) {\n  return collection.each(function() {\n    // Clean up data on children (only for elements/documents/fragments)\n    if (this.nodeType === 1 || this.nodeType === 9 || this.nodeType === 11) {\n      cleanData(Array.from(this.getElementsByTagName('*')));\n    }\n    \n    // Remove children\n    while (this.firstChild) {\n      this.removeChild(this.firstChild);\n    }\n  });\n}\n\n/**\n * Remove elements from the DOM\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {jQCollection}\n */\nexport function remove(collection, selector) {\n  for (let i = 0; i < collection.length; i++) {\n    const elem = collection[i];\n    \n    // Skip if selector provided and doesn't match (use pseudo-aware matching)\n    if (selector && !matchesWithPseudo(elem, selector)) {\n      continue;\n    }\n    \n    // Clean up data and events\n    cleanData([elem]);\n    if (elem.nodeType === 1 || elem.nodeType === 9 || elem.nodeType === 11) {\n      cleanData(Array.from(elem.getElementsByTagName('*')));\n    }\n    \n    // Remove from DOM\n    if (elem.parentNode) {\n      elem.parentNode.removeChild(elem);\n    }\n  }\n  \n  return collection;\n}\n\n/**\n * Remove elements but keep data and events\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {jQCollection}\n */\nexport function detach(collection, selector) {\n  for (let i = 0; i < collection.length; i++) {\n    const elem = collection[i];\n    \n    if (selector && !matchesWithPseudo(elem, selector)) {\n      continue;\n    }\n    \n    if (elem.parentNode) {\n      elem.parentNode.removeChild(elem);\n    }\n  }\n  \n  return collection;\n}\n\n/**\n * Replace elements with new content\n * @param {jQCollection} collection\n * @param {string|Element|Function} newContent\n * @returns {jQCollection}\n */\nexport function replaceWith(collection, newContent, jQNext) {\n  const isFunc = isFunction(newContent);\n  \n  return collection.each(function(i) {\n    const content = isFunc ? newContent.call(this, i, this) : newContent;\n    const nodes = toNodes(content, getDocument(this));\n    \n    if (this.parentNode) {\n      // Clean up\n      cleanData([this]);\n      if (this.nodeType === 1 || this.nodeType === 9 || this.nodeType === 11) {\n        cleanData(Array.from(this.getElementsByTagName('*')));\n      }\n      \n      // Insert new content\n      nodes.forEach((node, j) => {\n        if (j === 0) {\n          this.parentNode.replaceChild(node, this);\n        } else {\n          this.parentNode.insertBefore(node, nodes[j - 1].nextSibling);\n        }\n      });\n    }\n  });\n}\n\n/**\n * Replace target elements with these elements\n * @param {jQCollection} collection\n * @param {string|Element} target\n * @returns {jQCollection}\n */\nexport function replaceAll(collection, target, jQNext) {\n  jQNext(target).replaceWith(collection);\n  return collection;\n}\n\n/**\n * Clone elements\n * @param {jQCollection} collection\n * @param {boolean} [withDataAndEvents=false]\n * @param {boolean} [deepWithDataAndEvents=withDataAndEvents]\n * @returns {jQCollection}\n */\nexport function clone(collection, withDataAndEvents = false, deepWithDataAndEvents = withDataAndEvents, jQNext) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    const elem = collection[i];\n    const cloned = elem.cloneNode(true);\n    \n    // Copy data and events if requested\n    if (withDataAndEvents) {\n      // Copy data from source element\n      const sourceData = getDataValue(elem);\n      if (sourceData && Object.keys(sourceData).length > 0) {\n        for (const key in sourceData) {\n          setData(cloned, key, sourceData[key]);\n        }\n      }\n      \n      // Copy event handlers from source element\n      cloneHandlers(elem, cloned);\n      \n      // Handle deep cloning for descendants\n      if (deepWithDataAndEvents) {\n        const sourceDescendants = elem.querySelectorAll('*');\n        const clonedDescendants = cloned.querySelectorAll('*');\n        \n        for (let j = 0; j < sourceDescendants.length; j++) {\n          const srcDesc = sourceDescendants[j];\n          const clonedDesc = clonedDescendants[j];\n          \n          // Copy data\n          const descData = getDataValue(srcDesc);\n          if (descData && Object.keys(descData).length > 0) {\n            for (const key in descData) {\n              setData(clonedDesc, key, descData[key]);\n            }\n          }\n          \n          // Copy event handlers\n          cloneHandlers(srcDesc, clonedDesc);\n        }\n      }\n    }\n    \n    result.push(cloned);\n  }\n  \n  return jQNext(result);\n}\n\nexport default {\n  html,\n  text,\n  append,\n  prepend,\n  before,\n  after,\n  appendTo,\n  prependTo,\n  insertBefore,\n  insertAfter,\n  wrap,\n  wrapAll,\n  wrapInner,\n  unwrap,\n  empty,\n  remove,\n  detach,\n  replaceWith,\n  replaceAll,\n  clone\n};","/**\n * jQNext - DOM Attributes\n * Attribute, property, and value manipulation\n */\n\nimport { isFunction, isString, isArray } from '../utilities/type.js';\nimport { camelCase } from '../utilities/strings.js';\n\n// Properties that should use .prop() instead of .attr()\n// jQuery only maps 'for' and 'class' in propFix\n// Other camelCase conversions should NOT be done here\n// because prop('contenteditable') should NOT map to contentEditable\nconst propFix = {\n  'for': 'htmlFor',\n  'class': 'className'\n};\n\n// Boolean attributes\nconst booleanAttrs = new Set([\n  'checked', 'selected', 'async', 'autofocus', 'autoplay', 'controls',\n  'defer', 'disabled', 'hidden', 'ismap', 'loop', 'multiple', 'muted',\n  'open', 'readonly', 'required', 'scoped', 'novalidate', 'reversed',\n  'allowfullscreen', 'contenteditable', 'draggable', 'spellcheck'\n]);\n\n/**\n * Get/set attribute\n * @param {jQCollection} collection\n * @param {string|Object} name - Attribute name or object of name-value pairs\n * @param {*} [value] - Attribute value\n * @returns {*|jQCollection}\n */\nexport function attr(collection, name, value) {\n  // Handle attr() with no arguments - returns undefined (jQuery compatibility)\n  if (name === undefined) {\n    return undefined;\n  }\n  \n  // Get attribute value\n  if (isString(name) && value === undefined) {\n    const elem = collection[0];\n    if (!elem || elem.nodeType !== 1) {\n      return undefined;\n    }\n    \n    const val = elem.getAttribute(name);\n    \n    // Handle boolean attributes\n    if (booleanAttrs.has(name.toLowerCase())) {\n      return val !== null ? name.toLowerCase() : undefined;\n    }\n    \n    // Return undefined for non-existent attributes (jQuery compatibility)\n    // Native getAttribute returns null, but jQuery returns undefined\n    return val === null ? undefined : val;\n  }\n  \n  // Set attribute(s)\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    if (typeof name === 'object') {\n      // Set multiple attributes\n      for (const key in name) {\n        setAttr(this, key, name[key], i);\n      }\n    } else {\n      setAttr(this, name, value, i);\n    }\n  });\n}\n\n/**\n * Set single attribute on element\n */\nfunction setAttr(elem, name, value, index) {\n  const val = isFunction(value) ? value.call(elem, index, elem.getAttribute(name)) : value;\n  \n  if (val === null || val === undefined) {\n    elem.removeAttribute(name);\n  } else if (booleanAttrs.has(name.toLowerCase())) {\n    // Boolean attribute\n    if (val) {\n      elem.setAttribute(name, name.toLowerCase());\n    } else {\n      elem.removeAttribute(name);\n    }\n  } else {\n    elem.setAttribute(name, val);\n  }\n}\n\n/**\n * Remove attribute\n * @param {jQCollection} collection\n * @param {string} name - Attribute name(s), space-separated\n * @returns {jQCollection}\n */\nexport function removeAttr(collection, name) {\n  const names = name.split(/\\s+/);\n  \n  return collection.each(function() {\n    if (this.nodeType === 1) {\n      names.forEach(n => this.removeAttribute(n));\n    }\n  });\n}\n\n/**\n * Get/set property\n * @param {jQCollection} collection\n * @param {string|Object} name\n * @param {*} [value]\n * @returns {*|jQCollection}\n */\nexport function prop(collection, name, value) {\n  const propName = propFix[name] || name;\n  \n  // Getter\n  if (isString(name) && value === undefined) {\n    const elem = collection[0];\n    return elem ? elem[propName] : undefined;\n  }\n  \n  // Setter\n  return collection.each(function(i) {\n    if (typeof name === 'object') {\n      for (const key in name) {\n        const pName = propFix[key] || key;\n        this[pName] = name[key];\n      }\n    } else {\n      const val = isFunction(value) ? value.call(this, i, this[propName]) : value;\n      this[propName] = val;\n    }\n  });\n}\n\n/**\n * Remove property\n * @param {jQCollection} collection\n * @param {string} name\n * @returns {jQCollection}\n */\nexport function removeProp(collection, name) {\n  const propName = propFix[name] || name;\n  \n  return collection.each(function() {\n    try {\n      this[propName] = undefined;\n      delete this[propName];\n    } catch (e) {\n      // Some properties can't be deleted\n    }\n  });\n}\n\n/**\n * Get/set value for form elements\n * @param {jQCollection} collection\n * @param {*} [value]\n * @returns {*|jQCollection}\n */\nexport function val(collection, value) {\n  // Getter\n  if (value === undefined) {\n    const elem = collection[0];\n    if (!elem) return undefined;\n    \n    // Select element\n    if (elem.nodeName.toLowerCase() === 'select') {\n      const options = elem.options;\n      const index = elem.selectedIndex;\n      const one = elem.type === 'select-one';\n      const values = one ? null : [];\n      \n      if (index < 0) {\n        return one ? '' : [];\n      }\n      \n      const max = one ? index + 1 : options.length;\n      let i = one ? index : 0;\n      \n      for (; i < max; i++) {\n        const option = options[i];\n        \n        if (option.selected && !option.disabled) {\n          const optValue = option.value;\n          \n          if (one) {\n            return optValue;\n          }\n          \n          values.push(optValue);\n        }\n      }\n      \n      return values;\n    }\n    \n    // Checkbox/radio\n    if (elem.type === 'checkbox' || elem.type === 'radio') {\n      return elem.value !== 'on' ? elem.value : elem.getAttribute('value') || 'on';\n    }\n    \n    // Other inputs\n    const ret = elem.value;\n    return typeof ret === 'string' ? ret.replace(/\\r/g, '') : ret == null ? '' : ret;\n  }\n  \n  // Setter\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    let val = isFunction(value) ? value.call(this, i, this.value) : value;\n    \n    if (val == null) {\n      val = '';\n    } else if (typeof val === 'number') {\n      val = String(val);\n    } else if (isArray(val)) {\n      val = val.map(v => v == null ? '' : String(v));\n    }\n    \n    const nodeName = this.nodeName.toLowerCase();\n    \n    // Select element\n    if (nodeName === 'select') {\n      const values = isArray(val) ? val : [val];\n      const options = this.options;\n      \n      for (let j = 0; j < options.length; j++) {\n        const option = options[j];\n        option.selected = values.includes(option.value);\n      }\n      \n      if (!values.length) {\n        this.selectedIndex = -1;\n      }\n    }\n    // Checkbox/radio\n    else if (this.type === 'checkbox' || this.type === 'radio') {\n      this.checked = isArray(val) ? val.includes(this.value) : val === this.value;\n    }\n    // Other inputs\n    else {\n      this.value = val;\n    }\n  });\n}\n\n/**\n * Add class(es) to elements\n * @param {jQCollection} collection\n * @param {string|Function} className\n * @returns {jQCollection}\n */\nexport function addClass(collection, className) {\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    const classes = isFunction(className) \n      ? className.call(this, i, this.className)\n      : className;\n    \n    if (isString(classes)) {\n      const classNames = classes.split(/\\s+/).filter(Boolean);\n      this.classList.add(...classNames);\n    }\n  });\n}\n\n/**\n * Remove class(es) from elements\n * @param {jQCollection} collection\n * @param {string|Function} [className]\n * @returns {jQCollection}\n */\nexport function removeClass(collection, className) {\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    // Remove all classes if no argument\n    if (className === undefined) {\n      this.className = '';\n      return;\n    }\n    \n    const classes = isFunction(className)\n      ? className.call(this, i, this.className)\n      : className;\n    \n    if (isString(classes)) {\n      const classNames = classes.split(/\\s+/).filter(Boolean);\n      this.classList.remove(...classNames);\n    }\n  });\n}\n\n/**\n * Toggle class(es) on elements\n * @param {jQCollection} collection\n * @param {string|Function} className\n * @param {boolean} [state]\n * @returns {jQCollection}\n */\nexport function toggleClass(collection, className, state) {\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    const classes = isFunction(className)\n      ? className.call(this, i, this.className, state)\n      : className;\n    \n    if (isString(classes)) {\n      const classNames = classes.split(/\\s+/).filter(Boolean);\n      classNames.forEach(name => {\n        if (state === undefined) {\n          this.classList.toggle(name);\n        } else if (state) {\n          this.classList.add(name);\n        } else {\n          this.classList.remove(name);\n        }\n      });\n    }\n  });\n}\n\n/**\n * Check if any element has the class\n * @param {jQCollection} collection\n * @param {string} className\n * @returns {boolean}\n */\nexport function hasClass(collection, className) {\n  for (let i = 0; i < collection.length; i++) {\n    if (collection[i].nodeType === 1 && collection[i].classList.contains(className)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default {\n  attr,\n  removeAttr,\n  prop,\n  removeProp,\n  val,\n  addClass,\n  removeClass,\n  toggleClass,\n  hasClass\n};","/**\n * jQNext - CSS Module\n * Style manipulation, dimensions, and positioning\n */\n\nimport { isFunction, isString, isNumeric, isWindow } from '../utilities/type.js';\nimport { camelCase } from '../utilities/strings.js';\n\n// CSS properties that should not have 'px' appended\nconst cssNumber = new Set([\n  'animationIterationCount', 'columnCount', 'fillOpacity', 'flexGrow',\n  'flexShrink', 'fontWeight', 'gridArea', 'gridColumn', 'gridColumnEnd',\n  'gridColumnStart', 'gridRow', 'gridRowEnd', 'gridRowStart', 'lineHeight',\n  'opacity', 'order', 'orphans', 'widows', 'zIndex', 'zoom'\n]);\n\n// CSS properties that need vendor prefixes\nconst vendorPrefixes = ['webkit', 'moz', 'ms', 'o'];\n\n// CSS Hooks storage (for jQuery UI compatibility)\nexport const cssHooks = {};\n\n/**\n * Get computed style for an element\n * @param {Element} elem\n * @returns {CSSStyleDeclaration}\n */\nfunction getStyles(elem) {\n  if (!elem || !elem.ownerDocument || !elem.ownerDocument.defaultView) {\n    return {};\n  }\n  return elem.ownerDocument.defaultView.getComputedStyle(elem, null);\n}\n\n/**\n * Normalize CSS property name\n * @param {string} name\n * @returns {string}\n */\nfunction vendorPropName(name) {\n  const camelName = camelCase(name);\n  \n  // Check if it works directly\n  if (camelName in document.documentElement.style) {\n    return camelName;\n  }\n  \n  // Try vendor prefixes\n  const capName = camelName[0].toUpperCase() + camelName.slice(1);\n  for (const prefix of vendorPrefixes) {\n    const prefixed = prefix + capName;\n    if (prefixed in document.documentElement.style) {\n      return prefixed;\n    }\n  }\n  \n  return camelName;\n}\n\n/**\n * Adjust the CSS value (add 'px' if needed)\n * @param {string} prop\n * @param {*} value\n * @returns {string}\n */\nfunction adjustCSS(prop, value) {\n  if (value === '' || value === null || value === undefined) {\n    return '';\n  }\n  \n  // Numbers that need 'px'\n  if (isNumeric(value) && !cssNumber.has(prop)) {\n    return value + 'px';\n  }\n  \n  return String(value);\n}\n\n/**\n * Get/set CSS properties\n * @param {jQCollection} collection\n * @param {string|Object} name\n * @param {*} [value]\n * @returns {*|jQCollection}\n */\nexport function css(collection, name, value) {\n  // Get computed style\n  if (isString(name) && value === undefined) {\n    const elem = collection[0];\n    if (!elem || elem.nodeType !== 1) {\n      return undefined;\n    }\n    \n    const prop = vendorPropName(name);\n    const computed = getStyles(elem);\n    \n    // Return computed style (jQuery behavior - always returns computed values)\n    return computed.getPropertyValue(name) || computed[prop] || '';\n  }\n  \n  // Set styles\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    if (typeof name === 'object') {\n      // Set multiple properties\n      for (const key in name) {\n        setCSS(this, key, name[key], i);\n      }\n    } else {\n      setCSS(this, name, value, i);\n    }\n  });\n}\n\n/**\n * Set a single CSS property\n */\nfunction setCSS(elem, name, value, index) {\n  const prop = vendorPropName(name);\n  let val = isFunction(value) \n    ? value.call(elem, index, css({ 0: elem, length: 1 }, name))\n    : value;\n  \n  // Handle removing style\n  if (val === null || val === undefined || val === '') {\n    elem.style[prop] = '';\n    return;\n  }\n  \n  // Adjust value (add 'px' etc.)\n  val = adjustCSS(prop, val);\n  \n  elem.style[prop] = val;\n}\n\n/**\n * Get width of element\n * @param {jQCollection} collection\n * @param {*} [value]\n * @returns {number|jQCollection}\n */\nexport function width(collection, value) {\n  return dimension(collection, 'width', value);\n}\n\n/**\n * Get height of element\n * @param {jQCollection} collection\n * @param {*} [value]\n * @returns {number|jQCollection}\n */\nexport function height(collection, value) {\n  return dimension(collection, 'height', value);\n}\n\n/**\n * Get inner width (includes padding)\n * @param {jQCollection} collection\n * @param {*} [value]\n * @returns {number|jQCollection}\n */\nexport function innerWidth(collection, value) {\n  return dimension(collection, 'width', value, 'inner');\n}\n\n/**\n * Get inner height (includes padding)\n * @param {jQCollection} collection\n * @param {*} [value]\n * @returns {number|jQCollection}\n */\nexport function innerHeight(collection, value) {\n  return dimension(collection, 'height', value, 'inner');\n}\n\n/**\n * Get outer width (includes padding and border, optionally margin)\n * @param {jQCollection} collection\n * @param {boolean|*} [includeMargin]\n * @returns {number|jQCollection}\n */\nexport function outerWidth(collection, includeMargin) {\n  // Handle setter\n  if (typeof includeMargin !== 'boolean' && includeMargin !== undefined) {\n    return dimension(collection, 'width', includeMargin, 'outer');\n  }\n  return dimension(collection, 'width', undefined, includeMargin ? 'outerMargin' : 'outer');\n}\n\n/**\n * Get outer height (includes padding and border, optionally margin)\n * @param {jQCollection} collection\n * @param {boolean|*} [includeMargin]\n * @returns {number|jQCollection}\n */\nexport function outerHeight(collection, includeMargin) {\n  // Handle setter\n  if (typeof includeMargin !== 'boolean' && includeMargin !== undefined) {\n    return dimension(collection, 'height', includeMargin, 'outer');\n  }\n  return dimension(collection, 'height', undefined, includeMargin ? 'outerMargin' : 'outer');\n}\n\n/**\n * Core dimension function\n * @param {jQCollection} collection\n * @param {string} dim - 'width' or 'height'\n * @param {*} [value]\n * @param {string} [extra] - 'inner', 'outer', 'outerMargin'\n * @returns {number|jQCollection}\n */\nfunction dimension(collection, dim, value, extra) {\n  const elem = collection[0];\n  \n  // Getter\n  if (value === undefined) {\n    if (!elem) return undefined;\n    \n    // Window\n    if (isWindow(elem)) {\n      return dim === 'width'\n        ? elem.innerWidth\n        : elem.innerHeight;\n    }\n    \n    // Document\n    if (elem.nodeType === 9) {\n      const doc = elem.documentElement;\n      return Math.max(\n        elem.body[`scroll${dim === 'width' ? 'Width' : 'Height'}`],\n        doc[`scroll${dim === 'width' ? 'Width' : 'Height'}`],\n        elem.body[`offset${dim === 'width' ? 'Width' : 'Height'}`],\n        doc[`offset${dim === 'width' ? 'Width' : 'Height'}`],\n        doc[`client${dim === 'width' ? 'Width' : 'Height'}`]\n      );\n    }\n    \n    // Element\n    const rect = elem.getBoundingClientRect();\n    const computed = getStyles(elem);\n    let result = rect[dim];\n    \n    if (!extra) {\n      // Content only (subtract padding and border)\n      if (dim === 'width') {\n        result -= parseFloat(computed.paddingLeft) || 0;\n        result -= parseFloat(computed.paddingRight) || 0;\n        result -= parseFloat(computed.borderLeftWidth) || 0;\n        result -= parseFloat(computed.borderRightWidth) || 0;\n      } else {\n        result -= parseFloat(computed.paddingTop) || 0;\n        result -= parseFloat(computed.paddingBottom) || 0;\n        result -= parseFloat(computed.borderTopWidth) || 0;\n        result -= parseFloat(computed.borderBottomWidth) || 0;\n      }\n    } else if (extra === 'inner') {\n      // Content + padding (subtract border)\n      if (dim === 'width') {\n        result -= parseFloat(computed.borderLeftWidth) || 0;\n        result -= parseFloat(computed.borderRightWidth) || 0;\n      } else {\n        result -= parseFloat(computed.borderTopWidth) || 0;\n        result -= parseFloat(computed.borderBottomWidth) || 0;\n      }\n    } else if (extra === 'outerMargin') {\n      // Content + padding + border + margin\n      if (dim === 'width') {\n        result += parseFloat(computed.marginLeft) || 0;\n        result += parseFloat(computed.marginRight) || 0;\n      } else {\n        result += parseFloat(computed.marginTop) || 0;\n        result += parseFloat(computed.marginBottom) || 0;\n      }\n    }\n    // 'outer' = content + padding + border (the default getBoundingClientRect)\n    \n    return Math.round(result);\n  }\n  \n  // Setter\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    let val = isFunction(value)\n      ? value.call(this, i, dimension(collection, dim))\n      : value;\n    \n    if (val === null || val === undefined) {\n      return;\n    }\n    \n    if (isNumeric(val)) {\n      const computed = getStyles(this);\n      \n      // Adjust for box-sizing\n      if (computed.boxSizing === 'border-box') {\n        if (extra === 'inner' || !extra) {\n          // Add padding and border\n          if (dim === 'width') {\n            val += parseFloat(computed.paddingLeft) || 0;\n            val += parseFloat(computed.paddingRight) || 0;\n            val += parseFloat(computed.borderLeftWidth) || 0;\n            val += parseFloat(computed.borderRightWidth) || 0;\n          } else {\n            val += parseFloat(computed.paddingTop) || 0;\n            val += parseFloat(computed.paddingBottom) || 0;\n            val += parseFloat(computed.borderTopWidth) || 0;\n            val += parseFloat(computed.borderBottomWidth) || 0;\n          }\n        }\n      }\n      \n      val = val + 'px';\n    }\n    \n    this.style[dim] = val;\n  });\n}\n\n/**\n * Get offset (position relative to document)\n * @param {jQCollection} collection\n * @param {Object} [coordinates]\n * @returns {Object|jQCollection}\n */\nexport function offset(collection, coordinates) {\n  // Setter\n  if (coordinates !== undefined) {\n    return collection.each(function(i) {\n      setOffset(this, coordinates, i);\n    });\n  }\n  \n  // Getter\n  const elem = collection[0];\n  if (!elem || elem.nodeType !== 1) {\n    return undefined;\n  }\n  \n  // Return zeros for disconnected elements\n  if (!elem.getClientRects().length) {\n    return { top: 0, left: 0 };\n  }\n  \n  const rect = elem.getBoundingClientRect();\n  const doc = elem.ownerDocument;\n  const docElem = doc.documentElement;\n  const win = doc.defaultView;\n  \n  return {\n    top: rect.top + win.pageYOffset - docElem.clientTop,\n    left: rect.left + win.pageXOffset - docElem.clientLeft\n  };\n}\n\n/**\n * Set element offset\n */\nfunction setOffset(elem, options, i) {\n  const curPosition = css({ 0: elem, length: 1 }, 'position');\n  \n  // Set position if static\n  if (curPosition === 'static') {\n    elem.style.position = 'relative';\n  }\n  \n  const curOffset = offset({ 0: elem, length: 1 });\n  const curCSSTop = css({ 0: elem, length: 1 }, 'top');\n  const curCSSLeft = css({ 0: elem, length: 1 }, 'left');\n  \n  const calculatePosition = (curPosition === 'absolute' || curPosition === 'fixed') &&\n    (curCSSTop + curCSSLeft).indexOf('auto') > -1;\n  \n  let curTop, curLeft;\n  \n  if (calculatePosition) {\n    const curPos = position({ 0: elem, length: 1 });\n    curTop = curPos.top;\n    curLeft = curPos.left;\n  } else {\n    curTop = parseFloat(curCSSTop) || 0;\n    curLeft = parseFloat(curCSSLeft) || 0;\n  }\n  \n  const props = isFunction(options) ? options.call(elem, i, curOffset) : options;\n  \n  if (props.top != null) {\n    elem.style.top = (props.top - curOffset.top + curTop) + 'px';\n  }\n  if (props.left != null) {\n    elem.style.left = (props.left - curOffset.left + curLeft) + 'px';\n  }\n}\n\n/**\n * Get position (relative to offset parent)\n * @param {jQCollection} collection\n * @returns {Object}\n */\nexport function position(collection) {\n  const elem = collection[0];\n  if (!elem || elem.nodeType !== 1) {\n    return undefined;\n  }\n  \n  let offsetParent = elem.offsetParent || document.documentElement;\n  \n  // Account for offset parent being body/html\n  while (offsetParent && \n         offsetParent !== document.documentElement && \n         css({ 0: offsetParent, length: 1 }, 'position') === 'static') {\n    offsetParent = offsetParent.offsetParent;\n  }\n  offsetParent = offsetParent || document.documentElement;\n  \n  const elemOffset = offset(collection);\n  const parentOffset = offsetParent === document.documentElement\n    ? { top: 0, left: 0 }\n    : offset({ 0: offsetParent, length: 1 });\n  \n  const computed = getStyles(elem);\n  \n  // Subtract element margins\n  elemOffset.top -= parseFloat(computed.marginTop) || 0;\n  elemOffset.left -= parseFloat(computed.marginLeft) || 0;\n  \n  // Add offset parent borders\n  const parentComputed = getStyles(offsetParent);\n  parentOffset.top += parseFloat(parentComputed.borderTopWidth) || 0;\n  parentOffset.left += parseFloat(parentComputed.borderLeftWidth) || 0;\n  \n  return {\n    top: elemOffset.top - parentOffset.top,\n    left: elemOffset.left - parentOffset.left\n  };\n}\n\n/**\n * Get/set scroll top\n * @param {jQCollection} collection\n * @param {number} [value]\n * @returns {number|jQCollection}\n */\nexport function scrollTop(collection, value) {\n  return scrollProp(collection, 'top', value);\n}\n\n/**\n * Get/set scroll left\n * @param {jQCollection} collection\n * @param {number} [value]\n * @returns {number|jQCollection}\n */\nexport function scrollLeft(collection, value) {\n  return scrollProp(collection, 'left', value);\n}\n\n/**\n * Core scroll property function\n */\nfunction scrollProp(collection, prop, value) {\n  const scrollPropName = prop === 'top' ? 'scrollTop' : 'scrollLeft';\n  const pagePropName = prop === 'top' ? 'pageYOffset' : 'pageXOffset';\n  \n  // Getter\n  if (value === undefined) {\n    const elem = collection[0];\n    if (!elem) return undefined;\n    \n    if (isWindow(elem)) {\n      return elem[pagePropName];\n    }\n    \n    return elem[scrollPropName];\n  }\n  \n  // Setter\n  return collection.each(function() {\n    if (isWindow(this)) {\n      const scrollX = prop === 'left' ? value : this.pageXOffset;\n      const scrollY = prop === 'top' ? value : this.pageYOffset;\n      this.scrollTo(scrollX, scrollY);\n    } else {\n      this[scrollPropName] = value;\n    }\n  });\n}\n\n/**\n * Show elements\n * @param {jQCollection} collection\n * @returns {jQCollection}\n */\nexport function show(collection) {\n  return collection.each(function() {\n    if (this.style.display === 'none') {\n      this.style.display = '';\n    }\n    \n    // Check if still hidden by stylesheet\n    if (getStyles(this).display === 'none') {\n      this.style.display = getDefaultDisplay(this);\n    }\n  });\n}\n\n/**\n * Hide elements\n * @param {jQCollection} collection\n * @returns {jQCollection}\n */\nexport function hide(collection) {\n  return collection.each(function() {\n    this.style.display = 'none';\n  });\n}\n\n/**\n * Toggle visibility\n * @param {jQCollection} collection\n * @param {boolean} [state]\n * @returns {jQCollection}\n */\nexport function toggle(collection, state) {\n  return collection.each(function() {\n    const isHidden = getStyles(this).display === 'none';\n    const shouldShow = state === undefined ? isHidden : state;\n    \n    if (shouldShow) {\n      show({ 0: this, length: 1 });\n    } else {\n      hide({ 0: this, length: 1 });\n    }\n  });\n}\n\n/**\n * Get default display value for element\n */\nconst displayCache = {};\nfunction getDefaultDisplay(elem) {\n  const nodeName = elem.nodeName.toLowerCase();\n  \n  if (displayCache[nodeName]) {\n    return displayCache[nodeName];\n  }\n  \n  // Create temp element to check default display\n  const temp = document.createElement(nodeName);\n  document.body.appendChild(temp);\n  const display = getStyles(temp).display;\n  document.body.removeChild(temp);\n  \n  displayCache[nodeName] = display === 'none' ? 'block' : display;\n  return displayCache[nodeName];\n}\n\nexport default {\n  css,\n  width,\n  height,\n  innerWidth,\n  innerHeight,\n  outerWidth,\n  outerHeight,\n  offset,\n  position,\n  scrollTop,\n  scrollLeft,\n  show,\n  hide,\n  toggle\n};","/**\n * jQNext - Event Shortcuts\n * Shorthand event methods (click, focus, etc.)\n */\n\nimport { on, off, trigger } from './core.js';\n\n/**\n * Create event shortcut method\n * @param {string} type - Event type\n * @returns {Function}\n */\nfunction createShortcut(type) {\n  return function(data, fn) {\n    // Trigger if no arguments\n    if (arguments.length === 0) {\n      return trigger(this, type);\n    }\n    \n    // Bind handler\n    if (typeof data === 'function') {\n      fn = data;\n      data = undefined;\n    }\n    \n    return on(this, type, null, data, fn);\n  };\n}\n\n// Standard DOM events\nexport const blur = createShortcut('blur');\nexport const focus = createShortcut('focus');\nexport const focusin = createShortcut('focusin');\nexport const focusout = createShortcut('focusout');\nexport const load = createShortcut('load');\nexport const resize = createShortcut('resize');\nexport const scroll = createShortcut('scroll');\nexport const unload = createShortcut('unload');\nexport const click = createShortcut('click');\nexport const dblclick = createShortcut('dblclick');\nexport const mousedown = createShortcut('mousedown');\nexport const mouseup = createShortcut('mouseup');\nexport const mousemove = createShortcut('mousemove');\nexport const mouseover = createShortcut('mouseover');\nexport const mouseout = createShortcut('mouseout');\nexport const mouseenter = createShortcut('mouseenter');\nexport const mouseleave = createShortcut('mouseleave');\nexport const change = createShortcut('change');\nexport const select = createShortcut('select');\nexport const submit = createShortcut('submit');\nexport const keydown = createShortcut('keydown');\nexport const keypress = createShortcut('keypress');\nexport const keyup = createShortcut('keyup');\nexport const error = createShortcut('error');\nexport const contextmenu = createShortcut('contextmenu');\n\n/**\n * Bind handlers for mouseenter and mouseleave\n * @param {Function} handlerIn - Handler for mouseenter\n * @param {Function} [handlerOut] - Handler for mouseleave\n * @returns {jQCollection}\n */\nexport function hover(handlerIn, handlerOut) {\n  return this.mouseenter(handlerIn).mouseleave(handlerOut || handlerIn);\n}\n\n// Deprecated methods (still supported for compatibility)\n\n/**\n * Bind event (deprecated - use on)\n */\nexport function bind(types, data, fn) {\n  return on(this, types, null, data, fn);\n}\n\n/**\n * Unbind event (deprecated - use off)\n */\nexport function unbind(types, fn) {\n  return off(this, types, null, fn);\n}\n\n/**\n * Delegate event (deprecated - use on)\n */\nexport function delegate(selector, types, data, fn) {\n  return on(this, types, selector, data, fn);\n}\n\n/**\n * Undelegate event (deprecated - use off)\n */\nexport function undelegate(selector, types, fn) {\n  // No selector = remove all\n  if (arguments.length === 0) {\n    return off(this, '**');\n  }\n  \n  return off(this, types, selector, fn);\n}\n\n// Shortcut list for easy iteration\nexport const shortcuts = [\n  'blur', 'focus', 'focusin', 'focusout', 'load', 'resize', 'scroll',\n  'unload', 'click', 'dblclick', 'mousedown', 'mouseup', 'mousemove',\n  'mouseover', 'mouseout', 'mouseenter', 'mouseleave', 'change', 'select',\n  'submit', 'keydown', 'keypress', 'keyup', 'error', 'contextmenu'\n];\n\nexport default {\n  blur,\n  focus,\n  focusin,\n  focusout,\n  load,\n  resize,\n  scroll,\n  unload,\n  click,\n  dblclick,\n  mousedown,\n  mouseup,\n  mousemove,\n  mouseover,\n  mouseout,\n  mouseenter,\n  mouseleave,\n  change,\n  select,\n  submit,\n  keydown,\n  keypress,\n  keyup,\n  error,\n  contextmenu,\n  hover,\n  bind,\n  unbind,\n  delegate,\n  undelegate,\n  shortcuts\n};","/**\n * jQNext - Effects Core\n * Animation using Web Animation API\n */\n\nimport { isFunction, isNumeric, isPlainObject, isString } from '../utilities/type.js';\nimport { getInternalData, setInternalData, removeInternalData } from '../core/data.js';\nimport { Deferred } from '../utilities/deferred.js';\nimport { camelCase } from '../utilities/strings.js';\n\n// Animation speeds\nexport const speeds = {\n  slow: 600,\n  fast: 200,\n  _default: 400\n};\n\n// Global animation settings\nexport const fx = {\n  off: false,\n  interval: 13, // Legacy, not used with Web Animation API\n  speeds\n};\n\n// Easing functions mapping (jQuery to CSS)\nconst easingMap = {\n  linear: 'linear',\n  swing: 'ease-in-out',\n  easeInQuad: 'cubic-bezier(0.55, 0.085, 0.68, 0.53)',\n  easeOutQuad: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n  easeInOutQuad: 'cubic-bezier(0.455, 0.03, 0.515, 0.955)',\n  easeInCubic: 'cubic-bezier(0.55, 0.055, 0.675, 0.19)',\n  easeOutCubic: 'cubic-bezier(0.215, 0.61, 0.355, 1)',\n  easeInOutCubic: 'cubic-bezier(0.645, 0.045, 0.355, 1)',\n  easeInQuart: 'cubic-bezier(0.895, 0.03, 0.685, 0.22)',\n  easeOutQuart: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\n  easeInOutQuart: 'cubic-bezier(0.77, 0, 0.175, 1)',\n  easeInQuint: 'cubic-bezier(0.755, 0.05, 0.855, 0.06)',\n  easeOutQuint: 'cubic-bezier(0.23, 1, 0.32, 1)',\n  easeInOutQuint: 'cubic-bezier(0.86, 0, 0.07, 1)',\n  easeInSine: 'cubic-bezier(0.47, 0, 0.745, 0.715)',\n  easeOutSine: 'cubic-bezier(0.39, 0.575, 0.565, 1)',\n  easeInOutSine: 'cubic-bezier(0.445, 0.05, 0.55, 0.95)',\n  easeInExpo: 'cubic-bezier(0.95, 0.05, 0.795, 0.035)',\n  easeOutExpo: 'cubic-bezier(0.19, 1, 0.22, 1)',\n  easeInOutExpo: 'cubic-bezier(1, 0, 0, 1)',\n  easeInCirc: 'cubic-bezier(0.6, 0.04, 0.98, 0.335)',\n  easeOutCirc: 'cubic-bezier(0.075, 0.82, 0.165, 1)',\n  easeInOutCirc: 'cubic-bezier(0.785, 0.135, 0.15, 0.86)',\n  easeInBack: 'cubic-bezier(0.6, -0.28, 0.735, 0.045)',\n  easeOutBack: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n  easeInOutBack: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)'\n};\n\n// CSS properties that don't need 'px'\nconst cssNumber = new Set([\n  'columnCount', 'fillOpacity', 'flexGrow', 'flexShrink',\n  'fontWeight', 'lineHeight', 'opacity', 'order', 'orphans',\n  'widows', 'zIndex', 'zoom'\n]);\n\n/**\n * Get computed style value\n */\nfunction getStyle(elem, prop) {\n  return getComputedStyle(elem).getPropertyValue(prop);\n}\n\n/**\n * Normalize duration value\n * @param {number|string} duration\n * @returns {number}\n */\nfunction normalizeDuration(duration) {\n  if (typeof duration === 'number') {\n    return duration;\n  }\n  if (speeds[duration]) {\n    return speeds[duration];\n  }\n  return speeds._default;\n}\n\n/**\n * Normalize easing value\n * @param {string} easing\n * @returns {string}\n */\nfunction normalizeEasing(easing = 'swing') {\n  return easingMap[easing] || easing;\n}\n\n/**\n * Core animate function using Web Animation API\n * @param {jQCollection} collection\n * @param {Object} properties - CSS properties to animate\n * @param {number|string|Object} duration - Duration or options\n * @param {string|Function} easing - Easing or callback\n * @param {Function} [callback] - Complete callback\n * @returns {jQCollection}\n */\nexport function animate(collection, properties, duration, easing, callback) {\n  // Handle options object\n  let options = {};\n  \n  if (isPlainObject(duration)) {\n    options = { ...duration };\n  } else {\n    // Normalize arguments\n    if (isFunction(easing)) {\n      callback = easing;\n      easing = undefined;\n    } else if (isFunction(duration)) {\n      callback = duration;\n      duration = undefined;\n    }\n    \n    options = {\n      duration: normalizeDuration(duration),\n      easing: normalizeEasing(easing),\n      complete: callback\n    };\n  }\n  \n  // Normalize options\n  options.duration = normalizeDuration(options.duration);\n  options.easing = normalizeEasing(options.easing);\n  \n  // Handle fx.off\n  if (fx.off) {\n    options.duration = 0;\n  }\n  \n  // Handle objects without .each() method\n  if (!collection || typeof collection.each !== 'function') {\n    // If it's a single element, animate it directly\n    if (collection && collection.nodeType) {\n      animateElement(collection, properties, options);\n      return collection;\n    }\n    // If it's array-like, iterate manually\n    if (collection && typeof collection.length === 'number') {\n      for (let i = 0; i < collection.length; i++) {\n        if (collection[i] && collection[i].nodeType) {\n          animateElement(collection[i], properties, options);\n        }\n      }\n      return collection;\n    }\n    return collection;\n  }\n  \n  return collection.each(function() {\n    animateElement(this, properties, options);\n  });\n}\n\n/**\n * Animate a single element\n */\nfunction animateElement(elem, properties, options) {\n  // Get or create animation queue\n  let queue = getInternalData(elem, 'fxqueue') || [];\n  \n  const animationTask = () => {\n    return runAnimation(elem, properties, options);\n  };\n  \n  if (options.queue === false) {\n    // Run immediately\n    animationTask();\n  } else {\n    // Add to queue\n    queue.push(animationTask);\n    setInternalData(elem, 'fxqueue', queue);\n    \n    // Start queue if not running\n    if (queue.length === 1) {\n      processQueue(elem);\n    }\n  }\n}\n\n/**\n * Process animation queue\n */\nfunction processQueue(elem) {\n  const queue = getInternalData(elem, 'fxqueue');\n  \n  if (!queue || !queue.length) {\n    removeInternalData(elem, 'fxqueue');\n    return;\n  }\n  \n  const task = queue[0];\n  const promise = task();\n  \n  if (promise && promise.then) {\n    promise.then(() => {\n      queue.shift();\n      setInternalData(elem, 'fxqueue', queue);\n      processQueue(elem);\n    });\n  } else {\n    queue.shift();\n    processQueue(elem);\n  }\n}\n\n/**\n * Run animation on element\n */\nfunction runAnimation(elem, properties, options) {\n  const deferred = Deferred();\n  const computed = getComputedStyle(elem);\n  \n  // Build keyframes\n  const from = {};\n  const to = {};\n  \n  for (const prop in properties) {\n    const camelProp = camelCase(prop);\n    let targetValue = properties[prop];\n    \n    // Handle relative values (+=, -=)\n    const currentValue = parseFloat(computed[camelProp]) || 0;\n    \n    if (isString(targetValue)) {\n      const match = targetValue.match(/^([+-]=)(.+)$/);\n      if (match) {\n        const modifier = match[1];\n        const delta = parseFloat(match[2]) || 0;\n        targetValue = modifier === '+=' ? currentValue + delta : currentValue - delta;\n      }\n    }\n    \n    // Get current computed value\n    from[camelProp] = computed[camelProp];\n    \n    // Normalize target value\n    if (isNumeric(targetValue) && !cssNumber.has(camelProp)) {\n      to[camelProp] = targetValue + 'px';\n    } else {\n      to[camelProp] = targetValue;\n    }\n  }\n  \n  // Handle show/hide/toggle special values\n  const keyframes = [from, to];\n  \n  // Use Web Animation API\n  const animation = elem.animate(keyframes, {\n    duration: options.duration,\n    easing: options.easing,\n    fill: 'forwards'\n  });\n  \n  // Store animation for stop/finish\n  const animations = getInternalData(elem, 'animations') || [];\n  animations.push(animation);\n  setInternalData(elem, 'animations', animations);\n  \n  animation.onfinish = () => {\n    // Commit the animation styles to the element and cancel the animation\n    // This prevents fill: 'forwards' from continuing to apply styles\n    try {\n      animation.commitStyles();\n    } catch (e) {\n      // commitStyles may fail, manually apply styles\n      for (const prop in to) {\n        elem.style[prop] = to[prop];\n      }\n    }\n    animation.cancel();\n    \n    // Remove from animations list\n    const anims = getInternalData(elem, 'animations') || [];\n    const idx = anims.indexOf(animation);\n    if (idx > -1) anims.splice(idx, 1);\n    setInternalData(elem, 'animations', anims);\n    \n    // Call complete callback\n    if (options.complete) {\n      options.complete.call(elem);\n    }\n    \n    // Call step callback (final)\n    if (options.step) {\n      options.step.call(elem, 1, { elem, prop: '', now: 1, end: 1 });\n    }\n    \n    deferred.resolveWith(elem, [animation, true]);\n  };\n  \n  animation.oncancel = () => {\n    deferred.rejectWith(elem, [animation, false]);\n  };\n  \n  return deferred.promise();\n}\n\n/**\n * Stop animations\n * @param {jQCollection} collection\n * @param {boolean} [clearQueue=false]\n * @param {boolean} [jumpToEnd=false]\n * @returns {jQCollection}\n */\nexport function stop(collection, clearQueue = false, jumpToEnd = false) {\n  return collection.each(function() {\n    const animations = getInternalData(this, 'animations') || [];\n    \n    animations.forEach(anim => {\n      if (jumpToEnd) {\n        anim.finish();\n      } else {\n        anim.cancel();\n      }\n    });\n    \n    setInternalData(this, 'animations', []);\n    \n    if (clearQueue) {\n      setInternalData(this, 'fxqueue', []);\n    }\n  });\n}\n\n/**\n * Finish all animations (jump to end)\n * @param {jQCollection} collection\n * @param {string} [queue]\n * @returns {jQCollection}\n */\nexport function finish(collection, queue) {\n  return collection.each(function() {\n    // Clear queue\n    setInternalData(this, 'fxqueue', []);\n    \n    // Finish all animations\n    const animations = getInternalData(this, 'animations') || [];\n    animations.forEach(anim => anim.finish());\n    setInternalData(this, 'animations', []);\n  });\n}\n\n/**\n * Delay the queue\n * @param {jQCollection} collection\n * @param {number} time\n * @param {string} [type]\n * @returns {jQCollection}\n */\nexport function delay(collection, time, type) {\n  const duration = normalizeDuration(time);\n  \n  return collection.each(function() {\n    let queue = getInternalData(this, 'fxqueue') || [];\n    \n    queue.push(() => {\n      return new Promise(resolve => setTimeout(resolve, duration));\n    });\n    \n    setInternalData(this, 'fxqueue', queue);\n    \n    if (queue.length === 1) {\n      processQueue(this);\n    }\n  });\n}\n\n/**\n * Get/set the queue\n * @param {jQCollection} collection\n * @param {string|Array|Function} [type]\n * @param {Array|Function} [data]\n * @returns {Array|jQCollection}\n */\nexport function queue(collection, type, data) {\n  // Getter\n  if (type === undefined || isString(type) && data === undefined) {\n    const elem = collection[0];\n    if (!elem) return [];\n    return getInternalData(elem, 'fxqueue') || [];\n  }\n  \n  // Handle (type, data) and (data) signatures\n  if (!isString(type)) {\n    data = type;\n    type = 'fx';\n  }\n  \n  // Setter\n  return collection.each(function() {\n    let queue = getInternalData(this, 'fxqueue') || [];\n    \n    if (Array.isArray(data)) {\n      queue = data.slice();\n    } else if (isFunction(data)) {\n      queue.push(data);\n    }\n    \n    setInternalData(this, 'fxqueue', queue);\n    \n    if (queue.length === 1) {\n      processQueue(this);\n    }\n  });\n}\n\n/**\n * Execute the next item in the queue\n * @param {jQCollection} collection\n * @param {string} [type]\n * @returns {jQCollection}\n */\nexport function dequeue(collection, type) {\n  return collection.each(function() {\n    const queue = getInternalData(this, 'fxqueue') || [];\n    \n    if (queue.length) {\n      queue.shift();\n      setInternalData(this, 'fxqueue', queue);\n      processQueue(this);\n    }\n  });\n}\n\n/**\n * Clear the queue\n * @param {jQCollection} collection\n * @param {string} [type]\n * @returns {jQCollection}\n */\nexport function clearQueue(collection, type) {\n  return collection.each(function() {\n    setInternalData(this, 'fxqueue', []);\n  });\n}\n\n/**\n * Get a promise resolved when all animations complete\n * @param {jQCollection} collection\n * @param {string} [type]\n * @param {Object} [target]\n * @returns {Promise}\n */\nexport function promise(collection, type, target) {\n  const deferred = Deferred();\n  \n  let count = collection.length;\n  if (count === 0) {\n    deferred.resolveWith(collection);\n    return deferred.promise(target);\n  }\n  \n  collection.each(function() {\n    const animations = getInternalData(this, 'animations') || [];\n    const queue = getInternalData(this, 'fxqueue') || [];\n    \n    if (!animations.length && !queue.length) {\n      count--;\n      if (count === 0) {\n        deferred.resolveWith(collection);\n      }\n      return;\n    }\n    \n    // Wait for all animations to finish\n    Promise.all(animations.map(a => \n      new Promise(resolve => {\n        const orig = a.onfinish;\n        a.onfinish = () => {\n          if (orig) orig();\n          resolve();\n        };\n      })\n    )).then(() => {\n      count--;\n      if (count === 0) {\n        deferred.resolveWith(collection);\n      }\n    });\n  });\n  \n  return deferred.promise(target);\n}\n\nexport default {\n  animate,\n  stop,\n  finish,\n  delay,\n  queue,\n  dequeue,\n  clearQueue,\n  promise,\n  fx,\n  speeds\n};","/**\n * jQNext - Show/Hide Effects\n * Show, hide, toggle, slide, and fade effects\n */\n\nimport { isFunction, isString, isPlainObject } from '../utilities/type.js';\nimport { animate, speeds, fx } from './core.js';\nimport { getInternalData, setInternalData } from '../core/data.js';\n\n/**\n * Get the default display value for an element\n */\nconst displayCache = {};\nfunction getDefaultDisplay(elem) {\n  const nodeName = elem.nodeName.toLowerCase();\n  \n  if (displayCache[nodeName]) {\n    return displayCache[nodeName];\n  }\n  \n  const temp = document.createElement(nodeName);\n  document.body.appendChild(temp);\n  const display = getComputedStyle(temp).display;\n  document.body.removeChild(temp);\n  \n  displayCache[nodeName] = display === 'none' ? 'block' : display;\n  return displayCache[nodeName];\n}\n\n/**\n * Check if element is hidden\n */\nfunction isHidden(elem) {\n  return getComputedStyle(elem).display === 'none';\n}\n\n/**\n * Normalize show/hide options\n */\nfunction normalizeOptions(duration, easing, callback, useDefault = false) {\n  let options = {};\n  \n  if (isPlainObject(duration)) {\n    options = { ...duration };\n  } else {\n    if (isFunction(easing)) {\n      callback = easing;\n      easing = undefined;\n    } else if (isFunction(duration)) {\n      callback = duration;\n      duration = undefined;\n    }\n    \n    options = {\n      duration,\n      easing,\n      complete: callback\n    };\n  }\n  \n  // Normalize duration\n  // If no duration provided and useDefault is false, use 0 (instant)\n  // If useDefault is true, use speeds._default\n  if (options.duration === undefined) {\n    options.duration = useDefault ? speeds._default : 0;\n  } else if (isString(options.duration)) {\n    options.duration = speeds[options.duration] || speeds._default;\n  }\n  \n  // Handle fx.off\n  if (fx.off) {\n    options.duration = 0;\n  }\n  \n  return options;\n}\n\n/**\n * Helper: Show a single element\n */\nfunction showElement(elem, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  if (!options.duration) {\n    if (isHidden(elem)) {\n      elem.style.display = getInternalData(elem, 'olddisplay') || getDefaultDisplay(elem);\n    }\n    if (options.complete) options.complete.call(elem);\n    return;\n  }\n  \n  if (!isHidden(elem)) {\n    if (options.complete) options.complete.call(elem);\n    return;\n  }\n  \n  const display = getInternalData(elem, 'olddisplay') || getDefaultDisplay(elem);\n  elem.style.overflow = 'hidden';\n  elem.style.display = display;\n  const targetHeight = elem.offsetHeight;\n  const targetWidth = elem.offsetWidth;\n  elem.style.height = '0px';\n  elem.style.width = '0px';\n  elem.style.opacity = '0';\n  \n  animate({ 0: elem, length: 1 }, {\n    height: targetHeight,\n    width: targetWidth,\n    opacity: 1\n  }, {\n    duration: options.duration,\n    easing: options.easing,\n    complete: () => {\n      elem.style.overflow = '';\n      elem.style.height = '';\n      elem.style.width = '';\n      if (options.complete) options.complete.call(elem);\n    }\n  });\n}\n\n/**\n * Helper: Hide a single element\n */\nfunction hideElement(elem, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  if (!options.duration) {\n    if (!isHidden(elem)) {\n      const display = getComputedStyle(elem).display;\n      if (display !== 'none') {\n        setInternalData(elem, 'olddisplay', display);\n      }\n      elem.style.display = 'none';\n    }\n    if (options.complete) options.complete.call(elem);\n    return;\n  }\n  \n  if (isHidden(elem)) {\n    if (options.complete) options.complete.call(elem);\n    return;\n  }\n  \n  const display = getComputedStyle(elem).display;\n  if (display !== 'none') {\n    setInternalData(elem, 'olddisplay', display);\n  }\n  elem.style.overflow = 'hidden';\n  \n  animate({ 0: elem, length: 1 }, {\n    height: 0,\n    width: 0,\n    opacity: 0\n  }, {\n    duration: options.duration,\n    easing: options.easing,\n    complete: () => {\n      elem.style.display = 'none';\n      elem.style.overflow = '';\n      elem.style.height = '';\n      elem.style.width = '';\n      elem.style.opacity = '';\n      if (options.complete) options.complete.call(elem);\n    }\n  });\n}\n\n/**\n * Helper: Slide down a single element\n */\nfunction slideDownElement(elem, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  if (!isHidden(elem)) {\n    if (options.complete) options.complete.call(elem);\n    return;\n  }\n  \n  const display = getInternalData(elem, 'olddisplay') || getDefaultDisplay(elem);\n  elem.style.display = display;\n  elem.style.overflow = 'hidden';\n  const targetHeight = elem.offsetHeight;\n  elem.style.height = '0px';\n  \n  animate({ 0: elem, length: 1 }, {\n    height: targetHeight\n  }, {\n    duration: options.duration,\n    easing: options.easing,\n    complete: () => {\n      elem.style.overflow = '';\n      elem.style.height = '';\n      if (options.complete) options.complete.call(elem);\n    }\n  });\n}\n\n/**\n * Helper: Slide up a single element\n */\nfunction slideUpElement(elem, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  if (isHidden(elem)) {\n    if (options.complete) options.complete.call(elem);\n    return;\n  }\n  \n  const display = getComputedStyle(elem).display;\n  if (display !== 'none') {\n    setInternalData(elem, 'olddisplay', display);\n  }\n  elem.style.overflow = 'hidden';\n  \n  animate({ 0: elem, length: 1 }, {\n    height: 0\n  }, {\n    duration: options.duration,\n    easing: options.easing,\n    complete: () => {\n      elem.style.display = 'none';\n      elem.style.overflow = '';\n      elem.style.height = '';\n      if (options.complete) options.complete.call(elem);\n    }\n  });\n}\n\n/**\n * Helper: Fade in a single element\n */\nfunction fadeInElement(elem, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  if (!isHidden(elem) && getComputedStyle(elem).opacity !== '0') {\n    if (options.complete) options.complete.call(elem);\n    return;\n  }\n  \n  const display = getInternalData(elem, 'olddisplay') || getDefaultDisplay(elem);\n  elem.style.display = display;\n  elem.style.opacity = '0';\n  \n  animate({ 0: elem, length: 1 }, {\n    opacity: 1\n  }, {\n    duration: options.duration,\n    easing: options.easing,\n    complete: () => {\n      elem.style.opacity = '';\n      if (options.complete) options.complete.call(elem);\n    }\n  });\n}\n\n/**\n * Helper: Fade out a single element\n */\nfunction fadeOutElement(elem, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  if (isHidden(elem)) {\n    if (options.complete) options.complete.call(elem);\n    return;\n  }\n  \n  const display = getComputedStyle(elem).display;\n  if (display !== 'none') {\n    setInternalData(elem, 'olddisplay', display);\n  }\n  \n  animate({ 0: elem, length: 1 }, {\n    opacity: 0\n  }, {\n    duration: options.duration,\n    easing: options.easing,\n    complete: () => {\n      elem.style.display = 'none';\n      elem.style.opacity = '';\n      if (options.complete) options.complete.call(elem);\n    }\n  });\n}\n\n/**\n * Show elements with optional animation\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function show(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  // No animation\n  if (!options.duration) {\n    return collection.each(function() {\n      if (isHidden(this)) {\n        this.style.display = getInternalData(this, 'olddisplay') || getDefaultDisplay(this);\n      }\n      if (options.complete) {\n        options.complete.call(this);\n      }\n    });\n  }\n  \n  // With animation\n  return collection.each(function() {\n    if (!isHidden(this)) {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    // Store original display\n    const display = getInternalData(this, 'olddisplay') || getDefaultDisplay(this);\n    \n    // Set initial state\n    this.style.overflow = 'hidden';\n    this.style.display = display;\n    \n    // Get natural dimensions\n    const targetHeight = this.offsetHeight;\n    const targetWidth = this.offsetWidth;\n    \n    // Start from zero\n    this.style.height = '0px';\n    this.style.width = '0px';\n    this.style.opacity = '0';\n    \n    // Animate to natural size\n    animate({ 0: this, length: 1 }, {\n      height: targetHeight,\n      width: targetWidth,\n      opacity: 1\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.overflow = '';\n        this.style.height = '';\n        this.style.width = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Hide elements with optional animation\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function hide(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  // No animation\n  if (!options.duration) {\n    return collection.each(function() {\n      if (!isHidden(this)) {\n        // Store current display\n        const display = getComputedStyle(this).display;\n        if (display !== 'none') {\n          setInternalData(this, 'olddisplay', display);\n        }\n        this.style.display = 'none';\n      }\n      if (options.complete) {\n        options.complete.call(this);\n      }\n    });\n  }\n  \n  // With animation\n  return collection.each(function() {\n    if (isHidden(this)) {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    // Store original display\n    const display = getComputedStyle(this).display;\n    if (display !== 'none') {\n      setInternalData(this, 'olddisplay', display);\n    }\n    \n    this.style.overflow = 'hidden';\n    \n    animate({ 0: this, length: 1 }, {\n      height: 0,\n      width: 0,\n      opacity: 0\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.display = 'none';\n        this.style.overflow = '';\n        this.style.height = '';\n        this.style.width = '';\n        this.style.opacity = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Toggle visibility with optional animation\n * @param {jQCollection} collection\n * @param {boolean|number|string|Object} [state]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function toggle(collection, state, easing, callback) {\n  // Handle boolean state\n  if (typeof state === 'boolean') {\n    return state ? show(collection) : hide(collection);\n  }\n  \n  return collection.each(function() {\n    const elem = this;\n    if (isHidden(elem)) {\n      showElement(elem, state, easing, callback);\n    } else {\n      hideElement(elem, state, easing, callback);\n    }\n  });\n}\n\n/**\n * Slide down (show with height animation)\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function slideDown(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  return collection.each(function() {\n    if (!isHidden(this)) {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    const display = getInternalData(this, 'olddisplay') || getDefaultDisplay(this);\n    \n    // Show element to get natural height\n    this.style.display = display;\n    this.style.overflow = 'hidden';\n    const targetHeight = this.offsetHeight;\n    \n    // Start from zero height\n    this.style.height = '0px';\n    \n    animate({ 0: this, length: 1 }, {\n      height: targetHeight\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.overflow = '';\n        this.style.height = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Slide up (hide with height animation)\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function slideUp(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  return collection.each(function() {\n    if (isHidden(this)) {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    // Store original display\n    const display = getComputedStyle(this).display;\n    if (display !== 'none') {\n      setInternalData(this, 'olddisplay', display);\n    }\n    \n    this.style.overflow = 'hidden';\n    \n    animate({ 0: this, length: 1 }, {\n      height: 0\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.display = 'none';\n        this.style.overflow = '';\n        this.style.height = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Toggle slide\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function slideToggle(collection, duration, easing, callback) {\n  return collection.each(function() {\n    const elem = this;\n    if (isHidden(elem)) {\n      slideDownElement(elem, duration, easing, callback);\n    } else {\n      slideUpElement(elem, duration, easing, callback);\n    }\n  });\n}\n\n/**\n * Fade in\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function fadeIn(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  return collection.each(function() {\n    if (!isHidden(this) && getComputedStyle(this).opacity !== '0') {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    const display = getInternalData(this, 'olddisplay') || getDefaultDisplay(this);\n    \n    this.style.display = display;\n    this.style.opacity = '0';\n    \n    animate({ 0: this, length: 1 }, {\n      opacity: 1\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.opacity = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Fade out\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function fadeOut(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  return collection.each(function() {\n    if (isHidden(this)) {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    // Store original display\n    const display = getComputedStyle(this).display;\n    if (display !== 'none') {\n      setInternalData(this, 'olddisplay', display);\n    }\n    \n    animate({ 0: this, length: 1 }, {\n      opacity: 0\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.display = 'none';\n        this.style.opacity = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Fade to specific opacity\n * @param {jQCollection} collection\n * @param {number|string} duration\n * @param {number} opacity\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function fadeTo(collection, duration, opacity, callback) {\n  const options = normalizeOptions(duration, undefined, callback);\n  \n  return collection.each(function() {\n    // Show if hidden\n    if (isHidden(this)) {\n      this.style.opacity = '0';\n      this.style.display = getInternalData(this, 'olddisplay') || getDefaultDisplay(this);\n    }\n    \n    animate({ 0: this, length: 1 }, {\n      opacity: opacity\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: options.complete\n    });\n  });\n}\n\n/**\n * Toggle fade\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function fadeToggle(collection, duration, easing, callback) {\n  return collection.each(function() {\n    const elem = this;\n    if (isHidden(elem) || getComputedStyle(elem).opacity === '0') {\n      fadeInElement(elem, duration, easing, callback);\n    } else {\n      fadeOutElement(elem, duration, easing, callback);\n    }\n  });\n}\n\nexport default {\n  show,\n  hide,\n  toggle,\n  slideDown,\n  slideUp,\n  slideToggle,\n  fadeIn,\n  fadeOut,\n  fadeTo,\n  fadeToggle\n};","/**\n * jQNext - AJAX Core\n * Modern AJAX using Fetch API with jQuery-compatible interface\n */\n\nimport { isFunction, isPlainObject, isString, isArray } from '../utilities/type.js';\nimport { extend } from '../utilities/objects.js';\nimport { Deferred } from '../utilities/deferred.js';\nimport { param } from '../utilities/strings.js';\nimport { trigger } from '../events/core.js';\n\n// Default AJAX settings\nexport const ajaxSettings = {\n  url: location.href,\n  type: 'GET',\n  contentType: 'application/x-www-form-urlencoded; charset=UTF-8',\n  processData: true,\n  async: true,\n  accepts: {\n    '*': '*/*',\n    text: 'text/plain',\n    html: 'text/html',\n    xml: 'application/xml, text/xml',\n    json: 'application/json, text/javascript',\n    script: 'text/javascript, application/javascript'\n  },\n  dataType: null,\n  timeout: 0,\n  cache: true,\n  crossDomain: false,\n  headers: {},\n  global: true\n};\n\n// Active request count\nlet active = 0;\n\n/**\n * Setup default AJAX settings\n * @param {Object} settings\n */\nexport function ajaxSetup(settings) {\n  extend(ajaxSettings, settings);\n}\n\n/**\n * AJAX prefilters\n */\nconst prefilters = [];\n\n/**\n * Add AJAX prefilter\n * @param {string|Function} dataTypeOrHandler\n * @param {Function} [handler]\n */\nexport function ajaxPrefilter(dataTypeOrHandler, handler) {\n  if (isFunction(dataTypeOrHandler)) {\n    handler = dataTypeOrHandler;\n    dataTypeOrHandler = '*';\n  }\n  prefilters.push({ dataType: dataTypeOrHandler, handler });\n}\n\n/**\n * AJAX transports\n */\nconst transports = {};\n\n/**\n * Add AJAX transport\n * @param {string} dataType\n * @param {Function} handler\n */\nexport function ajaxTransport(dataType, handler) {\n  transports[dataType] = handler;\n}\n\n/**\n * Main AJAX function\n * @param {string|Object} url - URL or settings object\n * @param {Object} [settings] - AJAX settings\n * @returns {Object} - jqXHR object (Deferred-compatible)\n */\nexport function ajax(url, settings) {\n  // Handle overloaded signature\n  if (typeof url === 'object') {\n    settings = url;\n    url = settings.url;\n  }\n  \n  // Merge settings with defaults\n  const s = extend({}, ajaxSettings, settings);\n  s.url = url || s.url;\n  s.type = (s.type || s.method || 'GET').toUpperCase();\n  \n  // Process data types\n  const dataTypes = (s.dataType || '*').toLowerCase().split(/\\s+/);\n  \n  // Create jqXHR (Deferred-compatible) - MUST be before prefilters\n  const deferred = Deferred();\n  const jqXHR = deferred.promise({\n    readyState: 0,\n    status: 0,\n    statusText: '',\n    responseText: '',\n    responseJSON: null,\n    responseXML: null,\n    \n    getResponseHeader(name) {\n      return this._responseHeaders?.[name.toLowerCase()];\n    },\n    \n    getAllResponseHeaders() {\n      if (!this._responseHeaders) return '';\n      return Object.entries(this._responseHeaders)\n        .map(([k, v]) => `${k}: ${v}`)\n        .join('\\r\\n');\n    },\n    \n    setRequestHeader(name, value) {\n      if (this.readyState === 0) {\n        s.headers[name] = value;\n      }\n      return this;\n    },\n    \n    overrideMimeType(type) {\n      s.mimeType = type;\n      return this;\n    },\n    \n    abort(statusText) {\n      if (controller) {\n        controller.abort();\n      }\n      done(0, statusText || 'abort');\n      return this;\n    }\n  });\n  \n  // Run prefilters (after jqXHR is created)\n  prefilters.forEach(({ dataType, handler }) => {\n    if (dataType === '*' || dataTypes.includes(dataType)) {\n      handler(s, settings || {}, jqXHR);\n    }\n  });\n  \n  // Callbacks\n  jqXHR.success = jqXHR.done;\n  jqXHR.error = jqXHR.fail;\n  jqXHR.complete = jqXHR.always;\n  \n  // Abort controller\n  let controller;\n  \n  // Process URL for cache busting\n  let requestUrl = s.url;\n  \n  if (!s.cache && s.type === 'GET') {\n    const timestamp = '_=' + Date.now();\n    requestUrl += (requestUrl.indexOf('?') > -1 ? '&' : '?') + timestamp;\n  }\n  \n  // Process data\n  let requestData = s.data;\n  \n  if (requestData && s.processData && !isString(requestData)) {\n    requestData = param(requestData);\n  }\n  \n  // Append data to URL for GET requests\n  if (requestData && s.type === 'GET') {\n    requestUrl += (requestUrl.indexOf('?') > -1 ? '&' : '?') + requestData;\n    requestData = null;\n  }\n  \n  // Build fetch options\n  const fetchOptions = {\n    method: s.type,\n    headers: new Headers(),\n    credentials: s.xhrFields?.withCredentials ? 'include' : 'same-origin'\n  };\n  \n  // Set headers\n  if (s.contentType !== false && s.type !== 'GET') {\n    fetchOptions.headers.set('Content-Type', s.contentType);\n  }\n  \n  // Accept header based on dataType\n  const accept = s.accepts[dataTypes[0]] || s.accepts['*'];\n  fetchOptions.headers.set('Accept', accept);\n  \n  // X-Requested-With header\n  if (!s.crossDomain) {\n    fetchOptions.headers.set('X-Requested-With', 'XMLHttpRequest');\n  }\n  \n  // Custom headers\n  for (const header in s.headers) {\n    fetchOptions.headers.set(header, s.headers[header]);\n  }\n  \n  // Set body for non-GET requests\n  if (requestData && s.type !== 'GET') {\n    if (s.contentType && s.contentType.indexOf('json') > -1) {\n      fetchOptions.body = isString(requestData) ? requestData : JSON.stringify(requestData);\n    } else if (requestData instanceof FormData) {\n      fetchOptions.body = requestData;\n      // Let browser set content-type for FormData\n      fetchOptions.headers.delete('Content-Type');\n    } else {\n      fetchOptions.body = requestData;\n    }\n  }\n  \n  // Timeout handling\n  if (s.timeout > 0) {\n    controller = new AbortController();\n    fetchOptions.signal = controller.signal;\n    \n    setTimeout(() => {\n      if (jqXHR.readyState < 4) {\n        controller.abort();\n        done(0, 'timeout');\n      }\n    }, s.timeout);\n  }\n  \n  // Before send callback\n  if (s.beforeSend) {\n    if (s.beforeSend.call(s.context || s, jqXHR, s) === false) {\n      return jqXHR;\n    }\n  }\n  \n  // Global ajaxStart\n  if (s.global && active++ === 0) {\n    triggerGlobal('ajaxStart');\n  }\n  \n  // Global ajaxSend\n  if (s.global) {\n    triggerGlobal('ajaxSend', [jqXHR, s]);\n  }\n  \n  jqXHR.readyState = 1;\n  \n  // Execute fetch\n  fetch(requestUrl, fetchOptions)\n    .then(response => {\n      jqXHR.readyState = 2;\n      jqXHR.status = response.status;\n      jqXHR.statusText = response.statusText;\n      \n      // Store headers\n      jqXHR._responseHeaders = {};\n      response.headers.forEach((value, name) => {\n        jqXHR._responseHeaders[name.toLowerCase()] = value;\n      });\n      \n      // Check for HTTP errors\n      if (!response.ok) {\n        throw response;\n      }\n      \n      // Parse response based on dataType\n      const contentType = response.headers.get('Content-Type') || '';\n      let dataType = dataTypes[0];\n      \n      // Auto-detect data type if not specified\n      if (!dataType || dataType === '*') {\n        if (contentType.indexOf('json') > -1) {\n          dataType = 'json';\n        } else if (contentType.indexOf('xml') > -1) {\n          dataType = 'xml';\n        } else if (contentType.indexOf('html') > -1) {\n          dataType = 'html';\n        } else {\n          dataType = 'text';\n        }\n      }\n      \n      // Parse response\n      if (dataType === 'json') {\n        return response.json().then(data => {\n          jqXHR.responseJSON = data;\n          return data;\n        });\n      } else if (dataType === 'xml') {\n        return response.text().then(text => {\n          jqXHR.responseText = text;\n          const parser = new DOMParser();\n          jqXHR.responseXML = parser.parseFromString(text, 'text/xml');\n          return jqXHR.responseXML;\n        });\n      } else {\n        return response.text().then(text => {\n          jqXHR.responseText = text;\n          return text;\n        });\n      }\n    })\n    .then(data => {\n      // Use setTimeout to ensure done() callbacks run outside promise chain\n      // This prevents errors in user callbacks from being caught by our catch block\n      setTimeout(() => {\n        done(jqXHR.status, jqXHR.statusText, data);\n      }, 0);\n    })\n    .catch(error => {\n      if (error.name === 'AbortError') {\n        // Already handled by abort\n        return;\n      }\n      \n      jqXHR.status = error.status || 0;\n      jqXHR.statusText = error.statusText || 'error';\n      \n      setTimeout(() => {\n        done(jqXHR.status, jqXHR.statusText, null, error);\n      }, 0);\n    });\n  \n  /**\n   * Complete the request\n   */\n  function done(status, statusText, data, error) {\n    if (jqXHR.readyState === 4) return;\n    \n    jqXHR.readyState = 4;\n    jqXHR.status = status;\n    jqXHR.statusText = statusText;\n    \n    const isSuccess = status >= 200 && status < 300 || status === 304;\n    \n    if (isSuccess) {\n      // Success callbacks\n      if (s.success) {\n        s.success.call(s.context || s, data, statusText, jqXHR);\n      }\n      deferred.resolveWith(s.context || s, [data, statusText, jqXHR]);\n    } else {\n      // Error callbacks\n      if (s.error) {\n        s.error.call(s.context || s, jqXHR, statusText, error);\n      }\n      deferred.rejectWith(s.context || s, [jqXHR, statusText, error]);\n    }\n    \n    // Complete callbacks\n    if (s.complete) {\n      s.complete.call(s.context || s, jqXHR, statusText);\n    }\n    \n    // Global events\n    if (s.global) {\n      triggerGlobal('ajaxComplete', [jqXHR, s]);\n      \n      if (isSuccess) {\n        triggerGlobal('ajaxSuccess', [jqXHR, s, data]);\n      } else {\n        triggerGlobal('ajaxError', [jqXHR, s, error]);\n      }\n      \n      if (--active === 0) {\n        triggerGlobal('ajaxStop');\n      }\n    }\n  }\n  \n  return jqXHR;\n}\n\n/**\n * Trigger global AJAX event\n */\nfunction triggerGlobal(type, args = []) {\n  // Use the global jQuery reference (presideJQuery in Preside)\n  // jQuery event handlers expect parameters as separate arguments, not in event.detail\n  const $ = typeof presideJQuery !== 'undefined' ? presideJQuery :\n           typeof jQuery !== 'undefined' ? jQuery : null;\n  \n  if ($) {\n    $(document).trigger(type, args);\n  }\n}\n\n/**\n * Shorthand GET request\n * @param {string} url\n * @param {Object|Function} [data]\n * @param {Function} [success]\n * @param {string} [dataType]\n * @returns {Object} jqXHR\n */\nexport function get(url, data, success, dataType) {\n  // Shift arguments if data is a function\n  if (isFunction(data)) {\n    dataType = dataType || success;\n    success = data;\n    data = undefined;\n  }\n  \n  return ajax({\n    url,\n    data,\n    success,\n    dataType,\n    type: 'GET'\n  });\n}\n\n/**\n * Shorthand POST request\n * @param {string} url\n * @param {Object|Function} [data]\n * @param {Function} [success]\n * @param {string} [dataType]\n * @returns {Object} jqXHR\n */\nexport function post(url, data, success, dataType) {\n  if (isFunction(data)) {\n    dataType = dataType || success;\n    success = data;\n    data = undefined;\n  }\n  \n  return ajax({\n    url,\n    data,\n    success,\n    dataType,\n    type: 'POST'\n  });\n}\n\n/**\n * Get JSON\n * @param {string} url\n * @param {Object|Function} [data]\n * @param {Function} [success]\n * @returns {Object} jqXHR\n */\nexport function getJSON(url, data, success) {\n  if (isFunction(data)) {\n    success = data;\n    data = undefined;\n  }\n  \n  return get(url, data, success, 'json');\n}\n\n/**\n * Load and execute script\n * @param {string} url\n * @param {Function} [success]\n * @returns {Object} jqXHR\n */\nexport function getScript(url, success) {\n  return ajax({\n    url,\n    type: 'GET',\n    dataType: 'script',\n    cache: true,\n    success\n  }).then(script => {\n    // Execute the script\n    const scriptElem = document.createElement('script');\n    scriptElem.text = script;\n    document.head.appendChild(scriptElem).parentNode.removeChild(scriptElem);\n    return script;\n  });\n}\n\n/**\n * Load HTML into element\n * @param {jQCollection} collection\n * @param {string} url\n * @param {Object|Function} [data]\n * @param {Function} [complete]\n * @returns {jQCollection}\n */\nexport function load(collection, url, data, complete) {\n  if (!collection.length) {\n    return collection;\n  }\n  \n  // Ensure url is a string\n  if (typeof url !== 'string') {\n    return collection;\n  }\n  \n  // Handle argument shifting\n  if (isFunction(data)) {\n    complete = data;\n    data = undefined;\n  }\n  \n  // Check for selector in URL\n  const selector = url.indexOf(' ') > -1\n    ? url.slice(url.indexOf(' ') + 1)\n    : null;\n  const requestUrl = selector ? url.slice(0, url.indexOf(' ')) : url;\n  \n  ajax({\n    url: requestUrl,\n    type: data ? 'POST' : 'GET',\n    dataType: 'html',\n    data\n  }).done((responseText) => {\n    // If selector specified, extract matching content\n    let content = responseText;\n    \n    if (selector) {\n      const temp = document.createElement('div');\n      temp.innerHTML = responseText;\n      const found = temp.querySelectorAll(selector);\n      content = '';\n      found.forEach(el => content += el.innerHTML);\n    }\n    \n    // Insert content\n    collection.each(function() {\n      this.innerHTML = content;\n    });\n    \n    // Execute callback\n    if (complete) {\n      collection.each(function() {\n        complete.call(this, responseText, 'success', null);\n      });\n    }\n  }).fail((jqXHR, status, error) => {\n    if (complete) {\n      collection.each(function() {\n        complete.call(this, jqXHR.responseText || '', status, jqXHR);\n      });\n    }\n  });\n  \n  return collection;\n}\n\nexport default {\n  ajax,\n  ajaxSetup,\n  ajaxPrefilter,\n  ajaxTransport,\n  ajaxSettings,\n  get,\n  post,\n  getJSON,\n  getScript,\n  load\n};","/**\n * jQNext - Form Serialization\n * Serialize forms and form elements\n */\n\nimport { param } from '../utilities/strings.js';\n\n/**\n * Elements that can be serialized\n */\nconst rsubmittable = /^(?:input|select|textarea|keygen)/i;\nconst rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i;\nconst rcheckableType = /^(?:checkbox|radio)$/i;\n\n/**\n * Get serializable form elements\n * @param {Element} form\n * @returns {Element[]}\n */\nfunction getSerializableElements(form) {\n  const elements = [];\n  \n  // Handle form or collection of elements\n  if (form.elements) {\n    // It's a form\n    const formElements = form.elements;\n    for (let i = 0; i < formElements.length; i++) {\n      elements.push(formElements[i]);\n    }\n  } else if (form.length !== undefined) {\n    // It's a collection\n    for (let i = 0; i < form.length; i++) {\n      if (form[i].elements) {\n        // Form element\n        const formElements = form[i].elements;\n        for (let j = 0; j < formElements.length; j++) {\n          elements.push(formElements[j]);\n        }\n      } else {\n        elements.push(form[i]);\n      }\n    }\n  } else {\n    elements.push(form);\n  }\n  \n  return elements.filter(elem => {\n    const type = elem.type;\n    const name = elem.name;\n    \n    // Must have a name\n    if (!name) return false;\n    \n    // Must not be disabled\n    if (elem.disabled) return false;\n    \n    // Must match submittable pattern\n    if (!rsubmittable.test(elem.nodeName)) return false;\n    \n    // Must not be submit/button/image/reset/file type\n    if (rsubmitterTypes.test(type)) return false;\n    \n    // Checkboxes and radios must be checked\n    if (rcheckableType.test(type) && !elem.checked) return false;\n    \n    return true;\n  });\n}\n\n/**\n * Get the value of a form element\n * @param {Element} elem\n * @returns {string|string[]}\n */\nfunction getValue(elem) {\n  const type = elem.type;\n  \n  // Select element\n  if (elem.nodeName.toLowerCase() === 'select') {\n    if (elem.multiple) {\n      const values = [];\n      const options = elem.options;\n      for (let i = 0; i < options.length; i++) {\n        if (options[i].selected) {\n          values.push(options[i].value);\n        }\n      }\n      return values;\n    }\n    return elem.value;\n  }\n  \n  // Checkbox/radio\n  if (rcheckableType.test(type)) {\n    return elem.value;\n  }\n  \n  // Normalize line endings\n  return elem.value.replace(/\\r?\\n/g, '\\r\\n');\n}\n\n/**\n * Serialize form elements to array of {name, value} objects\n * @param {jQCollection} collection\n * @returns {Array}\n */\nexport function serializeArray(collection) {\n  const result = [];\n  \n  // Get all elements to serialize\n  const elements = [];\n  for (let i = 0; i < collection.length; i++) {\n    elements.push(...getSerializableElements(collection[i]));\n  }\n  \n  // Build result array\n  elements.forEach(elem => {\n    const name = elem.name;\n    const value = getValue(elem);\n    \n    if (Array.isArray(value)) {\n      // Multiple select values\n      value.forEach(v => {\n        result.push({ name, value: v });\n      });\n    } else {\n      result.push({ name, value });\n    }\n  });\n  \n  return result;\n}\n\n/**\n * Serialize form elements to URL-encoded string\n * @param {jQCollection} collection\n * @returns {string}\n */\nexport function serialize(collection) {\n  return param(serializeArray(collection));\n}\n\nexport default {\n  serialize,\n  serializeArray\n};","/**\n * jQNext - jQuery UI Compatibility Layer\n * Widget factory and UI utilities for jQuery UI 1.11.x support\n */\n\nimport { isFunction, isPlainObject, isArray } from '../utilities/type.js';\nimport { extend, each } from '../utilities/objects.js';\nimport { setData, getDataValue, removeData } from '../core/data.js';\nimport { on, off, trigger } from '../events/core.js';\n\n/**\n * UI namespace\n */\nexport const ui = {\n  version: '1.11.4-compat',\n  \n  // Key codes used by jQuery UI\n  keyCode: {\n    BACKSPACE: 8,\n    COMMA: 188,\n    DELETE: 46,\n    DOWN: 40,\n    END: 35,\n    ENTER: 13,\n    ESCAPE: 27,\n    HOME: 36,\n    LEFT: 37,\n    PAGE_DOWN: 34,\n    PAGE_UP: 33,\n    PERIOD: 190,\n    RIGHT: 39,\n    SPACE: 32,\n    TAB: 9,\n    UP: 38\n  },\n  \n  // Safe active element access\n  safeActiveElement: function(document) {\n    try {\n      return document.activeElement;\n    } catch (error) {\n      return document.body;\n    }\n  },\n  \n  // Safe blur\n  safeBlur: function(element) {\n    if (element && element.nodeName.toLowerCase() !== 'body') {\n      try {\n        element.blur();\n      } catch (error) {\n        // Ignore errors\n      }\n    }\n  }\n};\n\n/**\n * Widget factory storage\n */\nconst widgetUuid = 0;\nconst widgetSlice = Array.prototype.slice;\n\n/**\n * Base Widget class\n */\nexport class Widget {\n  constructor() {\n    this.widgetName = 'widget';\n    this.widgetEventPrefix = '';\n    this.defaultElement = '<div>';\n    this.options = {\n      disabled: false,\n      create: null\n    };\n    this.element = null;\n    this.uuid = widgetUuid;\n    this.eventNamespace = '';\n    this.bindings = null;\n    this.hoverable = null;\n    this.focusable = null;\n  }\n  \n  _createWidget(options, element) {\n    this.element = element instanceof Element ? element : element[0];\n    this.uuid = widgetUuid++;\n    this.eventNamespace = '.' + this.widgetName + this.uuid;\n    this.bindings = [];\n    this.hoverable = [];\n    this.focusable = [];\n    \n    // Merge options\n    this.options = extend(true, {},\n      this.options,\n      this._getCreateOptions(),\n      options\n    );\n    \n    // Store instance\n    setData(this.element, 'ui-' + this.widgetName, this);\n    \n    this._create();\n    this._trigger('create', null, this._getCreateEventData());\n    this._init();\n  }\n  \n  _getCreateOptions() {\n    return {};\n  }\n  \n  _getCreateEventData() {\n    return {};\n  }\n  \n  _create() {}\n  \n  _init() {}\n  \n  destroy() {\n    this._destroy();\n    \n    // Remove data\n    removeData(this.element, 'ui-' + this.widgetName);\n    \n    // Unbind events\n    this.bindings.forEach(binding => {\n      off({ 0: binding, length: 1 }, this.eventNamespace);\n    });\n    \n    // Remove hover/focus classes\n    this.hoverable.forEach(elem => {\n      elem.classList.remove('ui-state-hover');\n    });\n    this.focusable.forEach(elem => {\n      elem.classList.remove('ui-state-focus');\n    });\n  }\n  \n  _destroy() {}\n  \n  widget() {\n    return this.element;\n  }\n  \n  option(key, value) {\n    if (arguments.length === 0) {\n      return extend({}, this.options);\n    }\n    \n    if (typeof key === 'string') {\n      const parts = key.split('.');\n      let curOption = this.options;\n      \n      // Getter\n      if (value === undefined) {\n        for (let i = 0; i < parts.length; i++) {\n          curOption = curOption[parts[i]];\n          if (curOption === undefined) {\n            return undefined;\n          }\n        }\n        return curOption;\n      }\n      \n      // Setter\n      const lastPart = parts.pop();\n      for (let i = 0; i < parts.length; i++) {\n        curOption = curOption[parts[i]] = curOption[parts[i]] || {};\n      }\n      curOption[lastPart] = value;\n      this._setOption(lastPart, value);\n    } else {\n      // Object of options\n      for (const k in key) {\n        this._setOption(k, key[k]);\n      }\n    }\n    \n    return this;\n  }\n  \n  _setOption(key, value) {\n    this.options[key] = value;\n    \n    if (key === 'disabled') {\n      this._toggleClass(this.widget(), null, 'ui-state-disabled', !!value);\n      if (value) {\n        this._removeClass(this.hoverable, null, 'ui-state-hover');\n        this._removeClass(this.focusable, null, 'ui-state-focus');\n      }\n    }\n    \n    return this;\n  }\n  \n  _setOptions(options) {\n    for (const key in options) {\n      this._setOption(key, options[key]);\n    }\n    return this;\n  }\n  \n  enable() {\n    return this._setOptions({ disabled: false });\n  }\n  \n  disable() {\n    return this._setOptions({ disabled: true });\n  }\n  \n  _on(suppressDisabledCheck, element, handlers) {\n    // Handle argument shifting\n    if (typeof suppressDisabledCheck !== 'boolean') {\n      handlers = element;\n      element = suppressDisabledCheck;\n      suppressDisabledCheck = false;\n    }\n    \n    if (!handlers) {\n      handlers = element;\n      element = this.element;\n    } else {\n      element = element instanceof Element ? element : element[0] || element;\n    }\n    \n    const instance = this;\n    \n    for (const event in handlers) {\n      const handler = handlers[event];\n      \n      // Ensure event is a string\n      const eventStr = String(event || '');\n      \n      // Add namespace\n      const eventParts = eventStr.split(' ');\n      const eventType = eventParts[0] + this.eventNamespace;\n      const selector = eventParts.slice(1).join(' ') || undefined;\n      \n      const wrappedHandler = function(evt) {\n        if (!suppressDisabledCheck && \n            (instance.options.disabled === true || \n             evt.currentTarget.classList.contains('ui-state-disabled'))) {\n          return;\n        }\n        return (typeof handler === 'string' ? instance[handler] : handler)\n          .apply(instance, arguments);\n      };\n      \n      on({ 0: element, length: 1 }, eventType, selector, null, wrappedHandler);\n      this.bindings.push(element);\n    }\n  }\n  \n  _off(element, eventName) {\n    const elem = element instanceof Element ? element : element[0] || element;\n    eventName = (eventName || '').split(' ')\n      .map(e => e + this.eventNamespace)\n      .join(' ');\n    off({ 0: elem, length: 1 }, eventName);\n  }\n  \n  _trigger(type, event, data) {\n    const prop = this.options[type];\n    data = data || {};\n    \n    // Create jQuery-like event\n    const customEvent = new CustomEvent(this.widgetEventPrefix + type, {\n      bubbles: true,\n      cancelable: true,\n      detail: data\n    });\n    \n    // Add original event properties\n    if (event) {\n      customEvent.originalEvent = event;\n    }\n    \n    this.element.dispatchEvent(customEvent);\n    \n    // Call callback\n    if (isFunction(prop)) {\n      return prop.call(this.element, customEvent, data) !== false && \n             !customEvent.defaultPrevented;\n    }\n    \n    return !customEvent.defaultPrevented;\n  }\n  \n  _delay(handler, delay) {\n    const instance = this;\n    return setTimeout(function() {\n      return (typeof handler === 'string' ? instance[handler] : handler)\n        .apply(instance, arguments);\n    }, delay || 0);\n  }\n  \n  _hoverable(element) {\n    const elem = element instanceof Element ? element : element[0];\n    this.hoverable.push(elem);\n    \n    this._on(elem, {\n      mouseenter: function(event) {\n        this._addClass(event.currentTarget, null, 'ui-state-hover');\n      },\n      mouseleave: function(event) {\n        this._removeClass(event.currentTarget, null, 'ui-state-hover');\n      }\n    });\n  }\n  \n  _focusable(element) {\n    const elem = element instanceof Element ? element : element[0];\n    this.focusable.push(elem);\n    \n    this._on(elem, {\n      focusin: function(event) {\n        this._addClass(event.currentTarget, null, 'ui-state-focus');\n      },\n      focusout: function(event) {\n        this._removeClass(event.currentTarget, null, 'ui-state-focus');\n      }\n    });\n  }\n  \n  _addClass(element, keys, extra) {\n    const elem = element instanceof Element ? element : \n                 (element && element[0]) || this.element;\n    const classes = [];\n    \n    if (keys) {\n      keys.split(' ').forEach(key => {\n        if (this.options.classes && this.options.classes[key]) {\n          classes.push(this.options.classes[key]);\n        }\n        classes.push(key);\n      });\n    }\n    \n    if (extra) {\n      classes.push(...extra.split(' '));\n    }\n    \n    elem.classList.add(...classes.filter(Boolean));\n  }\n  \n  _removeClass(element, keys, extra) {\n    const elem = element instanceof Element ? element :\n                 (element && element[0]) || this.element;\n    const classes = [];\n    \n    if (keys) {\n      keys.split(' ').forEach(key => {\n        if (this.options.classes && this.options.classes[key]) {\n          classes.push(this.options.classes[key]);\n        }\n        classes.push(key);\n      });\n    }\n    \n    if (extra) {\n      classes.push(...extra.split(' '));\n    }\n    \n    elem.classList.remove(...classes.filter(Boolean));\n  }\n  \n  _toggleClass(element, keys, extra, add) {\n    if (typeof add === 'boolean') {\n      if (add) {\n        this._addClass(element, keys, extra);\n      } else {\n        this._removeClass(element, keys, extra);\n      }\n    } else {\n      const elem = element instanceof Element ? element :\n                   (element && element[0]) || this.element;\n      \n      const classes = [];\n      if (keys) classes.push(...keys.split(' '));\n      if (extra) classes.push(...extra.split(' '));\n      \n      classes.filter(Boolean).forEach(cls => elem.classList.toggle(cls));\n    }\n  }\n  \n  _scrollParent(includeHidden) {\n    const position = getComputedStyle(this.element).position;\n    const excludeStaticParent = position === 'absolute';\n    const overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/;\n    \n    let scrollParent = this.element.parentElement;\n    \n    while (scrollParent) {\n      const style = getComputedStyle(scrollParent);\n      \n      if (excludeStaticParent && style.position === 'static') {\n        scrollParent = scrollParent.parentElement;\n        continue;\n      }\n      \n      if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) {\n        return scrollParent;\n      }\n      \n      scrollParent = scrollParent.parentElement;\n    }\n    \n    return document.scrollingElement || document.documentElement;\n  }\n}\n\n/**\n * Widget factory function\n * Creates a new widget constructor and registers it as a jQuery plugin\n */\nexport function widget(name, base, prototype) {\n  const fullName = name;\n  const namespace = name.split('.')[0];\n  const widgetName = name.split('.')[1] || name;\n  \n  // Handle base argument\n  if (!prototype) {\n    prototype = base;\n    base = Widget;\n  }\n  \n  // Create widget constructor\n  const WidgetConstructor = function(options, element) {\n    // Allow instantiation without 'new'\n    if (!(this instanceof WidgetConstructor)) {\n      return new WidgetConstructor(options, element);\n    }\n    \n    // Call parent constructor\n    if (base !== Widget) {\n      base.call(this);\n    } else {\n      Widget.call(this);\n    }\n    \n    // Merge prototype\n    for (const key in prototype) {\n      if (key !== '_create' && key !== '_init' && key !== 'options') {\n        this[key] = prototype[key];\n      }\n    }\n    \n    // Set widget name\n    this.widgetName = widgetName;\n    this.widgetEventPrefix = prototype.widgetEventPrefix || widgetName;\n    \n    // Merge options\n    if (prototype.options) {\n      this.options = extend(true, {}, this.options, prototype.options);\n    }\n    \n    // Override _create and _init if provided\n    if (prototype._create) {\n      const parentCreate = this._create;\n      this._create = function() {\n        if (parentCreate) parentCreate.call(this);\n        prototype._create.call(this);\n      };\n    }\n    \n    if (prototype._init) {\n      const parentInit = this._init;\n      this._init = function() {\n        if (parentInit) parentInit.call(this);\n        prototype._init.call(this);\n      };\n    }\n    \n    if (prototype._destroy) {\n      const parentDestroy = this._destroy;\n      this._destroy = function() {\n        prototype._destroy.call(this);\n        if (parentDestroy) parentDestroy.call(this);\n      };\n    }\n    \n    // Initialize if element provided\n    if (arguments.length) {\n      this._createWidget(options, element);\n    }\n  };\n  \n  // Inherit from base\n  WidgetConstructor.prototype = Object.create(base.prototype);\n  WidgetConstructor.prototype.constructor = WidgetConstructor;\n  \n  // Store constructor\n  if (!ui[namespace]) {\n    ui[namespace] = {};\n  }\n  ui[widgetName] = WidgetConstructor;\n  \n  return WidgetConstructor;\n}\n\n/**\n * Register widget as jQuery plugin\n * @param {Function} jQNext - The jQNext function\n * @param {string} name - Widget name\n * @param {Function} WidgetConstructor - Widget constructor\n */\nexport function registerPlugin(jQNext, name, WidgetConstructor) {\n  const widgetName = name.split('.').pop();\n  \n  jQNext.fn[widgetName] = function(options, ...args) {\n    const isMethodCall = typeof options === 'string';\n    \n    if (isMethodCall) {\n      const methodName = options;\n      let returnValue;\n      \n      this.each(function() {\n        const instance = getDataValue(this, 'ui-' + widgetName);\n        \n        if (!instance) {\n          console.error(`Cannot call methods on ${widgetName} prior to initialization`);\n          return;\n        }\n        \n        if (!isFunction(instance[methodName]) || methodName.charAt(0) === '_') {\n          console.error(`No such method '${methodName}' for ${widgetName}`);\n          return;\n        }\n        \n        const result = instance[methodName](...args);\n        \n        if (result !== instance && result !== undefined) {\n          returnValue = result;\n          return false; // Break the loop\n        }\n      });\n      \n      return returnValue !== undefined ? returnValue : this;\n    }\n    \n    // Initialize widget\n    return this.each(function() {\n      const existing = getDataValue(this, 'ui-' + widgetName);\n      \n      if (existing) {\n        // Update options\n        existing._setOptions(options || {});\n        if (existing._init) {\n          existing._init();\n        }\n      } else {\n        // Create new instance\n        new WidgetConstructor(options, this);\n      }\n    });\n  };\n}\n\n/**\n * Plugin for adding UI support\n */\nexport const plugin = {\n  add: function(module, option, set) {\n    // Plugin extension point\n  },\n  \n  call: function(instance, name, args, allowDisconnected) {\n    const set = instance.plugins[name];\n    \n    if (!set) return;\n    \n    if (!allowDisconnected && \n        (!instance.element || !instance.element.parentNode || \n         instance.element.parentNode.nodeType === 11)) {\n      return;\n    }\n    \n    set.forEach(([proto, fn]) => {\n      if (instance.options[proto]) {\n        fn.apply(instance.element, args);\n      }\n    });\n  }\n};\n\nexport default {\n  ui,\n  widget,\n  Widget,\n  registerPlugin,\n  plugin\n};","/**\n * jQNext - Modern jQuery 2.x Compatible Library\n * \n * A drop-in replacement for jQuery 2.2.5 using modern JavaScript internals.\n * Compatible with jQuery UI 1.11.x\n * \n * @version 1.0.0\n * @author Ready Intelligence\n * @license MIT\n */\n\n// Core\nimport { jQCollection, setJQNext } from './core/collection.js';\nimport { expando, setData, getDataValue, removeData, hasData, cleanData } from './core/data.js';\n\n// Utilities\nimport {\n  type, isArray, isFunction, isWindow, isDocument, isElement,\n  isNumeric, isPlainObject, isEmptyObject, isArrayLike, isString\n} from './utilities/type.js';\nimport {\n  extend, each, map, grep, inArray, merge, makeArray,\n  proxy, noop, now, uniqueSort, contains, globalEval\n} from './utilities/objects.js';\nimport {\n  camelCase, trim, parseHTML, parseJSON, parseXML, param, error\n} from './utilities/strings.js';\nimport { Deferred, Callbacks, when } from './utilities/deferred.js';\n\n// Selectors\nimport { \n  querySelectorAllWithPseudo, matchesWithPseudo, pseudoSelectors \n} from './selectors/pseudo.js';\n\n// DOM\nimport * as traversal from './dom/traversal.js';\nimport * as manipulation from './dom/manipulation.js';\nimport * as attributes from './dom/attributes.js';\nimport * as cssModule from './dom/css.js';\nimport { cssHooks } from './dom/css.js';\n\n// Events\nimport { on, off, one, trigger, triggerHandler, special, parseEventTypes, getHandlersStorage } from './events/core.js';\nimport * as eventShortcuts from './events/shortcuts.js';\n\n// Effects\nimport {\n  animate, stop, finish, delay, queue, dequeue, clearQueue, promise, fx, speeds\n} from './effects/core.js';\nimport {\n  show, hide, toggle, slideDown, slideUp, slideToggle,\n  fadeIn, fadeOut, fadeTo, fadeToggle\n} from './effects/showhide.js';\n\n// AJAX\nimport {\n  ajax, ajaxSetup, ajaxPrefilter, ajaxTransport, ajaxSettings,\n  get, post, getJSON, getScript, load\n} from './ajax/core.js';\nimport { serialize, serializeArray } from './ajax/serialize.js';\n\n// Compatibility\nimport { ui, widget, Widget, registerPlugin, plugin } from './compat/jquery-ui.js';\n\n/**\n * The main jQNext function\n * @param {string|Element|Function|NodeList|Array} selector\n * @param {Element|Document} [context]\n * @returns {jQCollection}\n */\nfunction jQNext(selector, context) {\n  const collection = new jQCollection();\n  collection.init(selector, context);\n  return collection;\n}\n\n// Set reference in collection module\nsetJQNext(jQNext);\n\n// Version\njQNext.fn = jQNext.prototype = jQCollection.prototype;\njQNext.fn.jquery = '2.2.5-jqnext';\njQNext.fn.constructor = jQNext;\n\n// ==================================================\n// STATIC METHODS\n// ==================================================\n\n// Utilities\n// Wrap extend to handle the $.extend(obj) single-argument case\n// When called with a single non-boolean object, it should extend jQNext itself\njQNext.extend = function(deep, target, ...sources) {\n  // Single argument case: $.extend({foo: 'bar'}) should extend $ itself\n  if (arguments.length === 1 && typeof deep === 'object' && deep !== null) {\n    return extend(jQNext, deep);\n  }\n  // Normal case: delegate to extend\n  return extend(deep, target, ...sources);\n};\njQNext.each = each;\njQNext.map = map;\njQNext.grep = grep;\njQNext.inArray = inArray;\njQNext.merge = merge;\njQNext.makeArray = makeArray;\njQNext.proxy = proxy;\njQNext.noop = noop;\njQNext.now = now;\njQNext.uniqueSort = uniqueSort;\njQNext.unique = uniqueSort; // Alias\njQNext.contains = contains;\njQNext.globalEval = globalEval;\n\n// Type checking\njQNext.type = type;\njQNext.isArray = isArray;\njQNext.isFunction = isFunction;\njQNext.isWindow = isWindow;\njQNext.isNumeric = isNumeric;\njQNext.isPlainObject = isPlainObject;\njQNext.isEmptyObject = isEmptyObject;\n\n// Check if a document is an XML document\njQNext.isXMLDoc = function(elem) {\n  // documentElement is verified for cases where it doesn't yet exist\n  const namespace = elem && (elem.ownerDocument || elem).documentElement;\n  return namespace ? namespace.nodeName !== 'HTML' : false;\n};\n\n// Check if an element has a specific node name (case-insensitive)\njQNext.nodeName = function(elem, name) {\n  return elem && elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n};\n\n// String utilities\njQNext.camelCase = camelCase;\njQNext.trim = trim;\njQNext.parseHTML = parseHTML;\njQNext.parseJSON = parseJSON;\njQNext.parseXML = parseXML;\njQNext.param = param;\njQNext.error = error;\n\n// Deferred\njQNext.Deferred = Deferred;\njQNext.Callbacks = Callbacks;\njQNext.when = when;\n\n// Data\njQNext.expando = expando;\njQNext.data = function(elem, name, value) {\n  // Getter: $.data(elem, key)\n  if (value === undefined && typeof name !== 'object') {\n    return getDataValue(elem, name);\n  }\n  // Setter: $.data(elem, key, value) - returns value\n  // Or: $.data(elem, obj) - returns obj\n  setData(elem, name, value);\n  return typeof name === 'object' ? name : value;\n};\njQNext.removeData = function(elem, name) {\n  removeData(elem, name);\n  return undefined;\n};\njQNext.hasData = hasData;\njQNext._data = function(elem, name, value) {\n  // Internal data (for jQuery internals/plugins)\n  // Special case: get 'events' returns event handlers storage\n  if (name === 'events' && value === undefined) {\n    const handlers = getHandlersStorage(elem);\n    return handlers ? handlers.events : undefined;\n  }\n  // Getter\n  if (value === undefined && typeof name !== 'object') {\n    return getDataValue(elem, '_' + name);\n  }\n  // Setter - returns value/obj\n  setData(elem, '_' + name, value);\n  return typeof name === 'object' ? name : value;\n};\njQNext._removeData = function(elem, name) {\n  removeData(elem, '_' + name);\n  return undefined;\n};\njQNext.cleanData = cleanData;\n\n// AJAX\njQNext.ajax = ajax;\njQNext.ajaxSetup = ajaxSetup;\njQNext.ajaxPrefilter = ajaxPrefilter;\njQNext.ajaxTransport = ajaxTransport;\njQNext.ajaxSettings = ajaxSettings;\njQNext.get = get;\njQNext.post = post;\njQNext.getJSON = getJSON;\njQNext.getScript = getScript;\n\n// Animation\njQNext.fx = fx;\njQNext.fx.speeds = speeds;\njQNext.fx.step = {}; // For jQuery UI color animation hooks\njQNext.easing = {\n  linear: function(p) { return p; },\n  swing: function(p) { return 0.5 - Math.cos(p * Math.PI) / 2; }\n};\njQNext.Animation = {}; // Compatibility stub\njQNext.speed = function(speed, easing, fn) {\n  const opt = speed && typeof speed === 'object' ? extend({}, speed) : {\n    complete: fn || (!fn && easing) || (isFunction(speed) && speed),\n    duration: speed,\n    easing: fn && easing || easing && !isFunction(easing) && easing\n  };\n  opt.duration = typeof opt.duration === 'number' ? opt.duration :\n    opt.duration in speeds ? speeds[opt.duration] : speeds._default;\n  opt.old = opt.complete;\n  opt.complete = function() {\n    if (isFunction(opt.old)) {\n      opt.old.call(this);\n    }\n  };\n  return opt;\n};\n\n// Queue utilities (static)\njQNext.queue = function(elem, type, data) {\n  return queue({ 0: elem, length: 1 }, type, data);\n};\njQNext.dequeue = function(elem, type) {\n  return dequeue({ 0: elem, length: 1 }, type);\n};\n\n// Event constructor - jQuery UI expects $.Event()\njQNext.Event = function(type, props) {\n  // Allow instantiation without 'new'\n  if (!(this instanceof jQNext.Event)) {\n    return new jQNext.Event(type, props);\n  }\n  \n  // Handle event object passed as type\n  if (type && type.type) {\n    this.originalEvent = type;\n    this.type = type.type;\n    this.isDefaultPrevented = type.defaultPrevented ||\n      (type.defaultPrevented === undefined && type.returnValue === false)\n        ? returnTrue : returnFalse;\n    this.target = type.target;\n    this.currentTarget = type.currentTarget;\n    this.relatedTarget = type.relatedTarget;\n    this.timeStamp = type.timeStamp || Date.now();\n  } else {\n    this.type = type;\n    this.timeStamp = Date.now();\n  }\n  \n  // Copy properties\n  if (props) {\n    extend(this, props);\n  }\n  \n  // State tracking\n  this._isDefaultPrevented = false;\n  this._isPropagationStopped = false;\n  this._isImmediatePropagationStopped = false;\n};\n\njQNext.Event.prototype = {\n  constructor: jQNext.Event,\n  isDefaultPrevented: function() { return this._isDefaultPrevented; },\n  isPropagationStopped: function() { return this._isPropagationStopped; },\n  isImmediatePropagationStopped: function() { return this._isImmediatePropagationStopped; },\n  preventDefault: function() {\n    this._isDefaultPrevented = true;\n    if (this.originalEvent) {\n      this.originalEvent.preventDefault();\n    }\n  },\n  stopPropagation: function() {\n    this._isPropagationStopped = true;\n    if (this.originalEvent) {\n      this.originalEvent.stopPropagation();\n    }\n  },\n  stopImmediatePropagation: function() {\n    this._isImmediatePropagationStopped = true;\n    this._isPropagationStopped = true;\n    if (this.originalEvent) {\n      this.originalEvent.stopImmediatePropagation();\n    }\n  }\n};\n\nfunction returnTrue() { return true; }\nfunction returnFalse() { return false; }\n\n// Event special\njQNext.event = {\n  special,\n  // Event properties that should be copied - excluded 'type' (handled separately per tests)\n  props: ('altKey bubbles cancelable ctrlKey currentTarget detail eventPhase ' +\n    'metaKey relatedTarget shiftKey target timeStamp view which').split(' '),\n  fixHooks: {},\n  fix: function(event) {\n    if (event instanceof jQNext.Event) {\n      return event;\n    }\n    return new jQNext.Event(event);\n  },\n  simulate: function(type, elem, event) {\n    const e = extend(new jQNext.Event(type), event, {\n      type,\n      isSimulated: true\n    });\n    if (elem.dispatchEvent) {\n      elem.dispatchEvent(new CustomEvent(type, { detail: e, bubbles: true, cancelable: true }));\n    }\n  }\n};\n\n// Expression/Sizzle compatibility\njQNext.expr = {\n  ':': pseudoSelectors,\n  pseudos: pseudoSelectors,\n  match: {},\n  filter: {},\n  // Filter functions used by jquery.tabbable.js and other plugins\n  filters: {\n    visible: function(elem) {\n      return !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);\n    },\n    hidden: function(elem) {\n      return !jQNext.expr.filters.visible(elem);\n    }\n  },\n  // createPseudo wraps a factory function to be compatible with our pseudo-selector system\n  // The factory takes the argument (e.g., \"foo\" from :hasData(foo)) and returns a filter function\n  createPseudo: function(fn) {\n    // Return a function that matches our pseudo signature (elem, index, collection, param)\n    // but calls the factory pattern correctly\n    var wrapped = function(elem, index, collection, param) {\n      // Call the factory with the param to get the actual filter\n      var filter = fn(param);\n      // Call the filter with just the element (Sizzle/jQuery style)\n      return filter(elem);\n    };\n    // Mark it as created via createPseudo so we know the signature\n    wrapped._isCreatePseudo = true;\n    return wrapped;\n  }\n};\njQNext.find = function(selector, context, results) {\n  results = results || [];\n  const found = querySelectorAllWithPseudo(selector, context);\n  merge(results, found);\n  return results;\n};\n// Sizzle/selector engine compatibility - compile function for pre-compiling selectors\njQNext.find.compile = function(selector) {\n  // Return a function that performs the selection (simplified Sizzle compatibility)\n  return function(context, results) {\n    return jQNext.find(selector, context, results);\n  };\n};\n// matchesSelector for element matching\njQNext.find.matchesSelector = function(elem, selector) {\n  return matchesWithPseudo(elem, selector);\n};\njQNext.find.matches = function(selector, elements) {\n  return elements.filter(elem => matchesWithPseudo(elem, selector));\n};\n\n// Static CSS method (for plugins like jquery.tabbable.js)\njQNext.css = function(elem, name, extra, styles) {\n  return cssModule.css({ 0: elem, length: 1 }, name);\n};\n\n// Static attr method (for plugins like jquery.tabbable.js)\njQNext.attr = function(elem, name, value) {\n  // Getter\n  if (value === undefined) {\n    if (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.getAttribute) {\n      return undefined;\n    }\n    const val = elem.getAttribute(name);\n    return val === null ? undefined : val;\n  }\n  // Setter\n  elem.setAttribute(name, value);\n  return value;\n};\n\n// CSS Hooks (for jQuery UI color animation etc.)\njQNext.cssHooks = cssHooks;\njQNext.cssNumber = {\n  animationIterationCount: true,\n  columnCount: true,\n  fillOpacity: true,\n  flexGrow: true,\n  flexShrink: true,\n  fontWeight: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  widows: true,\n  zIndex: true,\n  zoom: true\n};\n\n// Support (feature detection)\njQNext.support = {\n  ajax: true,\n  cors: true,\n  boxSizing: true,\n  changeBubbles: true,\n  focusin: true,\n  optSelected: true,\n  transition: true,\n  // createHTMLDocument test - check if we can create an HTML document\n  createHTMLDocument: (function() {\n    try {\n      return !!document.implementation.createHTMLDocument('');\n    } catch (e) {\n      return false;\n    }\n  })()\n};\n\n// jQuery UI\njQNext.ui = ui;\njQNext.widget = function(name, base, prototype) {\n  const Constructor = widget(name, base, prototype);\n  registerPlugin(jQNext, name, Constructor);\n  return Constructor;\n};\njQNext.Widget = Widget;\n\n// noConflict\nconst _jQuery = typeof window !== 'undefined' ? window.jQuery : undefined;\nconst _$ = typeof window !== 'undefined' ? window.$ : undefined;\n\njQNext.noConflict = function(deep) {\n  if (typeof window !== 'undefined') {\n    if (window.$ === jQNext) {\n      window.$ = _$;\n    }\n    if (deep && window.jQuery === jQNext) {\n      window.jQuery = _jQuery;\n    }\n  }\n  return jQNext;\n};\n\n// Ready state\njQNext.isReady = false;\njQNext.readyWait = 1;\njQNext.ready = Deferred();\njQNext.holdReady = function(hold) {\n  if (hold) {\n    jQNext.readyWait++;\n  } else {\n    // Trigger ready if all holds released\n    if (--jQNext.readyWait === 0) {\n      jQNext.isReady = true;\n      jQNext.ready.resolveWith(document, [jQNext]);\n    }\n  }\n};\n\nif (document.readyState === 'complete' ||\n    (document.readyState !== 'loading' && !document.documentElement.doScroll)) {\n  setTimeout(() => {\n    jQNext.isReady = true;\n    jQNext.ready.resolveWith(document, [jQNext]);\n  });\n} else {\n  document.addEventListener('DOMContentLoaded', function() {\n    jQNext.isReady = true;\n    jQNext.ready.resolveWith(document, [jQNext]);\n  });\n}\n\n// ==================================================\n// PROTOTYPE METHODS\n// ==================================================\n\n// Extend the prototype\nextend(jQNext.fn, {\n  // Core\n  jquery: '2.2.5-jqnext',\n  length: 0,\n  \n  // Convert to array\n  toArray: function() {\n    return Array.prototype.slice.call(this);\n  },\n  \n  // Get element(s)\n  get: function(index) {\n    return index === undefined \n      ? this.toArray() \n      : (index < 0 ? this[this.length + index] : this[index]);\n  },\n  \n  // Size (deprecated but needed for compat)\n  size: function() {\n    return this.length;\n  },\n  \n  // Traversal\n  parent: function(selector) {\n    return this.pushStack(traversal.parent(this, selector));\n  },\n  parents: function(selector) {\n    return this.pushStack(traversal.parents(this, selector));\n  },\n  parentsUntil: function(until, filter) {\n    return this.pushStack(traversal.parentsUntil(this, until, filter));\n  },\n  closest: function(selector, context) {\n    return this.pushStack(traversal.closest(this, selector, context));\n  },\n  children: function(selector) {\n    return this.pushStack(traversal.children(this, selector));\n  },\n  siblings: function(selector) {\n    return this.pushStack(traversal.siblings(this, selector));\n  },\n  next: function(selector) {\n    return this.pushStack(traversal.next(this, selector));\n  },\n  nextAll: function(selector) {\n    return this.pushStack(traversal.nextAll(this, selector));\n  },\n  nextUntil: function(until, filter) {\n    return this.pushStack(traversal.nextUntil(this, until, filter));\n  },\n  prev: function(selector) {\n    return this.pushStack(traversal.prev(this, selector));\n  },\n  prevAll: function(selector) {\n    return this.pushStack(traversal.prevAll(this, selector));\n  },\n  prevUntil: function(until, filter) {\n    return this.pushStack(traversal.prevUntil(this, until, filter));\n  },\n  offsetParent: function() {\n    return this.pushStack(traversal.offsetParent(this));\n  },\n  \n  // Manipulation\n  html: function(value) {\n    return manipulation.html(this, value);\n  },\n  text: function(value) {\n    return manipulation.text(this, value);\n  },\n  append: function(...content) {\n    return manipulation.append(this, ...content);\n  },\n  prepend: function(...content) {\n    return manipulation.prepend(this, ...content);\n  },\n  before: function(...content) {\n    return manipulation.before(this, ...content);\n  },\n  after: function(...content) {\n    return manipulation.after(this, ...content);\n  },\n  appendTo: function(target) {\n    return manipulation.appendTo(this, target, jQNext);\n  },\n  prependTo: function(target) {\n    return manipulation.prependTo(this, target, jQNext);\n  },\n  insertBefore: function(target) {\n    return manipulation.insertBefore(this, target, jQNext);\n  },\n  insertAfter: function(target) {\n    return manipulation.insertAfter(this, target, jQNext);\n  },\n  wrap: function(wrapper) {\n    return manipulation.wrap(this, wrapper, jQNext);\n  },\n  wrapAll: function(wrapper) {\n    return manipulation.wrapAll(this, wrapper, jQNext);\n  },\n  wrapInner: function(wrapper) {\n    return manipulation.wrapInner(this, wrapper, jQNext);\n  },\n  unwrap: function(selector) {\n    return manipulation.unwrap(this, selector);\n  },\n  empty: function() {\n    return manipulation.empty(this);\n  },\n  remove: function(selector) {\n    return manipulation.remove(this, selector);\n  },\n  detach: function(selector) {\n    return manipulation.detach(this, selector);\n  },\n  replaceWith: function(content) {\n    return manipulation.replaceWith(this, content, jQNext);\n  },\n  replaceAll: function(target) {\n    return manipulation.replaceAll(this, target, jQNext);\n  },\n  clone: function(withDataAndEvents, deepWithDataAndEvents) {\n    return manipulation.clone(this, withDataAndEvents, deepWithDataAndEvents, jQNext);\n  },\n  \n  // Attributes\n  attr: function(name, value) {\n    return attributes.attr(this, name, value);\n  },\n  removeAttr: function(name) {\n    return attributes.removeAttr(this, name);\n  },\n  prop: function(name, value) {\n    return attributes.prop(this, name, value);\n  },\n  removeProp: function(name) {\n    return attributes.removeProp(this, name);\n  },\n  val: function(value) {\n    return attributes.val(this, value);\n  },\n  addClass: function(className) {\n    return attributes.addClass(this, className);\n  },\n  removeClass: function(className) {\n    return attributes.removeClass(this, className);\n  },\n  toggleClass: function(className, state) {\n    return attributes.toggleClass(this, className, state);\n  },\n  hasClass: function(className) {\n    return attributes.hasClass(this, className);\n  },\n  \n  // CSS\n  css: function(name, value) {\n    return cssModule.css(this, name, value);\n  },\n  width: function(value) {\n    return cssModule.width(this, value);\n  },\n  height: function(value) {\n    return cssModule.height(this, value);\n  },\n  innerWidth: function(value) {\n    return cssModule.innerWidth(this, value);\n  },\n  innerHeight: function(value) {\n    return cssModule.innerHeight(this, value);\n  },\n  outerWidth: function(includeMargin) {\n    return cssModule.outerWidth(this, includeMargin);\n  },\n  outerHeight: function(includeMargin) {\n    return cssModule.outerHeight(this, includeMargin);\n  },\n  offset: function(coordinates) {\n    return cssModule.offset(this, coordinates);\n  },\n  position: function() {\n    return cssModule.position(this);\n  },\n  scrollTop: function(value) {\n    return cssModule.scrollTop(this, value);\n  },\n  scrollLeft: function(value) {\n    return cssModule.scrollLeft(this, value);\n  },\n  \n  // Events\n  on: function(types, selector, data, fn) {\n    return on(this, types, selector, data, fn);\n  },\n  off: function(types, selector, fn) {\n    return off(this, types, selector, fn);\n  },\n  one: function(types, selector, data, fn) {\n    return one(this, types, selector, data, fn);\n  },\n  trigger: function(event, data) {\n    return trigger(this, event, data);\n  },\n  triggerHandler: function(event, data) {\n    return triggerHandler(this, event, data);\n  },\n  \n  // Event shortcuts\n  blur: eventShortcuts.blur,\n  focus: eventShortcuts.focus,\n  focusin: eventShortcuts.focusin,\n  focusout: eventShortcuts.focusout,\n  load: eventShortcuts.load,\n  resize: eventShortcuts.resize,\n  scroll: eventShortcuts.scroll,\n  unload: eventShortcuts.unload,\n  click: eventShortcuts.click,\n  dblclick: eventShortcuts.dblclick,\n  mousedown: eventShortcuts.mousedown,\n  mouseup: eventShortcuts.mouseup,\n  mousemove: eventShortcuts.mousemove,\n  mouseover: eventShortcuts.mouseover,\n  mouseout: eventShortcuts.mouseout,\n  mouseenter: eventShortcuts.mouseenter,\n  mouseleave: eventShortcuts.mouseleave,\n  change: eventShortcuts.change,\n  select: eventShortcuts.select,\n  submit: eventShortcuts.submit,\n  keydown: eventShortcuts.keydown,\n  keypress: eventShortcuts.keypress,\n  keyup: eventShortcuts.keyup,\n  error: eventShortcuts.error,\n  contextmenu: eventShortcuts.contextmenu,\n  hover: eventShortcuts.hover,\n  bind: eventShortcuts.bind,\n  unbind: eventShortcuts.unbind,\n  delegate: eventShortcuts.delegate,\n  undelegate: eventShortcuts.undelegate,\n  \n  // Effects - show/hide\n  show: function(duration, easing, callback) {\n    return show(this, duration, easing, callback);\n  },\n  hide: function(duration, easing, callback) {\n    return hide(this, duration, easing, callback);\n  },\n  toggle: function(state, easing, callback) {\n    return toggle(this, state, easing, callback);\n  },\n  \n  // Effects - slide\n  slideDown: function(duration, easing, callback) {\n    return slideDown(this, duration, easing, callback);\n  },\n  slideUp: function(duration, easing, callback) {\n    return slideUp(this, duration, easing, callback);\n  },\n  slideToggle: function(duration, easing, callback) {\n    return slideToggle(this, duration, easing, callback);\n  },\n  \n  // Effects - fade\n  fadeIn: function(duration, easing, callback) {\n    return fadeIn(this, duration, easing, callback);\n  },\n  fadeOut: function(duration, easing, callback) {\n    return fadeOut(this, duration, easing, callback);\n  },\n  fadeTo: function(duration, opacity, callback) {\n    return fadeTo(this, duration, opacity, callback);\n  },\n  fadeToggle: function(duration, easing, callback) {\n    return fadeToggle(this, duration, easing, callback);\n  },\n  \n  // Effects - animation\n  animate: function(properties, duration, easing, callback) {\n    return animate(this, properties, duration, easing, callback);\n  },\n  stop: function(clearQueue, jumpToEnd) {\n    return stop(this, clearQueue, jumpToEnd);\n  },\n  finish: function(queue) {\n    return finish(this, queue);\n  },\n  delay: function(time, type) {\n    return delay(this, time, type);\n  },\n  queue: function(type, data) {\n    return queue(this, type, data);\n  },\n  dequeue: function(type) {\n    return dequeue(this, type);\n  },\n  clearQueue: function(type) {\n    return clearQueue(this, type);\n  },\n  promise: function(type, target) {\n    return promise(this, type, target);\n  },\n  \n  // AJAX\n  load: function(url, data, complete) {\n    return load(this, url, data, complete);\n  },\n  serialize: function() {\n    return serialize(this);\n  },\n  serializeArray: function() {\n    return serializeArray(this);\n  },\n  \n  // AJAX events\n  ajaxComplete: function(handler) {\n    return this.on('ajaxComplete', handler);\n  },\n  ajaxError: function(handler) {\n    return this.on('ajaxError', handler);\n  },\n  ajaxSend: function(handler) {\n    return this.on('ajaxSend', handler);\n  },\n  ajaxStart: function(handler) {\n    return this.on('ajaxStart', handler);\n  },\n  ajaxStop: function(handler) {\n    return this.on('ajaxStop', handler);\n  },\n  ajaxSuccess: function(handler) {\n    return this.on('ajaxSuccess', handler);\n  },\n  \n  // Ready shortcut\n  ready: function(fn) {\n    jQNext.ready.then(fn);\n    return this;\n  }\n});\n\n// Extend function for prototype\njQNext.fn.extend = function(obj) {\n  return extend(jQNext.fn, obj);\n};\n\n// Global export\nif (typeof window !== 'undefined') {\n  window.jQuery = jQNext;\n  window.$ = jQNext;\n  \n  // Preside compatibility\n  window.presideJQuery = jQNext;\n  window.jQNext = jQNext;\n}\n\nexport default jQNext;","/**\n * jQNext - DOM Traversal\n * Parent, children, sibling traversal methods\n */\n\nimport { isString, isElement } from '../utilities/type.js';\nimport { uniqueSort } from '../utilities/objects.js';\nimport { matchesWithPseudo } from '../selectors/pseudo.js';\n\n/**\n * Get the parent of each element, optionally filtered by selector\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function parent(collection, selector) {\n  const result = [];\n  const seen = new Set();\n  \n  for (let i = 0; i < collection.length; i++) {\n    const parent = collection[i].parentNode;\n    if (parent && parent.nodeType === 1 && !seen.has(parent)) {\n      seen.add(parent);\n      if (!selector || matchesWithPseudo(parent, selector)) {\n        result.push(parent);\n      }\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Get all ancestors of each element, optionally filtered\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function parents(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let parent = collection[i].parentNode;\n    while (parent && parent.nodeType === 1) {\n      if (!selector || matchesWithPseudo(parent, selector)) {\n        result.push(parent);\n      }\n      parent = parent.parentNode;\n    }\n  }\n  \n  return uniqueSort(result);\n}\n\n/**\n * Get ancestors up to (but not including) the element matched by selector\n * @param {jQCollection} collection\n * @param {string|Element} until\n * @param {string} [filter]\n * @returns {Element[]}\n */\nexport function parentsUntil(collection, until, filter) {\n  const result = [];\n  const untilElem = isString(until) ? null : until;\n  \n  for (let i = 0; i < collection.length; i++) {\n    let parent = collection[i].parentNode;\n    while (parent && parent.nodeType === 1) {\n      // Check if we've reached the until element/selector\n      if (untilElem) {\n        if (parent === untilElem) break;\n      } else if (until && matchesWithPseudo(parent, until)) {\n        break;\n      }\n      \n      if (!filter || matchesWithPseudo(parent, filter)) {\n        result.push(parent);\n      }\n      parent = parent.parentNode;\n    }\n  }\n  \n  return uniqueSort(result);\n}\n\n/**\n * Get the closest ancestor matching the selector\n * @param {jQCollection} collection\n * @param {string} selector\n * @param {Element} [context]\n * @returns {Element[]}\n */\nexport function closest(collection, selector, context) {\n  const result = [];\n  const seen = new Set();\n  \n  for (let i = 0; i < collection.length; i++) {\n    let elem = collection[i];\n    \n    while (elem && elem !== context) {\n      if (elem.nodeType === 1 && matchesWithPseudo(elem, selector)) {\n        if (!seen.has(elem)) {\n          seen.add(elem);\n          result.push(elem);\n        }\n        break;\n      }\n      elem = elem.parentNode;\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Get the children of each element, optionally filtered\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function children(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    const kids = collection[i].children;\n    for (let j = 0; j < kids.length; j++) {\n      if (!selector || matchesWithPseudo(kids[j], selector)) {\n        result.push(kids[j]);\n      }\n    }\n  }\n  \n  return collection.length > 1 ? uniqueSort(result) : result;\n}\n\n/**\n * Get all siblings of each element\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function siblings(collection, selector) {\n  const result = [];\n  const seen = new Set();\n  \n  for (let i = 0; i < collection.length; i++) {\n    const elem = collection[i];\n    const parent = elem.parentNode;\n    \n    if (parent) {\n      const kids = parent.children;\n      for (let j = 0; j < kids.length; j++) {\n        if (kids[j] !== elem && !seen.has(kids[j])) {\n          seen.add(kids[j]);\n          if (!selector || matchesWithPseudo(kids[j], selector)) {\n            result.push(kids[j]);\n          }\n        }\n      }\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Get the next sibling of each element\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function next(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].nextElementSibling;\n    if (sibling) {\n      if (!selector || matchesWithPseudo(sibling, selector)) {\n        result.push(sibling);\n      }\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Get all following siblings\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function nextAll(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].nextElementSibling;\n    while (sibling) {\n      if (!selector || matchesWithPseudo(sibling, selector)) {\n        result.push(sibling);\n      }\n      sibling = sibling.nextElementSibling;\n    }\n  }\n  \n  return collection.length > 1 ? uniqueSort(result) : result;\n}\n\n/**\n * Get all following siblings until the selector matches\n * @param {jQCollection} collection\n * @param {string|Element} until\n * @param {string} [filter]\n * @returns {Element[]}\n */\nexport function nextUntil(collection, until, filter) {\n  const result = [];\n  const untilElem = isElement(until) ? until : null;\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].nextElementSibling;\n    while (sibling) {\n      // Check if we've reached the until element/selector\n      if (untilElem) {\n        if (sibling === untilElem) break;\n      } else if (until && matchesWithPseudo(sibling, until)) {\n        break;\n      }\n      \n      if (!filter || matchesWithPseudo(sibling, filter)) {\n        result.push(sibling);\n      }\n      sibling = sibling.nextElementSibling;\n    }\n  }\n  \n  return collection.length > 1 ? uniqueSort(result) : result;\n}\n\n/**\n * Get the previous sibling of each element\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function prev(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].previousElementSibling;\n    if (sibling) {\n      if (!selector || matchesWithPseudo(sibling, selector)) {\n        result.push(sibling);\n      }\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Get all preceding siblings\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function prevAll(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].previousElementSibling;\n    while (sibling) {\n      if (!selector || matchesWithPseudo(sibling, selector)) {\n        result.push(sibling);\n      }\n      sibling = sibling.previousElementSibling;\n    }\n  }\n  \n  return collection.length > 1 ? uniqueSort(result) : result;\n}\n\n/**\n * Get all preceding siblings until the selector matches\n * @param {jQCollection} collection\n * @param {string|Element} until\n * @param {string} [filter]\n * @returns {Element[]}\n */\nexport function prevUntil(collection, until, filter) {\n  const result = [];\n  const untilElem = isElement(until) ? until : null;\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].previousElementSibling;\n    while (sibling) {\n      // Check if we've reached the until element/selector\n      if (untilElem) {\n        if (sibling === untilElem) break;\n      } else if (until && matchesWithPseudo(sibling, until)) {\n        break;\n      }\n      \n      if (!filter || matchesWithPseudo(sibling, filter)) {\n        result.push(sibling);\n      }\n      sibling = sibling.previousElementSibling;\n    }\n  }\n  \n  return collection.length > 1 ? uniqueSort(result) : result;\n}\n\n/**\n * Get the nearest positioned ancestor\n * @param {jQCollection} collection\n * @returns {Element[]}\n */\nexport function offsetParent(collection) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let offsetParent = collection[i].offsetParent || document.documentElement;\n    \n    while (offsetParent && \n           offsetParent !== document.documentElement && \n           getComputedStyle(offsetParent).position === 'static') {\n      offsetParent = offsetParent.offsetParent;\n    }\n    \n    result.push(offsetParent || document.documentElement);\n  }\n  \n  return result;\n}\n\nexport default {\n  parent,\n  parents,\n  parentsUntil,\n  closest,\n  children,\n  siblings,\n  next,\n  nextAll,\n  nextUntil,\n  prev,\n  prevAll,\n  prevUntil,\n  offsetParent\n};"],"names":["isVisible","elem","offsetWidth","offsetHeight","getClientRects","length","pseudoSelectors","index","collection","selector","baseSelector","pseudos","parsePseudos","matches","e","pseudo","filterFn","name","param","matchesSingleSelectorForNot","parseInt","text","textContent","indexOf","firstChild","querySelector","test","nodeName","type","toLowerCase","disabled","checked","selected","ownerDocument","activeElement","hasFocus","documentElement","hash","window","location","id","slice","getAnimations","parentNode","firstElementChild","lastElementChild","parent","key","undefined","dataset","Object","keys","lang","closest","startsWith","pseudoRegex","isJQueryPseudo","match","lastIndex","exec","fullMatch","beforeMatch","substring","push","replace","charBefore","trim","filterByPseudos","elements","result","filter","arr","querySelectorAllWithPseudo","context","document","querySelectorAll","selectors","split","map","s","results","Set","forEach","sel","add","Array","from","actualSelector","tempId","Math","random","toString","substr","removeAttribute","matchesWithPseudo","coll","idx","Boolean","some","matchesSingleSelector","dataCache","WeakMap","expando","Date","now","getData","owner","data","get","nodeType","acceptsData","set","camelCase","_","letter","toUpperCase","dataAttr","getAttribute","JSON","parse","setData","value","cache","k","getDataValue","_attrsRead","attr","camelKey","removeData","delete","isArray","getInternalData","setInternalData","cleanData","elems","children","getElementsByTagName","i","class2type","hasOwn","hasOwnProperty","obj","call","isArrayLike","isWindow","objType","isFunction","isElement","isNumeric","realType","isNaN","parseFloat","isPlainObject","constructor","prototype","isString","extend","deep","target","sources","isDeep","targetObj","objectsToMerge","src","srcVal","existingVal","clone","merge","first","second","len","j","proxy","fn","args","tmp","bound","callArgs","apply","this","concat","guid","uniqueSort","seen","unique","has","compareDocumentPosition","sort","a","b","compare","rmsPrefix","rdashAlpha","str","all","wrapMap","thead","tbody","tfoot","colgroup","caption","tr","th","td","col","option","optgroup","legend","defaultWrapper","parseHTML","keepScripts","Error","doc","singleTagMatch","createElement","tagMatch","firstTag","wrapper","fragment","createDocumentFragment","node","html","innerHTML","appendChild","nodes","childNodes","filtered","tagName","script","removeChild","traditional","parts","valueOrFunction","encodeURIComponent","buildParams","prefix","v","item","join","jQNext","pushStack","prev","ret","prevObject","jQCollection","_elements","init","contextElem","readyState","doScroll","setTimeout","addEventListener","once","trimmed","isHtml","looksLikeHtml","_push","_applyProps","toArray","props","each","className","setAttribute","callback","flat","element","eq","last","start","end","addBack","find","winnow","not","is","targets","contains","contents","contentDocument","contentWindow","_bind","qualifier","qualArr","qualSet","elemArray","Callbacks","options","opts","flag","list","firing","firingIndex","memory","fired","locked","fire","stopOnFalse","self","firingStart","addToList","arg","remove","splice","empty","disable","lock","fireWith","Deferred","func","tuples","state","promise","always","fns","deferred","done","fail","catch","then","pipe","arguments","onFulfilled","onRejected","onProgress","maxDepth","resolve","depth","handler","special","mightThrow","returned","TypeError","identity","thrower","notifyWith","resolveWith","process","rejectWith","newDefer","tuple","stateString","ex","Symbol","iterator","handlersStorage","focus","trigger","delegateType","blur","click","_default","event","submit","mouseenter","handle","related","relatedTarget","currentTarget","handleObj","mouseleave","focusin","setup","focusout","parseEventTypes","types","namespaces","namespace","origType","eventType","getHandlers","handlers","events","createHandler","nativeEvent","fixEvent","handlersCopy","handlerQueue","every","ns","includes","isDelegated","Infinity","extraArgs","_extraArgs","specialHandle","preventDefault","stopPropagation","isImmediatePropagationStopped","_fixed","originalEvent","timeStamp","button","buttons","which","charCode","keyCode","code","altKey","ctrlKey","metaKey","shiftKey","clientX","clientY","pageX","pageY","screenX","screenY","offsetX","offsetY","detail","_isDefaultPrevented","_isPropagationStopped","_isImmediatePropagationStopped","stopImmediatePropagation","isDefaultPrevented","defaultPrevented","isPropagationStopped","docElem","body","scrollLeft","clientLeft","scrollTop","clientTop","on","one","returnFalse","origFn","off","parsedTypes","elemHandle","specialType","bindType","addHandler","removeHandler","removeByType","t","remaining","teardown","removeEventListener","triggerEvent","propagate","eventObj","Event","CustomEvent","bubbles","cancelable","specialTrigger","specialHandled","nativeEventName","old","cloneHandlers","source","dest","sourceHandlers","destHandlers","destHandle","typeHandlers","clonedHandleObj","getDocument","toNodes","content","Node","domManip","staticArgs","funcArgs","isLast","allNodes","cloneNode","resultNodes","propFix","for","class","booleanAttrs","setAttr","val","cssNumber","vendorPrefixes","getStyles","defaultView","getComputedStyle","vendorPropName","camelName","style","capName","prefixed","css","prop","computed","getPropertyValue","setCSS","String","adjustCSS","dimension","dim","extra","innerWidth","innerHeight","max","rect","getBoundingClientRect","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","marginLeft","marginRight","marginTop","marginBottom","paddingLeft","paddingRight","paddingTop","paddingBottom","round","boxSizing","offset","coordinates","curPosition","position","curOffset","curCSSTop","curCSSLeft","curTop","curLeft","curPos","top","left","setOffset","win","pageYOffset","pageXOffset","offsetParent","elemOffset","parentOffset","parentComputed","scrollProp","scrollPropName","pagePropName","scrollX","scrollY","scrollTo","createShortcut","load","resize","scroll","unload","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","change","select","keydown","keypress","keyup","error","contextmenu","speeds","slow","fast","fx","interval","easingMap","linear","swing","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInBack","easeOutBack","easeInOutBack","normalizeDuration","duration","normalizeEasing","easing","animate","properties","complete","animateElement","queue","animationTask","to","camelProp","targetValue","currentValue","modifier","delta","keyframes","animation","fill","animations","onfinish","commitStyles","cancel","anims","step","oncancel","runAnimation","processQueue","task","shift","dequeue","displayCache","getDefaultDisplay","temp","display","isHidden","normalizeOptions","useDefault","show","overflow","targetHeight","targetWidth","height","width","opacity","hide","toggle","showElement","hideElement","slideToggle","slideDownElement","slideUpElement","fadeToggle","fadeInElement","fadeOutElement","ajaxSettings","url","href","contentType","processData","async","accepts","xml","json","dataType","timeout","crossDomain","headers","global","active","prefilters","ajax","settings","method","dataTypes","jqXHR","status","statusText","responseText","responseJSON","responseXML","getResponseHeader","_responseHeaders","getAllResponseHeaders","entries","setRequestHeader","overrideMimeType","mimeType","abort","controller","success","requestUrl","timestamp","requestData","fetchOptions","Headers","credentials","xhrFields","withCredentials","accept","header","stringify","FormData","AbortController","signal","beforeSend","isSuccess","triggerGlobal","fetch","response","ok","parser","DOMParser","parseFromString","$","presideJQuery","jQuery","rsubmittable","rsubmitterTypes","rcheckableType","getSerializableElements","form","formElements","serializeArray","multiple","values","getValue","ui","version","BACKSPACE","COMMA","DELETE","DOWN","END","ENTER","ESCAPE","HOME","LEFT","PAGE_DOWN","PAGE_UP","PERIOD","RIGHT","SPACE","TAB","UP","safeActiveElement","safeBlur","widgetUuid","Widget","widgetName","widgetEventPrefix","defaultElement","create","uuid","eventNamespace","bindings","hoverable","focusable","_createWidget","Element","_getCreateOptions","_create","_trigger","_getCreateEventData","_init","destroy","_destroy","binding","classList","widget","curOption","lastPart","pop","_setOption","_toggleClass","_removeClass","_setOptions","enable","_on","suppressDisabledCheck","instance","eventParts","wrappedHandler","evt","_off","eventName","customEvent","dispatchEvent","_delay","delay","_hoverable","_addClass","_focusable","classes","cls","_scrollParent","includeHidden","excludeStaticParent","overflowRegex","scrollParent","parentElement","overflowY","overflowX","scrollingElement","returnTrue","jquery","grep","array","invert","expectTrue","inArray","fromIndex","makeArray","arrayLike","noop","container","contained","globalEval","head","isEmptyObject","isXMLDoc","parseJSON","parseXML","msg","when","subordinates","updateFunc","progressContexts","progressValues","resolveContexts","resolveValues","progress","reject","hasData","_data","getHandlersStorage","_removeData","ajaxSetup","ajaxPrefilter","dataTypeOrHandler","ajaxTransport","post","getJSON","getScript","scriptElem","p","cos","PI","Animation","speed","opt","returnValue","fixHooks","fix","simulate","isSimulated","expr","filters","visible","hidden","createPseudo","wrapped","_isCreatePseudo","compile","matchesSelector","styles","cssModule.css","cssHooks","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","fontWeight","lineHeight","order","orphans","widows","zIndex","zoom","support","cors","changeBubbles","optSelected","transition","createHTMLDocument","implementation","base","Constructor","WidgetConstructor","parentCreate","parentInit","parentDestroy","methodName","console","charAt","existing","registerPlugin","_jQuery","_$","noConflict","isReady","readyWait","ready","holdReady","hold","size","traversal.parent","parents","traversal.parents","parentsUntil","until","untilElem","traversal.parentsUntil","traversal.closest","kids","traversal.children","siblings","traversal.siblings","next","sibling","nextElementSibling","traversal.next","nextAll","traversal.nextAll","nextUntil","traversal.nextUntil","previousElementSibling","traversal.prev","prevAll","traversal.prevAll","prevUntil","traversal.prevUntil","traversal.offsetParent","oldHtml","newValue","manipulation.html","nodeValue","manipulation.text","append","manipulation.append","prepend","insertBefore","manipulation.prepend","before","manipulation.before","after","nextSibling","manipulation.after","appendTo","manipulation.appendTo","prependTo","manipulation.prependTo","manipulation.insertBefore","insertAfter","manipulation.insertAfter","wrap","isFunc","wrapperElem","manipulation.wrap","wrapAll","manipulation.wrapAll","wrapInner","manipulation.wrapInner","unwrap","manipulation.unwrap","manipulation.remove","detach","manipulation.detach","replaceWith","newContent","replaceChild","manipulation.replaceWith","replaceAll","manipulation.replaceAll","withDataAndEvents","deepWithDataAndEvents","cloned","sourceData","sourceDescendants","clonedDescendants","srcDesc","clonedDesc","descData","manipulation.clone","attributes.attr","removeAttr","names","n","attributes.removeAttr","propName","attributes.prop","removeProp","attributes.removeProp","selectedIndex","optValue","attributes.val","addClass","classNames","attributes.addClass","removeClass","attributes.removeClass","toggleClass","attributes.toggleClass","hasClass","attributes.hasClass","cssModule.width","cssModule.height","cssModule.innerWidth","cssModule.innerHeight","outerWidth","includeMargin","cssModule.outerWidth","outerHeight","cssModule.outerHeight","cssModule.offset","cssModule.position","cssModule.scrollTop","cssModule.scrollLeft","triggerHandler","eventShortcuts.blur","eventShortcuts.focus","eventShortcuts.focusin","eventShortcuts.focusout","eventShortcuts.load","eventShortcuts.resize","eventShortcuts.scroll","eventShortcuts.unload","eventShortcuts.click","eventShortcuts.dblclick","eventShortcuts.mousedown","eventShortcuts.mouseup","eventShortcuts.mousemove","eventShortcuts.mouseover","eventShortcuts.mouseout","eventShortcuts.mouseenter","eventShortcuts.mouseleave","eventShortcuts.change","eventShortcuts.select","eventShortcuts.submit","eventShortcuts.keydown","eventShortcuts.keypress","eventShortcuts.keyup","eventShortcuts.error","eventShortcuts.contextmenu","hover","handlerIn","handlerOut","bind","unbind","delegate","undelegate","slideDown","slideUp","fadeIn","fadeOut","fadeTo","stop","clearQueue","jumpToEnd","anim","finish","time","Promise","count","orig","found","el","serialize","ajaxComplete","ajaxError","ajaxSend","ajaxStart","ajaxStop","ajaxSuccess"],"mappings":"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"}