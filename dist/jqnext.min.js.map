{"version":3,"file":"jqnext.min.js","sources":["../src/selectors/pseudo.js","../src/core/data.js","../src/utilities/type.js","../src/utilities/objects.js","../src/utilities/strings.js","../src/core/collection.js","../src/utilities/deferred.js","../src/dom/manipulation.js","../src/dom/attributes.js","../src/dom/css.js","../src/events/core.js","../src/events/shortcuts.js","../src/effects/core.js","../src/effects/showhide.js","../src/ajax/core.js","../src/ajax/serialize.js","../src/compat/jquery-ui.js","../src/jqnext.js","../src/dom/traversal.js"],"sourcesContent":["/**\n * jQNext - Pseudo Selector Engine\n * Support for jQuery-specific pseudo-selectors\n */\n\n/**\n * Check if element is visible\n * @param {Element} elem - Element to check\n * @returns {boolean}\n */\nfunction isVisible(elem) {\n  return !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);\n}\n\n/**\n * Pseudo-selector definitions\n * Each returns true if the element matches the pseudo\n */\nexport const pseudoSelectors = {\n  // Visibility\n  ':visible': (elem) => isVisible(elem),\n  ':hidden': (elem) => !isVisible(elem),\n  \n  // :not() - handles jQuery pseudos inside\n  ':not': (elem, index, collection, selector) => {\n    if (!selector) return true;\n    // Use matchesWithPseudo for the inner selector to handle jQuery pseudos\n    return !matchesSingleSelectorForNot(elem, selector, index, collection);\n  },\n  \n  // Position in set\n  ':first': (elem, index) => index === 0,\n  ':last': (elem, index, collection) => index === collection.length - 1,\n  ':even': (elem, index) => index % 2 === 0,\n  ':odd': (elem, index) => index % 2 === 1,\n  ':eq': (elem, index, collection, param) => index === parseInt(param, 10),\n  ':gt': (elem, index, collection, param) => index > parseInt(param, 10),\n  ':lt': (elem, index, collection, param) => index < parseInt(param, 10),\n  ':nth': (elem, index, collection, param) => index === parseInt(param, 10),\n  \n  // Content\n  ':contains': (elem, index, collection, text) => elem.textContent.indexOf(text) > -1,\n  ':empty': (elem) => !elem.firstChild,\n  ':parent': (elem) => !!elem.firstChild,\n  ':has': (elem, index, collection, selector) => elem.querySelector(selector) !== null,\n  \n  // Form elements\n  ':input': (elem) => /^(input|select|textarea|button)$/i.test(elem.nodeName),\n  ':text': (elem) => elem.type === 'text',\n  ':password': (elem) => elem.type === 'password',\n  ':radio': (elem) => elem.type === 'radio',\n  ':checkbox': (elem) => elem.type === 'checkbox',\n  ':submit': (elem) => elem.type === 'submit',\n  ':image': (elem) => elem.type === 'image',\n  ':reset': (elem) => elem.type === 'reset',\n  ':button': (elem) => elem.type === 'button' || elem.nodeName.toLowerCase() === 'button',\n  ':file': (elem) => elem.type === 'file',\n  \n  // Form state\n  ':enabled': (elem) => elem.disabled === false && !elem.matches('[disabled]'),\n  ':disabled': (elem) => elem.disabled === true,\n  ':checked': (elem) => elem.checked === true,\n  ':selected': (elem) => elem.selected === true,\n  ':focus': (elem) => elem === elem.ownerDocument.activeElement && elem.ownerDocument.hasFocus(),\n  \n  // Structure\n  ':root': (elem) => elem === elem.ownerDocument.documentElement,\n  ':target': (elem) => {\n    const hash = window.location.hash;\n    return hash && elem.id === hash.slice(1);\n  },\n  ':animated': (elem) => {\n    // Check if element has running animations\n    const animations = elem.getAnimations?.() || [];\n    return animations.length > 0;\n  },\n  \n  // Header elements\n  ':header': (elem) => /^h[1-6]$/i.test(elem.nodeName),\n  \n  // First/last of type\n  ':first-child': (elem) => elem.parentNode?.firstElementChild === elem,\n  ':last-child': (elem) => elem.parentNode?.lastElementChild === elem,\n  ':only-child': (elem) => {\n    const parent = elem.parentNode;\n    return parent?.firstElementChild === elem && parent?.lastElementChild === elem;\n  },\n  \n  // Data attribute\n  ':data': (elem, index, collection, key) => {\n    if (key) {\n      return elem.dataset[key] !== undefined;\n    }\n    return Object.keys(elem.dataset).length > 0;\n  },\n  \n  // Lang\n  ':lang': (elem, index, collection, lang) => {\n    const elemLang = elem.lang || elem.closest('[lang]')?.lang || '';\n    return elemLang.toLowerCase().startsWith(lang.toLowerCase());\n  }\n};\n\n// Regex to match pseudo-selectors with optional parameters\nconst pseudoRegex = /:([\\w-]+)(?:\\(([^)]*)\\))?/g;\n\n/**\n * Check if a pseudo name is a jQuery-specific pseudo (not native CSS)\n * @param {string} name - Pseudo name without colon\n * @returns {boolean}\n */\nfunction isJQueryPseudo(name) {\n  // Check both with and without colon prefix (plugins may add without colon)\n  return pseudoSelectors[':' + name] !== undefined || pseudoSelectors[name] !== undefined;\n}\n\n/**\n * Parse a selector string and extract pseudo-selectors\n * @param {string} selector - Selector string\n * @returns {Object} - { baseSelector, pseudos: [{ name, param }] }\n */\nexport function parsePseudos(selector) {\n  const pseudos = [];\n  let baseSelector = selector;\n  \n  // Reset regex lastIndex\n  pseudoRegex.lastIndex = 0;\n  \n  let match;\n  while ((match = pseudoRegex.exec(selector)) !== null) {\n    const [fullMatch, name, param] = match;\n    \n    // Check if it's a jQuery pseudo (not native CSS)\n    // Also make sure it's not inside an attribute selector like [type='text']\n    const beforeMatch = selector.substring(0, match.index);\n    const insideAttr = (beforeMatch.match(/\\[/g) || []).length > (beforeMatch.match(/\\]/g) || []).length;\n    \n    if (!insideAttr && isJQueryPseudo(name)) {\n      pseudos.push({\n        name: ':' + name,\n        param: param?.replace(/^['\"]|['\"]$/g, '') // Remove quotes\n      });\n      \n      // Check if the pseudo was preceded by a space (descendant combinator)\n      // In that case, replace with '*' to select all descendants\n      const charBefore = match.index > 0 ? selector[match.index - 1] : '';\n      if (charBefore === ' ' || charBefore === '\\t' || charBefore === '\\n') {\n        // Replace the pseudo with '*' to get all descendants\n        baseSelector = baseSelector.substring(0, match.index) + '*' + baseSelector.substring(match.index + fullMatch.length);\n      } else {\n        baseSelector = baseSelector.replace(fullMatch, '');\n      }\n    }\n  }\n  \n  // Clean up the base selector - remove leading/trailing commas and whitespace\n  baseSelector = baseSelector\n    .replace(/^[\\s,]+/, '')  // Remove leading whitespace and commas\n    .replace(/[\\s,]+$/, '')  // Remove trailing whitespace and commas\n    .replace(/,\\s*,/g, ',')  // Remove double commas\n    .trim();\n  \n  // If selector is empty or just whitespace, default to '*'\n  if (!baseSelector) {\n    baseSelector = '*';\n  }\n  \n  return { baseSelector, pseudos };\n}\n\n/**\n * Filter elements by jQuery pseudo-selectors\n * @param {Element[]} elements - Elements to filter\n * @param {Array} pseudos - Array of { name, param } objects\n * @returns {Element[]} - Filtered elements\n */\nexport function filterByPseudos(elements, pseudos) {\n  if (!pseudos.length) return elements;\n  \n  let result = elements;\n  \n  for (const pseudo of pseudos) {\n    // Check both with and without colon prefix (plugins may add without colon)\n    const filterFn = pseudoSelectors[pseudo.name] || pseudoSelectors[pseudo.name.slice(1)];\n    if (filterFn) {\n      result = result.filter((elem, index, arr) =>\n        filterFn(elem, index, arr, pseudo.param)\n      );\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Enhanced query selector with jQuery pseudo support\n * @param {string} selector - Selector string\n * @param {Element|Document} context - Context element\n * @returns {Element[]} - Matching elements\n */\nexport function querySelectorAllWithPseudo(selector, context = document) {\n  // Ensure selector is a string\n  if (typeof selector !== 'string' || !selector) {\n    return [];\n  }\n  \n  // Ensure context is valid\n  if (!context || typeof context.querySelectorAll !== 'function') {\n    // Try to use document if context is invalid\n    context = document;\n  }\n  \n  // Handle comma-separated selectors\n  if (selector.indexOf(',') > -1) {\n    const selectors = selector.split(',').map(s => s.trim());\n    const results = new Set();\n    \n    selectors.forEach(sel => {\n      querySelectorAllWithPseudo(sel, context).forEach(elem => results.add(elem));\n    });\n    \n    return Array.from(results);\n  }\n  \n  const { baseSelector, pseudos } = parsePseudos(selector);\n  \n  try {\n    // Handle selectors starting with > (child combinator)\n    let actualSelector = baseSelector;\n    if (actualSelector.startsWith('>')) {\n      // Need to scope the selector to the context\n      if (context.id) {\n        actualSelector = '#' + context.id + ' ' + actualSelector;\n      } else {\n        // Add a temporary ID\n        const tempId = 'jqnext-temp-' + Math.random().toString(36).substr(2, 9);\n        context.id = tempId;\n        actualSelector = '#' + tempId + ' ' + actualSelector;\n        const elements = Array.from(document.querySelectorAll(actualSelector));\n        context.removeAttribute('id');\n        return filterByPseudos(elements, pseudos);\n      }\n    }\n    \n    // First, try native querySelectorAll\n    let elements = Array.from(context.querySelectorAll(actualSelector));\n    \n    // Then filter by jQuery pseudos\n    return filterByPseudos(elements, pseudos);\n  } catch (e) {\n    // If native fails (invalid selector), return empty\n    console.warn('Invalid selector:', selector, e);\n    return [];\n  }\n}\n\n/**\n * Check if a single element matches a selector with pseudo support\n * @param {Element} elem - Element to check\n * @param {string} selector - Selector string\n * @param {number} [index=0] - Element's index in the collection (for filter context)\n * @param {Element[]} [collection=null] - The full collection being filtered\n * @returns {boolean}\n */\nexport function matchesWithPseudo(elem, selector, index = 0, collection = null) {\n  // Ensure selector is a string\n  if (typeof selector !== 'string' || !selector) {\n    return false;\n  }\n  \n  // Ensure elem is valid\n  if (!elem || !elem.matches) {\n    return false;\n  }\n  \n  // Default collection to just the element if not provided\n  const coll = collection || [elem];\n  const idx = collection ? index : 0;\n  \n  // Handle comma-separated selectors (element matches if ANY part matches)\n  if (selector.indexOf(',') > -1) {\n    const selectors = selector.split(',').map(s => s.trim()).filter(Boolean);\n    return selectors.some(sel => matchesSingleSelector(elem, sel, idx, coll));\n  }\n  \n  return matchesSingleSelector(elem, selector, idx, coll);\n}\n\n/**\n * Check if element matches a single (non-comma-separated) selector\n * @param {Element} elem - Element to check\n * @param {string} selector - Single selector string\n * @param {number} index - Element's index in the collection\n * @param {Element[]} collection - The full collection being filtered\n * @returns {boolean}\n */\nfunction matchesSingleSelector(elem, selector, index, collection) {\n  const { baseSelector, pseudos } = parsePseudos(selector);\n  \n  // Check base selector first (if not just '*')\n  if (baseSelector && baseSelector !== '*') {\n    try {\n      if (!elem.matches(baseSelector)) {\n        return false;\n      }\n    } catch (e) {\n      // Invalid selector - can't match\n      return false;\n    }\n  }\n  \n  // Check all pseudos with proper index and collection context\n  for (const pseudo of pseudos) {\n    const filterFn = pseudoSelectors[pseudo.name];\n    if (filterFn && !filterFn(elem, index, collection, pseudo.param)) {\n      return false;\n    }\n  }\n  \n  return true;\n}\n\n/**\n * Check if element matches a single selector with proper collection context\n * This is used by :not() to properly evaluate index-based pseudos like :last\n * @param {Element} elem - Element to check\n * @param {string} selector - Single selector string\n * @param {number} index - Element's index in the collection\n * @param {Element[]} collection - The full collection being filtered\n * @returns {boolean}\n */\nfunction matchesSingleSelectorForNot(elem, selector, index, collection) {\n  const { baseSelector, pseudos } = parsePseudos(selector);\n  \n  // Check base selector first (if not just '*')\n  if (baseSelector && baseSelector !== '*') {\n    try {\n      if (!elem.matches(baseSelector)) {\n        return false;\n      }\n    } catch (e) {\n      // Invalid selector - can't match\n      return false;\n    }\n  }\n  \n  // Check all pseudos with proper index and collection context\n  for (const pseudo of pseudos) {\n    const filterFn = pseudoSelectors[pseudo.name];\n    if (filterFn && !filterFn(elem, index, collection, pseudo.param)) {\n      return false;\n    }\n  }\n  \n  return true;\n}\n\nexport default {\n  pseudoSelectors,\n  parsePseudos,\n  filterByPseudos,\n  querySelectorAllWithPseudo,\n  matchesWithPseudo\n};","/**\n * jQNext - Data Storage\n * WeakMap-based data storage for elements (replaces jQuery's $.data)\n */\n\n// Use WeakMap for memory-efficient data storage\nconst dataCache = new WeakMap();\n\n// Unique identifier for internal data\nexport const expando = 'jQNext' + Date.now() + Math.random().toString(36).slice(2);\n\n/**\n * Get or create the data object for an element\n * @param {Object} owner - Element or object to get data for\n * @returns {Object} - Data object for the owner\n */\nfunction getData(owner) {\n  let data = dataCache.get(owner);\n  if (!data) {\n    data = {};\n    // Only set for nodes that can accept data\n    if (acceptsData(owner)) {\n      dataCache.set(owner, data);\n    }\n  }\n  return data;\n}\n\n/**\n * Check if an object can have data attached to it\n * @param {Object} owner - Object to check\n * @returns {boolean}\n */\nfunction acceptsData(owner) {\n  // Accept data on:\n  // - Objects (any object without a fixed type)\n  // - Element nodes\n  // - Document nodes\n  // Reject on:\n  // - null/undefined\n  // - Text nodes\n  // - Comment nodes\n  // - Processing instruction nodes\n  // - Embedded elements (applets, object)\n  return owner != null && (\n    owner.nodeType === 1 ||\n    owner.nodeType === 9 ||\n    owner.nodeType === 11 ||\n    !+owner.nodeType // Objects without nodeType (plain objects)\n  );\n}\n\n/**\n * Convert data attribute name to property key\n * @param {string} key - Attribute name\n * @returns {string} - Property key\n */\nfunction camelCase(key) {\n  return key.replace(/-([a-z])/g, (_, letter) => letter.toUpperCase());\n}\n\n/**\n * Get value from HTML5 data attributes\n * @param {Element} elem - Element to get data from\n * @param {string} key - Data key (without 'data-' prefix)\n * @returns {*} - Data value\n */\nfunction dataAttr(elem, key) {\n  if (elem.nodeType !== 1) return undefined;\n  \n  const name = 'data-' + key.replace(/[A-Z]/g, '-$&').toLowerCase();\n  const data = elem.getAttribute(name);\n  \n  if (data === null) {\n    return undefined;\n  }\n  \n  // Try to parse the value\n  if (data === 'true') return true;\n  if (data === 'false') return false;\n  if (data === 'null') return null;\n  \n  // Convert to number if it represents a number\n  if (data === +data + '') return +data;\n  \n  // Try to parse as JSON\n  if (/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/.test(data)) {\n    try {\n      return JSON.parse(data);\n    } catch (e) {\n      // Not valid JSON, return as string\n    }\n  }\n  \n  return data;\n}\n\n/**\n * Set data on an element\n * @param {Object} owner - Element or object\n * @param {string|Object} key - Data key or object of key-value pairs\n * @param {*} [value] - Value to set\n */\nexport function setData(owner, key, value) {\n  const cache = getData(owner);\n  \n  if (typeof key === 'string') {\n    cache[camelCase(key)] = value;\n  } else if (typeof key === 'object') {\n    // Set multiple values\n    for (const k in key) {\n      cache[camelCase(k)] = key[k];\n    }\n  }\n}\n\n/**\n * Get data from an element\n * @param {Object} owner - Element or object\n * @param {string} [key] - Data key (optional, returns all data if not provided)\n * @returns {*} - Data value or all data\n */\nexport function getDataValue(owner, key) {\n  const cache = getData(owner);\n  \n  if (key === undefined) {\n    // Return all data, including data attributes\n    if (owner.nodeType === 1) {\n      // Populate from data- attributes if not already done\n      if (!cache._attrsRead && owner.dataset) {\n        for (const attr in owner.dataset) {\n          if (!(attr in cache)) {\n            cache[attr] = dataAttr(owner, attr);\n          }\n        }\n        cache._attrsRead = true;\n      }\n    }\n    \n    // Return copy without internal properties\n    const result = {};\n    for (const k in cache) {\n      if (!k.startsWith('_')) {\n        result[k] = cache[k];\n      }\n    }\n    return result;\n  }\n  \n  const camelKey = camelCase(key);\n  \n  // Check cache first\n  if (camelKey in cache) {\n    return cache[camelKey];\n  }\n  \n  // Fall back to data attribute\n  if (owner.nodeType === 1) {\n    const value = dataAttr(owner, key);\n    if (value !== undefined) {\n      // Cache for future access\n      cache[camelKey] = value;\n      return value;\n    }\n  }\n  \n  return undefined;\n}\n\n/**\n * Remove data from an element\n * @param {Object} owner - Element or object\n * @param {string|string[]} [key] - Data key(s) to remove (removes all if not provided)\n */\nexport function removeData(owner, key) {\n  if (key === undefined) {\n    // Remove all data\n    dataCache.delete(owner);\n    return;\n  }\n  \n  const cache = getData(owner);\n  const keys = Array.isArray(key) ? key : [key];\n  \n  keys.forEach(k => {\n    delete cache[camelCase(k)];\n  });\n}\n\n/**\n * Check if an element has any data\n * @param {Object} owner - Element or object\n * @returns {boolean}\n */\nexport function hasData(owner) {\n  const cache = dataCache.get(owner);\n  if (!cache) return false;\n  \n  // Check if there are any non-internal properties\n  for (const key in cache) {\n    if (!key.startsWith('_')) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Get internal data (prefixed with '_')\n * @param {Object} owner - Element or object\n * @param {string} key - Internal data key\n * @returns {*}\n */\nexport function getInternalData(owner, key) {\n  const cache = getData(owner);\n  return cache['_' + key];\n}\n\n/**\n * Set internal data (prefixed with '_')\n * @param {Object} owner - Element or object\n * @param {string} key - Internal data key\n * @param {*} value - Value to set\n */\nexport function setInternalData(owner, key, value) {\n  const cache = getData(owner);\n  cache['_' + key] = value;\n}\n\n/**\n * Remove internal data\n * @param {Object} owner - Element or object\n * @param {string} key - Internal data key\n */\nexport function removeInternalData(owner, key) {\n  const cache = getData(owner);\n  delete cache['_' + key];\n}\n\n/**\n * Clean up all data associated with removed elements\n * Should be called when elements are removed from DOM\n * @param {Element|Element[]} elems - Elements to clean up\n */\nexport function cleanData(elems) {\n  const elements = Array.isArray(elems) ? elems : [elems];\n  \n  elements.forEach(elem => {\n    // Remove data\n    dataCache.delete(elem);\n    \n    // Also clean children\n    if (elem.nodeType === 1) {\n      const children = elem.getElementsByTagName('*');\n      for (let i = 0; i < children.length; i++) {\n        dataCache.delete(children[i]);\n      }\n    }\n  });\n}\n\nexport default {\n  expando,\n  setData,\n  getDataValue,\n  removeData,\n  hasData,\n  getInternalData,\n  setInternalData,\n  removeInternalData,\n  cleanData\n};","/**\n * jQNext - Type Utilities\n * Type checking and conversion functions\n */\n\nconst class2type = {};\nconst toString = class2type.toString;\nconst hasOwn = class2type.hasOwnProperty;\n\n// Populate class2type map\n'Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' ').forEach(name => {\n  class2type[`[object ${name}]`] = name.toLowerCase();\n});\n\n/**\n * Determine the internal JavaScript [[Class]] of an object\n * @param {*} obj - Value to check\n * @returns {string} - Type string (e.g., 'array', 'object', 'function')\n */\nexport function type(obj) {\n  if (obj == null) {\n    return obj + '';\n  }\n  return typeof obj === 'object' || typeof obj === 'function'\n    ? class2type[toString.call(obj)] || 'object'\n    : typeof obj;\n}\n\n/**\n * Check if value is array-like (has length and numeric indices)\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isArrayLike(obj) {\n  // Defensive checks\n  if (obj == null || isWindow(obj)) {\n    return false;\n  }\n  \n  // Must be an object\n  if (typeof obj !== 'object' && typeof obj !== 'function') {\n    return false;\n  }\n  \n  // No functions\n  if (typeof obj === 'function') {\n    return false;\n  }\n  \n  const length = obj.length;\n  const objType = type(obj);\n  \n  // Elements with length\n  if (obj.nodeType === 1 && length) {\n    return true;\n  }\n  \n  // Arrays\n  if (objType === 'array') {\n    return true;\n  }\n  \n  // Empty array-like\n  if (length === 0) {\n    return true;\n  }\n  \n  // Array-like with valid length\n  if (typeof length === 'number' && length > 0) {\n    try {\n      return (length - 1) in obj;\n    } catch (e) {\n      return false;\n    }\n  }\n  \n  return false;\n}\n\n/**\n * Check if value is an array\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isArray(obj) {\n  return Array.isArray(obj);\n}\n\n/**\n * Check if value is a function\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isFunction(obj) {\n  return typeof obj === 'function' && typeof obj.nodeType !== 'number';\n}\n\n/**\n * Check if value is a window object\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isWindow(obj) {\n  return obj != null && obj === obj.window;\n}\n\n/**\n * Check if value is a Document\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isDocument(obj) {\n  return obj != null && obj.nodeType === 9;\n}\n\n/**\n * Check if value is an Element\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isElement(obj) {\n  return obj != null && obj.nodeType === 1;\n}\n\n/**\n * Check if value is numeric\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isNumeric(obj) {\n  const realType = type(obj);\n  return (realType === 'number' || realType === 'string') && \n    !isNaN(obj - parseFloat(obj));\n}\n\n/**\n * Check if value is a plain object (created using {} or new Object)\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isPlainObject(obj) {\n  if (!obj || type(obj) !== 'object' || obj.nodeType || isWindow(obj)) {\n    return false;\n  }\n  \n  try {\n    if (obj.constructor && \n        !hasOwn.call(obj, 'constructor') && \n        !hasOwn.call(obj.constructor.prototype, 'isPrototypeOf')) {\n      return false;\n    }\n  } catch (e) {\n    return false;\n  }\n  \n  // Own properties are enumerated firstly, so to speed up checking\n  let key;\n  for (key in obj) { /* empty */ }\n  \n  return key === undefined || hasOwn.call(obj, key);\n}\n\n/**\n * Check if object is empty (has no own enumerable properties)\n * @param {Object} obj - Object to check\n * @returns {boolean}\n */\nexport function isEmptyObject(obj) {\n  for (const name in obj) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Check if value is a string\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isString(obj) {\n  return type(obj) === 'string';\n}\n\n/**\n * Check if value is undefined\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isUndefined(obj) {\n  return obj === undefined;\n}\n\n/**\n * Check if value is null\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isNull(obj) {\n  return obj === null;\n}\n\n/**\n * Check if value is a boolean\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isBoolean(obj) {\n  return type(obj) === 'boolean';\n}\n\n/**\n * Check if value is an object (not null and typeof object or function)\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isObject(obj) {\n  return obj != null && (typeof obj === 'object' || typeof obj === 'function');\n}\n\nexport default {\n  type,\n  isArrayLike,\n  isArray,\n  isFunction,\n  isWindow,\n  isDocument,\n  isElement,\n  isNumeric,\n  isPlainObject,\n  isEmptyObject,\n  isString,\n  isUndefined,\n  isNull,\n  isBoolean,\n  isObject\n};","/**\n * jQNext - Object Utilities\n * Object manipulation and iteration functions\n */\n\nimport { isFunction, isArray, isArrayLike, isPlainObject, isWindow } from './type.js';\n\n/**\n * Merge the contents of two or more objects together into the first object\n * @param {boolean|Object} deep - If true, performs deep merge. Or target object.\n * @param {Object} target - The object to extend (if deep is boolean)\n * @param {...Object} sources - Objects containing properties to merge\n * @returns {Object} - The target object\n */\nexport function extend(deep, target, ...sources) {\n  let isDeep = false;\n  let targetObj = deep;\n  let objectsToMerge = [target, ...sources];\n  \n  // Handle deep copy situation\n  if (typeof deep === 'boolean') {\n    isDeep = deep;\n    targetObj = target;\n    objectsToMerge = sources;\n  }\n  \n  // Handle case when target is not an object\n  if (typeof targetObj !== 'object' && !isFunction(targetObj)) {\n    targetObj = {};\n  }\n  \n  objectsToMerge.forEach(src => {\n    if (src == null) return;\n    \n    for (const key in src) {\n      const srcVal = src[key];\n      \n      // Prevent Object.prototype pollution\n      if (key === '__proto__' || targetObj === srcVal) {\n        continue;\n      }\n      \n      // Recurse if we're merging plain objects or arrays\n      if (isDeep && srcVal && (isPlainObject(srcVal) || isArray(srcVal))) {\n        const existingVal = targetObj[key];\n        let clone;\n        \n        if (isArray(srcVal)) {\n          clone = existingVal && isArray(existingVal) ? existingVal : [];\n        } else {\n          clone = existingVal && isPlainObject(existingVal) ? existingVal : {};\n        }\n        \n        targetObj[key] = extend(isDeep, clone, srcVal);\n      } else if (srcVal !== undefined) {\n        targetObj[key] = srcVal;\n      }\n    }\n  });\n  \n  return targetObj;\n}\n\n/**\n * Iterate over an object or array, executing a function for each element\n * @param {Object|Array} obj - Object or array to iterate\n * @param {Function} callback - Function to execute for each element (index/key, value)\n * @returns {Object|Array} - The original object\n */\nexport function each(obj, callback) {\n  if (isArrayLike(obj)) {\n    const length = obj.length;\n    for (let i = 0; i < length; i++) {\n      if (callback.call(obj[i], i, obj[i]) === false) {\n        break;\n      }\n    }\n  } else {\n    for (const key in obj) {\n      if (callback.call(obj[key], key, obj[key]) === false) {\n        break;\n      }\n    }\n  }\n  \n  return obj;\n}\n\n/**\n * Translate all items in an array or object to new array of items\n * @param {Object|Array} obj - Object or array to iterate\n * @param {Function} callback - Function to execute for each element (value, index/key)\n * @returns {Array} - New array with the results\n */\nexport function map(obj, callback) {\n  const result = [];\n  \n  if (isArrayLike(obj)) {\n    const length = obj.length;\n    for (let i = 0; i < length; i++) {\n      const value = callback(obj[i], i);\n      if (value != null) {\n        result.push(value);\n      }\n    }\n  } else {\n    for (const key in obj) {\n      const value = callback(obj[key], key);\n      if (value != null) {\n        result.push(value);\n      }\n    }\n  }\n  \n  return result.flat();\n}\n\n/**\n * Finds the elements of an array which satisfy a filter function\n * @param {Array} array - Array to filter\n * @param {Function} callback - Filter function (element, index)\n * @param {boolean} [invert=false] - If true, return elements that don't match\n * @returns {Array} - Filtered array\n */\nexport function grep(array, callback, invert = false) {\n  const result = [];\n  const length = array.length;\n  const expectTrue = !invert;\n  \n  for (let i = 0; i < length; i++) {\n    const retVal = !!callback(array[i], i);\n    if (retVal === expectTrue) {\n      result.push(array[i]);\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Search for a specified value within an array\n * @param {*} elem - Value to search for\n * @param {Array} array - Array to search\n * @param {number} [fromIndex=0] - Index to start from\n * @returns {number} - Index of element, or -1 if not found\n */\nexport function inArray(elem, array, fromIndex = 0) {\n  return array == null ? -1 : Array.prototype.indexOf.call(array, elem, fromIndex);\n}\n\n/**\n * Merge the contents of two arrays together into the first array\n * @param {Array} first - Array to receive elements\n * @param {Array} second - Array to merge into first\n * @returns {Array} - The first array\n */\nexport function merge(first, second) {\n  const len = +second.length;\n  let j = 0;\n  let i = first.length;\n  \n  for (; j < len; j++) {\n    first[i++] = second[j];\n  }\n  \n  first.length = i;\n  \n  return first;\n}\n\n/**\n * Convert an array-like object into a true JavaScript array\n * @param {*} arrayLike - Any array-like object\n * @returns {Array} - Array containing the elements\n */\nexport function makeArray(arrayLike, results = []) {\n  const arr = results;\n  \n  if (arrayLike != null) {\n    if (isArrayLike(Object(arrayLike))) {\n      merge(arr, typeof arrayLike === 'string' ? [arrayLike] : arrayLike);\n    } else {\n      arr.push(arrayLike);\n    }\n  }\n  \n  return arr;\n}\n\n/**\n * Bind a function to a context\n * @param {Function} fn - Function to bind\n * @param {Object} context - Context to bind to\n * @param {...*} args - Arguments to prepend to function calls\n * @returns {Function} - Bound function\n */\nexport function proxy(fn, context, ...args) {\n  if (!isFunction(fn)) {\n    return undefined;\n  }\n  \n  // Support: jQuery-style arguments (context, name)\n  if (typeof context === 'string') {\n    const tmp = fn[context];\n    context = fn;\n    fn = tmp;\n  }\n  \n  // Create bound function\n  const bound = function(...callArgs) {\n    return fn.apply(\n      context || this,\n      args.concat(callArgs)\n    );\n  };\n  \n  // Set a unique guid so we can remove the bound function later\n  bound.guid = fn.guid = fn.guid || proxy.guid++;\n  \n  return bound;\n}\n\nproxy.guid = 1;\n\n/**\n * An empty function - used as placeholder\n */\nexport function noop() {}\n\n/**\n * Return the current time\n * @returns {number} - Current timestamp in milliseconds\n */\nexport function now() {\n  return Date.now();\n}\n\n/**\n * Sort an array of DOM elements, in place, removing duplicates\n * @param {Array} results - Array to sort and dedupe\n * @returns {Array} - The sorted array\n */\nexport function uniqueSort(results) {\n  // Handle null, undefined, or non-array-like\n  if (!results) {\n    return results || [];\n  }\n  \n  // Ensure it's array-like\n  if (typeof results !== 'object' || typeof results.length !== 'number') {\n    return [];\n  }\n  \n  if (!results.length) {\n    return [];\n  }\n  \n  const seen = new Set();\n  const unique = [];\n  \n  for (let i = 0; i < results.length; i++) {\n    const elem = results[i];\n    if (elem && !seen.has(elem)) {\n      seen.add(elem);\n      unique.push(elem);\n    }\n  }\n  \n  // Sort by document position if elements\n  if (unique[0] && typeof unique[0].compareDocumentPosition === 'function') {\n    unique.sort((a, b) => {\n      if (a === b) return 0;\n      if (!a || !b || !a.compareDocumentPosition) return 0;\n      const compare = a.compareDocumentPosition(b);\n      if (compare & 4) return -1; // a is before b\n      if (compare & 2) return 1;  // a is after b\n      return 0;\n    });\n  }\n  \n  return unique;\n}\n\n/**\n * Check if an element is contained within another\n * @param {Element} container - Potential container element\n * @param {Element} contained - Element to check\n * @returns {boolean} - True if contained is inside container\n */\nexport function contains(container, contained) {\n  // Element.contains works for most cases\n  if (container.contains) {\n    return container !== contained && container.contains(contained);\n  }\n  \n  // Fallback for older browsers\n  if (container.compareDocumentPosition) {\n    return !!(container.compareDocumentPosition(contained) & 16);\n  }\n  \n  return false;\n}\n\n/**\n * Execute some JavaScript code globally\n * @param {string} code - Code to execute\n */\nexport function globalEval(code) {\n  if (code && /\\S/.test(code)) {\n    // Use indirect eval to run code in global scope\n    const script = document.createElement('script');\n    script.text = code;\n    document.head.appendChild(script).parentNode.removeChild(script);\n  }\n}\n\nexport default {\n  extend,\n  each,\n  map,\n  grep,\n  inArray,\n  merge,\n  makeArray,\n  proxy,\n  noop,\n  now,\n  uniqueSort,\n  contains,\n  globalEval\n};","/**\n * jQNext - String Utilities\n * String manipulation functions\n */\n\nconst rmsPrefix = /^-ms-/;\nconst rdashAlpha = /-([a-z])/g;\n\n/**\n * Convert dashed string to camelCase\n * @param {string} str - String to convert\n * @returns {string} - camelCase string\n */\nexport function camelCase(str) {\n  return str\n    .replace(rmsPrefix, 'ms-')\n    .replace(rdashAlpha, (all, letter) => letter.toUpperCase());\n}\n\n/**\n * Remove whitespace from beginning and end of string\n * Handles special whitespace: NBSP (\\xA0), ZWSP (\\uFEFF)\n * @param {string} str - String to trim\n * @returns {string} - Trimmed string\n */\nexport function trim(str) {\n  if (str == null) {\n    return '';\n  }\n  // Handle special whitespace characters that String.trim() might not handle\n  return (str + '').replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n}\n\n// Wrapper elements for special tags that can't be direct children of div\nconst wrapMap = {\n  // Table elements need proper wrappers\n  thead: ['table'],\n  tbody: ['table'],\n  tfoot: ['table'],\n  colgroup: ['table'],\n  caption: ['table'],\n  tr: ['table', 'tbody'],\n  th: ['table', 'tbody', 'tr'],\n  td: ['table', 'tbody', 'tr'],\n  col: ['table', 'colgroup'],\n  // Option/optgroup need select\n  option: ['select'],\n  optgroup: ['select'],\n  // Legend needs fieldset\n  legend: ['fieldset']\n};\n\n// Default wrapper is just a div (no special handling needed)\nconst defaultWrapper = [];\n\n/**\n * Get the wrapper needed for a tag\n * @param {string} tag - Tag name (lowercase)\n * @returns {string[]} - Array of wrapper tag names from outermost to innermost\n */\nfunction getWrapper(tag) {\n  return wrapMap[tag.toLowerCase()] || defaultWrapper;\n}\n\n/**\n * Parse a string into an array of DOM nodes\n * @param {string} data - HTML string to parse\n * @param {Document|boolean} [context=document] - Document context or keepScripts boolean\n * @param {boolean} [keepScripts=false] - Include script elements\n * @returns {Array|null} - Array of DOM nodes or null\n */\nexport function parseHTML(data, context, keepScripts) {\n  // Handle null, undefined, empty string\n  if (!data || typeof data !== 'string') {\n    return null;\n  }\n  \n  // Handle arguments - context can be boolean (keepScripts) or Document\n  if (typeof context === 'boolean') {\n    keepScripts = context;\n    context = document;\n  }\n  \n  // Default context\n  if (!context) {\n    context = document;\n  }\n  \n  // Throw if context is an element (not a document)\n  if (context.nodeType === 1) {\n    throw new Error('Context must be a document, not an element');\n  }\n  \n  // Get the actual document from context\n  const doc = context.ownerDocument || context;\n  \n  // Simple single tag: $('<div>')\n  const singleTagMatch = data.match(/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i);\n  if (singleTagMatch) {\n    return [doc.createElement(singleTagMatch[1])];\n  }\n  \n  // Detect the first tag in the HTML to determine if wrapping is needed\n  const tagMatch = data.match(/^[\\s]*<([a-z][^\\s>\\/]*)/i);\n  const firstTag = tagMatch ? tagMatch[1].toLowerCase() : '';\n  const wrapper = getWrapper(firstTag);\n  \n  // Create a document fragment to hold parsed content\n  const fragment = doc.createDocumentFragment();\n  let tmp = doc.createElement('div');\n  \n  // Build wrapper structure if needed\n  if (wrapper.length) {\n    // Build opening tags\n    let html = '';\n    for (let i = 0; i < wrapper.length; i++) {\n      html += '<' + wrapper[i] + '>';\n    }\n    html += data;\n    // Build closing tags in reverse\n    for (let i = wrapper.length - 1; i >= 0; i--) {\n      html += '</' + wrapper[i] + '>';\n    }\n    tmp.innerHTML = html;\n    \n    // Drill down to the innermost wrapper to get the actual content\n    for (let i = 0; i < wrapper.length; i++) {\n      tmp = tmp.firstElementChild;\n    }\n  } else {\n    // Use innerHTML to parse (no special wrapper needed)\n    tmp.innerHTML = data;\n  }\n  \n  // Move nodes to fragment\n  let node;\n  while ((node = tmp.firstChild)) {\n    fragment.appendChild(node);\n  }\n  \n  const nodes = Array.from(fragment.childNodes);\n  \n  // Remove scripts if not keeping them\n  if (!keepScripts) {\n    const filtered = [];\n    nodes.forEach(node => {\n      if (node.nodeType === 1 && node.tagName === 'SCRIPT') {\n        return; // skip script elements\n      }\n      if (node.nodeType === 1) {\n        // Remove nested scripts\n        const scripts = node.querySelectorAll ? node.querySelectorAll('script') : [];\n        scripts.forEach(script => script.parentNode && script.parentNode.removeChild(script));\n      }\n      filtered.push(node);\n    });\n    return filtered;\n  }\n  \n  return nodes;\n}\n\n/**\n * Parse JSON string into an object\n * @param {string} data - JSON string to parse\n * @returns {*} - Parsed value\n */\nexport function parseJSON(data) {\n  return JSON.parse(data);\n}\n\n/**\n * Parse XML string into an XML document\n * @param {string} data - XML string to parse\n * @returns {Document|null} - XML document or null\n */\nexport function parseXML(data) {\n  // Handle non-string inputs\n  if (data == null || typeof data !== 'string') {\n    return null;\n  }\n  \n  // Handle empty string\n  if (!data.trim()) {\n    return null;\n  }\n  \n  const parser = new DOMParser();\n  const xml = parser.parseFromString(data, 'text/xml');\n  \n  // Check for parsing errors\n  const parseError = xml.getElementsByTagName('parsererror');\n  if (parseError.length) {\n    throw new Error('Invalid XML: ' + data);\n  }\n  \n  return xml;\n}\n\n/**\n * Encode a set of form elements or object as a URL-encoded string\n * @param {Object|Array} obj - Object or array to serialize\n * @param {boolean} [traditional=false] - Use traditional parameter serialization\n * @returns {string} - URL-encoded string\n */\nexport function param(obj, traditional = false) {\n  const parts = [];\n  \n  function add(key, valueOrFunction) {\n    // If value is a function, invoke it and use its return value\n    const value = typeof valueOrFunction === 'function' \n      ? valueOrFunction() \n      : valueOrFunction;\n    \n    parts.push(\n      encodeURIComponent(key) + '=' + \n      encodeURIComponent(value == null ? '' : value)\n    );\n  }\n  \n  function buildParams(prefix, obj, traditional) {\n    if (Array.isArray(obj)) {\n      obj.forEach((v, i) => {\n        if (traditional || /\\[\\]$/.test(prefix)) {\n          // Treat each array item as a scalar\n          add(prefix, v);\n        } else {\n          // Item is non-scalar (array or object), encode its numeric index\n          buildParams(\n            prefix + '[' + (typeof v === 'object' && v != null ? i : '') + ']',\n            v,\n            traditional\n          );\n        }\n      });\n    } else if (!traditional && typeof obj === 'object' && obj !== null) {\n      // Serialize object item\n      for (const name in obj) {\n        buildParams(prefix + '[' + name + ']', obj[name], traditional);\n      }\n    } else {\n      // Serialize scalar item\n      add(prefix, obj);\n    }\n  }\n  \n  // Serialize the top-level object\n  if (Array.isArray(obj)) {\n    // Serialize array items (assume they are {name, value} objects)\n    obj.forEach(item => {\n      add(item.name, item.value);\n    });\n  } else {\n    for (const prefix in obj) {\n      buildParams(prefix, obj[prefix], traditional);\n    }\n  }\n  \n  return parts.join('&');\n}\n\n/**\n * Throw an error with the given message\n * @param {string} msg - Error message\n */\nexport function error(msg) {\n  throw new Error(msg);\n}\n\nexport default {\n  camelCase,\n  trim,\n  parseHTML,\n  parseJSON,\n  parseXML,\n  param,\n  error\n};","/**\n * jQNext - Collection Class\n * The core jQuery-compatible collection object\n */\n\nimport { querySelectorAllWithPseudo, matchesWithPseudo } from '../selectors/pseudo.js';\nimport { setData, getDataValue, removeData, cleanData, expando } from './data.js';\nimport { isFunction, isArrayLike, isWindow, isString, isPlainObject, isElement } from '../utilities/type.js';\nimport { extend, merge, makeArray, uniqueSort } from '../utilities/objects.js';\nimport { parseHTML } from '../utilities/strings.js';\n\n// Reference to the jQNext function (will be set by jqnext.js)\nlet jQNext = null;\n\n/**\n * Set the jQNext reference\n * @param {Function} fn - The jQNext function\n */\nexport function setJQNext(fn) {\n  jQNext = fn;\n}\n\n/**\n * Push context onto stack and return new collection\n * @param {jQCollection} collection - Collection to add to stack\n * @param {jQCollection} prev - Previous collection\n * @returns {jQCollection}\n */\nfunction pushStack(collection, prev) {\n  // Build a new jQCollection\n  const ret = jQNext(collection);\n  \n  // Add the old object onto the stack\n  ret.prevObject = prev;\n  \n  // Inherit context from previous collection (jQuery compatibility)\n  if (prev && prev.context) {\n    ret.context = prev.context;\n  }\n  \n  return ret;\n}\n\n/**\n * jQuery-compatible collection class\n * Extends Array to provide jQuery-like functionality\n */\nexport class jQCollection {\n  constructor() {\n    // Internal array to store elements\n    this._elements = [];\n    this.length = 0;\n    \n    // Store reference to previous collection for .end()\n    this.prevObject = null;\n    \n    // Store the selector string used to create this collection\n    this.selector = '';\n    \n    // Store the context used - default to document (jQuery compatibility)\n    this.context = typeof document !== 'undefined' ? document : null;\n  }\n  \n  /**\n   * Initialize the collection with elements\n   * @param {string|Element|NodeList|Array|Function} selector\n   * @param {Element|Document|jQCollection} context\n   */\n  init(selector, context = document) {\n    // Normalize context to DOM element (extract from jQCollection if needed)\n    const contextElem = context instanceof jQCollection ? context[0] : context;\n    \n    // Store context as DOM element (jQuery compatibility)\n    this.context = contextElem || document;\n    \n    // Handle empty or null selector\n    if (!selector) {\n      this.selector = '';\n      return this;\n    }\n    \n    // Handle DOM ready: $(function)\n    if (isFunction(selector)) {\n      // DOM is already loaded\n      if (document.readyState === 'complete' ||\n          (document.readyState !== 'loading' && !document.documentElement.doScroll)) {\n        setTimeout(() => selector(jQNext), 0);\n      } else {\n        document.addEventListener('DOMContentLoaded', () => selector(jQNext), { once: true });\n      }\n      return this;\n    }\n    \n    // Handle string selector\n    if (isString(selector)) {\n      // HTML string: $('<div>') - but check for second arg being props object\n      if (selector[0] === '<' && selector[selector.length - 1] === '>' && selector.length >= 3) {\n        // Parse HTML\n        const doc = context && context.ownerDocument ? context.ownerDocument :\n                    (context && context.nodeType === 9 ? context : document);\n        const nodes = parseHTML(selector, doc, true);\n        this._push(nodes || []);\n        \n        // Handle props object: $('<div/>', { class: 'foo', text: 'bar' })\n        if (context && isPlainObject(context)) {\n          this._applyProps(context);\n        }\n        \n        return this;\n      }\n      \n      // Store selector string\n      this.selector = selector;\n      \n      // Handle invalid selector starting with # followed by non-word characters\n      if (selector === '#' || /^#[^a-zA-Z]/.test(selector) && !/^#[a-zA-Z_]/.test(selector)) {\n        return this; // Return empty collection for invalid selectors like '#'\n      }\n      \n      // CSS selector\n      try {\n        const elements = querySelectorAllWithPseudo(selector, contextElem);\n        this._push(elements);\n      } catch (e) {\n        // Invalid selector - return empty collection\n      }\n      return this;\n    }\n    \n    // Handle Element\n    if (selector.nodeType) {\n      this[0] = selector;\n      this.length = 1;\n      this.context = selector;\n      return this;\n    }\n    \n    // Handle Window\n    if (isWindow(selector)) {\n      this[0] = selector;\n      this.length = 1;\n      this.context = selector;\n      return this;\n    }\n    \n    // Handle jQCollection - copy selector\n    if (selector instanceof jQCollection) {\n      this._push(selector.toArray());\n      this.selector = selector.selector;\n      this.context = selector.context || document;\n      return this;\n    }\n    \n    // Handle Array-like objects (NodeList, HTMLCollection, Array)\n    if (isArrayLike(selector)) {\n      this._push(Array.from(selector));\n      // context remains document (set in constructor)\n      return this;\n    }\n    \n    return this;\n  }\n  \n  /**\n   * Apply props object to elements (quick setter support)\n   * @private\n   * @param {Object} props - Properties/methods to apply\n   */\n  _applyProps(props) {\n    for (const key in props) {\n      const value = props[key];\n      \n      // Special handling for certain properties\n      if (key === 'text') {\n        // Set text content\n        this.each(function() {\n          this.textContent = value;\n        });\n      } else if (key === 'html') {\n        // Set HTML content\n        this.each(function() {\n          this.innerHTML = value;\n        });\n      } else if (key === 'class') {\n        // Set class attribute\n        this.each(function() {\n          this.className = value;\n        });\n      } else if (key === 'id') {\n        // Set id\n        this.each(function() {\n          this.id = value;\n        });\n      } else if (typeof this[key] === 'function') {\n        // Call the method if it exists on the collection\n        if (isFunction(value)) {\n          this[key](value);\n        } else if (isPlainObject(value)) {\n          // For methods like css, attr - pass the object\n          this[key](value);\n        } else if (Array.isArray(value)) {\n          this[key](...value);\n        } else {\n          this[key](value);\n        }\n      } else {\n        // Set as attribute\n        this.each(function() {\n          this.setAttribute(key, value);\n        });\n      }\n    }\n  }\n  \n  /**\n   * Push elements into the collection\n   * @private\n   * @param {Element[]} elements\n   */\n  _push(elements) {\n    for (let i = 0; i < elements.length; i++) {\n      this[i] = elements[i];\n    }\n    this.length = elements.length;\n  }\n  \n  // ==========================================\n  // ARRAY-LIKE METHODS\n  // ==========================================\n  \n  /**\n   * Iterate over elements\n   * @param {Function} callback - Function(index, element)\n   * @returns {jQCollection}\n   */\n  each(callback) {\n    for (let i = 0; i < this.length; i++) {\n      if (callback.call(this[i], i, this[i]) === false) {\n        break;\n      }\n    }\n    return this;\n  }\n  \n  /**\n   * Create a new collection with the results of calling a function on every element\n   * @param {Function} callback - Function(index, element)\n   * @returns {jQCollection}\n   */\n  map(callback) {\n    const result = [];\n    for (let i = 0; i < this.length; i++) {\n      const value = callback.call(this[i], i, this[i]);\n      if (value != null) {\n        result.push(value);\n      }\n    }\n    return pushStack(result.flat(), this);\n  }\n  \n  /**\n   * Get the element at index, or all elements as array\n   * @param {number} [index]\n   * @returns {Element|Element[]}\n   */\n  get(index) {\n    if (index === undefined) {\n      return this.toArray();\n    }\n    return index < 0 ? this[this.length + index] : this[index];\n  }\n  \n  /**\n   * Convert to array\n   * @returns {Element[]}\n   */\n  toArray() {\n    return Array.prototype.slice.call(this);\n  }\n  \n  /**\n   * Get the index of an element\n   * @param {Element|string} elem - Element or selector\n   * @returns {number}\n   */\n  index(elem) {\n    // No argument: return index of first element in parent\n    if (!elem) {\n      const first = this[0];\n      if (first && first.parentNode) {\n        return Array.from(first.parentNode.children).indexOf(first);\n      }\n      return -1;\n    }\n    \n    // Selector: return index of first match\n    if (isString(elem)) {\n      return Array.prototype.indexOf.call(jQNext(elem), this[0]);\n    }\n    \n    // Element: return its index in the collection\n    const element = elem instanceof jQCollection ? elem[0] : elem;\n    return Array.prototype.indexOf.call(this, element);\n  }\n  \n  /**\n   * Reduce the set of elements to the one at the specified index\n   * @param {number} index\n   * @returns {jQCollection}\n   */\n  eq(index) {\n    const len = this.length;\n    const j = +index + (index < 0 ? len : 0);\n    return pushStack(j >= 0 && j < len ? [this[j]] : [], this);\n  }\n  \n  /**\n   * Get the first element\n   * @returns {jQCollection}\n   */\n  first() {\n    return this.eq(0);\n  }\n  \n  /**\n   * Get the last element\n   * @returns {jQCollection}\n   */\n  last() {\n    return this.eq(-1);\n  }\n  \n  /**\n   * Get a subset of elements\n   * @param {number} start\n   * @param {number} [end]\n   * @returns {jQCollection}\n   */\n  slice(start, end) {\n    return pushStack(Array.prototype.slice.call(this, start, end), this);\n  }\n  \n  /**\n   * End the most recent filtering operation\n   * @returns {jQCollection}\n   */\n  end() {\n    return this.prevObject || jQNext();\n  }\n  \n  /**\n   * Add the previous set of elements to the current set\n   * @param {string} [selector] - Optional selector to filter previous set\n   * @returns {jQCollection}\n   */\n  addBack(selector) {\n    return this.add(selector ? this.prevObject?.filter(selector) : this.prevObject);\n  }\n  \n  /**\n   * Create a new jQCollection with elements added\n   * @param {string|Element|jQCollection} selector\n   * @param {Element|Document} [context]\n   * @returns {jQCollection}\n   */\n  add(selector, context) {\n    return pushStack(\n      uniqueSort(merge(this.get(), jQNext(selector, context))),\n      this\n    );\n  }\n  \n  // ==========================================\n  // SELECTION & FILTERING\n  // ==========================================\n  \n  /**\n   * Find descendant elements\n   * @param {string} selector\n   * @returns {jQCollection}\n   */\n  find(selector) {\n    const result = [];\n    \n    for (let i = 0; i < this.length; i++) {\n      const found = querySelectorAllWithPseudo(selector, this[i]);\n      merge(result, found);\n    }\n    \n    return pushStack(this.length > 1 ? uniqueSort(result) : result, this);\n  }\n  \n  /**\n   * Filter elements by selector, function, or element\n   * @param {string|Function|Element|jQCollection} selector\n   * @returns {jQCollection}\n   */\n  filter(selector) {\n    return pushStack(winnow(this, selector, false), this);\n  }\n  \n  /**\n   * Remove elements that match\n   * @param {string|Function|Element|jQCollection} selector\n   * @returns {jQCollection}\n   */\n  not(selector) {\n    return pushStack(winnow(this, selector, true), this);\n  }\n  \n  /**\n   * Check if any element matches selector\n   * @param {string|Function|Element|jQCollection} selector\n   * @returns {boolean}\n   */\n  is(selector) {\n    return !!winnow(this, selector, false).length;\n  }\n  \n  /**\n   * Reduce to elements that have descendant matching selector\n   * @param {string|Element} selector\n   * @returns {jQCollection}\n   */\n  has(selector) {\n    const targets = jQNext(selector, this);\n    \n    return this.filter(function() {\n      for (let i = 0; i < targets.length; i++) {\n        if (this.contains(targets[i])) {\n          return true;\n        }\n      }\n      return false;\n    });\n  }\n  \n  /**\n   * Get all child nodes including text nodes\n   * @returns {jQCollection}\n   */\n  contents() {\n    const result = [];\n    \n    for (let i = 0; i < this.length; i++) {\n      const elem = this[i];\n      \n      // Handle iframe\n      if (elem.nodeName.toLowerCase() === 'iframe') {\n        result.push(elem.contentDocument || elem.contentWindow.document);\n      } else {\n        merge(result, elem.childNodes);\n      }\n    }\n    \n    return pushStack(result, this);\n  }\n  \n  // ==========================================\n  // DATA\n  // ==========================================\n  \n  /**\n   * Get/set data on elements\n   * @param {string|Object} [key]\n   * @param {*} [value]\n   * @returns {*|jQCollection}\n   */\n  data(key, value) {\n    // Get all data\n    if (key === undefined) {\n      if (this[0]) {\n        return getDataValue(this[0]);\n      }\n      // Return null for empty collection (jQuery compatibility)\n      return null;\n    }\n    \n    // Get single value\n    if (value === undefined && !isPlainObject(key)) {\n      if (this[0]) {\n        return getDataValue(this[0], key);\n      }\n      return undefined;\n    }\n    \n    // Set data\n    return this.each(function() {\n      setData(this, key, value);\n    });\n  }\n  \n  /**\n   * Remove data from elements\n   * @param {string|string[]} [key]\n   * @returns {jQCollection}\n   */\n  removeData(key) {\n    return this.each(function() {\n      removeData(this, key);\n    });\n  }\n  \n  // ==========================================\n  // INTERNAL HELPERS\n  // ==========================================\n  \n  /**\n   * Push elements onto the stack (jQuery internal)\n   * @param {Element[]} elems\n   * @returns {jQCollection}\n   */\n  pushStack(elems) {\n    return pushStack(elems, this);\n  }\n  \n  /**\n   * Create a function bound to this object\n   * Used internally for callbacks\n   * @param {Function} fn\n   * @returns {Function}\n   */\n  _bind(fn) {\n    const collection = this;\n    return function(...args) {\n      return fn.apply(collection, args);\n    };\n  }\n}\n\n// Make it array-like for iteration\njQCollection.prototype[Symbol.iterator] = function* () {\n  for (let i = 0; i < this.length; i++) {\n    yield this[i];\n  }\n};\n\n/**\n * Filter/not helper - jQuery's winnow function\n * @param {jQCollection} elements\n * @param {*} qualifier\n * @param {boolean} not\n * @returns {Element[]}\n */\nfunction winnow(elements, qualifier, not) {\n  // Handle null/undefined qualifier\n  if (qualifier == null) {\n    return not ? Array.prototype.slice.call(elements) : [];\n  }\n  \n  // Ensure elements is array-like\n  if (!elements || typeof elements.length !== 'number') {\n    return [];\n  }\n  \n  // Single element\n  if (isElement(qualifier)) {\n    return Array.prototype.filter.call(elements, elem =>\n      (elem === qualifier) !== not\n    );\n  }\n  \n  // Function\n  if (isFunction(qualifier)) {\n    return Array.prototype.filter.call(elements, (elem, i) =>\n      !!qualifier.call(elem, i, elem) !== not\n    );\n  }\n  \n  // Array of elements\n  if (isArrayLike(qualifier) && !isString(qualifier)) {\n    const qualArr = Array.from(qualifier);\n    const qualSet = new Set(qualArr);\n    return Array.prototype.filter.call(elements, elem =>\n      qualSet.has(elem) !== not\n    );\n  }\n  \n  // Selector string\n  if (isString(qualifier)) {\n    const elemArray = Array.prototype.slice.call(elements);\n    return elemArray.filter((elem, index) => {\n      if (!elem || !elem.matches) return not;\n      return matchesWithPseudo(elem, qualifier, index, elemArray) !== not;\n    });\n  }\n  \n  return [];\n}\n\nexport default jQCollection;","/**\n * jQNext - Deferred/Promise Utilities\n * jQuery-compatible Deferred implementation using native Promises\n */\n\nimport { isFunction } from './type.js';\nimport { extend } from './objects.js';\n\n/**\n * Create a Callbacks list\n * @param {string} options - Space-separated list of options\n * @returns {Object} - Callbacks list object\n */\nexport function Callbacks(options = '') {\n  const opts = {};\n  options.split(/\\s+/).forEach(flag => {\n    if (flag) opts[flag] = true;\n  });\n  \n  let list = [];\n  let firing = false;\n  let firingIndex = -1;\n  let memory = null;\n  let fired = false;\n  let locked = false;\n  \n  const fire = function() {\n    locked = locked || opts.once;\n    fired = firing = true;\n    \n    for (; firingIndex < list.length; firingIndex++) {\n      const fn = list[firingIndex];\n      if (fn && typeof fn === 'function') {\n        if (fn.apply(memory[0], memory[1]) === false && opts.stopOnFalse) {\n          memory = false;\n          break;\n        }\n      }\n    }\n    \n    firing = false;\n    \n    if (locked) {\n      if (memory) {\n        list = [];\n      } else {\n        list = '';\n      }\n    }\n  };\n  \n  const self = {\n    add: function(...args) {\n      if (list) {\n        // Save starting position for memory-triggered fire\n        const firingStart = list.length;\n        \n        const addToList = (arg) => {\n          if (isFunction(arg)) {\n            if (!opts.unique || !self.has(arg)) {\n              list.push(arg);\n            }\n          } else if (Array.isArray(arg)) {\n            arg.forEach(addToList);\n          }\n        };\n        \n        args.forEach(addToList);\n        \n        if (memory && !firing) {\n          // Reset firingIndex to point just before the new callbacks\n          // so the loop starts at the first newly added callback\n          firingIndex = firingStart - 1;\n          fire();\n        }\n      }\n      return this;\n    },\n    \n    remove: function(...args) {\n      args.forEach(arg => {\n        let index;\n        while ((index = list.indexOf(arg)) > -1) {\n          list.splice(index, 1);\n          if (index <= firingIndex) {\n            firingIndex--;\n          }\n        }\n      });\n      return this;\n    },\n    \n    has: function(fn) {\n      return fn ? list.indexOf(fn) > -1 : list.length > 0;\n    },\n    \n    empty: function() {\n      if (list) {\n        list = [];\n      }\n      return this;\n    },\n    \n    disable: function() {\n      locked = list = memory = null;\n      return this;\n    },\n    \n    disabled: function() {\n      return !list;\n    },\n    \n    lock: function() {\n      locked = true;\n      if (!memory) {\n        self.disable();\n      }\n      return this;\n    },\n    \n    locked: function() {\n      return !!locked;\n    },\n    \n    fireWith: function(context, args) {\n      if (list) {\n        if (fired && !firing) {\n          if (!opts.memory) {\n            return this;\n          }\n        }\n        \n        memory = [context, args || []];\n        firingIndex = -1;\n        \n        if (!firing) {\n          fire();\n        }\n      }\n      return this;\n    },\n    \n    fire: function(...args) {\n      self.fireWith(this, args);\n      return this;\n    },\n    \n    fired: function() {\n      return !!fired;\n    }\n  };\n  \n  return self;\n}\n\n/**\n * Create a new Deferred object\n * @param {Function} [func] - Function to call with the deferred\n * @returns {Object} - Deferred object\n */\nexport function Deferred(func) {\n  const tuples = [\n    // action, add listener, callbacks, final state\n    ['resolve', 'done', Callbacks('once memory'), 'resolved'],\n    ['reject', 'fail', Callbacks('once memory'), 'rejected'],\n    ['notify', 'progress', Callbacks('memory')]\n  ];\n  \n  let state = 'pending';\n  \n  const promise = {\n    state: function() {\n      return state;\n    },\n    \n    always: function(...fns) {\n      deferred.done(...fns).fail(...fns);\n      return this;\n    },\n    \n    catch: function(fn) {\n      return promise.then(null, fn);\n    },\n    \n    pipe: function(/* fnDone, fnFail, fnProgress */) {\n      // Deprecated in jQuery, but still supported\n      return this.then.apply(this, arguments);\n    },\n    \n    then: function(onFulfilled, onRejected, onProgress) {\n      let maxDepth = 0;\n      \n      function resolve(depth, deferred, handler, special) {\n        return function() {\n          let context = this;\n          let callArgs = Array.prototype.slice.call(arguments);\n          \n          function mightThrow() {\n            let returned, then;\n            \n            // Support: Promises/A+ section 2.3.3.3.3\n            if (depth < maxDepth) {\n              return;\n            }\n            \n            returned = handler.apply(context, callArgs);\n            \n            // Support: Promises/A+ section 2.3.1\n            if (returned === deferred.promise()) {\n              throw new TypeError('Thenable self-resolution');\n            }\n            \n            // Support: Promises/A+ sections 2.3.3.1, 3.5\n            then = returned &&\n              (typeof returned === 'object' || typeof returned === 'function') &&\n              returned.then;\n            \n            // Handle a returned thenable\n            if (isFunction(then)) {\n              // Special processors (notify) just wait for resolution\n              if (special) {\n                then.call(\n                  returned,\n                  resolve(maxDepth, deferred, identity, special),\n                  resolve(maxDepth, deferred, thrower, special)\n                );\n              } else {\n                maxDepth++;\n                then.call(\n                  returned,\n                  resolve(maxDepth, deferred, identity, special),\n                  resolve(maxDepth, deferred, thrower, special),\n                  resolve(maxDepth, deferred, identity, deferred.notifyWith)\n                );\n              }\n            } else {\n              if (handler !== identity) {\n                context = undefined;\n                callArgs = [returned];\n              }\n              (special || deferred.resolveWith)(context, callArgs);\n            }\n          }\n          \n          // Only normal processors (resolve) catch and reject exceptions\n          const process = special\n            ? mightThrow\n            : function() {\n                try {\n                  mightThrow();\n                } catch (e) {\n                  if (depth + 1 >= maxDepth) {\n                    context = undefined;\n                    callArgs = [e];\n                    deferred.rejectWith(context, callArgs);\n                  }\n                }\n              };\n          \n          // Execute the process\n          if (depth) {\n            process();\n          } else {\n            setTimeout(process);\n          }\n        };\n      }\n      \n      return Deferred(function(newDefer) {\n        // progress handlers\n        tuples[2][2].add(\n          resolve(0, newDefer, isFunction(onProgress) ? onProgress : identity, newDefer.notifyWith)\n        );\n        \n        // done handlers\n        tuples[0][2].add(\n          resolve(0, newDefer, isFunction(onFulfilled) ? onFulfilled : identity)\n        );\n        \n        // fail handlers\n        tuples[1][2].add(\n          resolve(0, newDefer, isFunction(onRejected) ? onRejected : thrower)\n        );\n      }).promise();\n    },\n    \n    promise: function(obj) {\n      return obj != null ? extend(obj, promise) : promise;\n    }\n  };\n  \n  const deferred = {};\n  \n  // Add list-specific methods\n  tuples.forEach((tuple, i) => {\n    const list = tuple[2];\n    const stateString = tuple[3];\n    \n    // promise.progress = list.add\n    // promise.done = list.add\n    // promise.fail = list.add\n    promise[tuple[1]] = list.add;\n    \n    // Handle state\n    if (stateString) {\n      list.add(\n        function() {\n          state = stateString;\n        },\n        // Disable opposite callback list\n        tuples[i ^ 1][2].disable,\n        // Lock progress callback\n        tuples[2][2].lock\n      );\n    }\n    \n    list.add(tuple[4]);\n    \n    // deferred.resolve = function()\n    // deferred.reject = function()\n    // deferred.notify = function()\n    deferred[tuple[0]] = function(...args) {\n      deferred[tuple[0] + 'With'](this === deferred ? undefined : this, args);\n      return this;\n    };\n    \n    // deferred.resolveWith = list.fireWith\n    // deferred.rejectWith = list.fireWith\n    // deferred.notifyWith = list.fireWith\n    deferred[tuple[0] + 'With'] = list.fireWith;\n  });\n  \n  // Make the deferred a promise\n  promise.promise(deferred);\n  \n  // Call given func if any\n  if (func) {\n    func.call(deferred, deferred);\n  }\n  \n  return deferred;\n}\n\n/**\n * Resolve multiple deferreds/values\n * @param {...*} args - Deferreds or values\n * @returns {Promise} - Master promise\n */\nexport function when(...args) {\n  const subordinates = args.slice();\n  const length = subordinates.length;\n  \n  // The count of uncompleted subordinates\n  let remaining = length !== 1 || (subordinates[0] && isFunction(subordinates[0].promise))\n    ? length\n    : 0;\n  \n  // The master Deferred\n  const deferred = remaining === 1 ? subordinates[0] : Deferred();\n  \n  // Update function for resolve values\n  const updateFunc = function(i, context, values) {\n    return function(value) {\n      context[i] = this;\n      values[i] = arguments.length > 1 ? Array.from(arguments) : value;\n      if (values === progressContexts) {\n        deferred.notifyWith(context, values);\n      } else if (!(--remaining)) {\n        deferred.resolveWith(context, values);\n      }\n    };\n  };\n  \n  let progressContexts, progressValues, resolveContexts, resolveValues;\n  \n  // Add listeners to Deferred subordinates\n  if (length > 1) {\n    progressContexts = new Array(length);\n    progressValues = new Array(length);\n    resolveContexts = new Array(length);\n    resolveValues = new Array(length);\n    \n    for (let i = 0; i < length; i++) {\n      if (subordinates[i] && isFunction(subordinates[i].promise)) {\n        subordinates[i].promise()\n          .progress(updateFunc(i, progressContexts, progressValues))\n          .done(updateFunc(i, resolveContexts, resolveValues))\n          .fail(deferred.reject);\n      } else {\n        --remaining;\n      }\n    }\n  }\n  \n  // If we're not waiting on anything, resolve the master\n  if (!remaining) {\n    deferred.resolveWith(resolveContexts, resolveValues);\n  }\n  \n  return deferred.promise();\n}\n\n// Helper functions\nfunction identity(v) {\n  return v;\n}\n\nfunction thrower(ex) {\n  throw ex;\n}\n\nexport default {\n  Callbacks,\n  Deferred,\n  when\n};","/**\n * jQNext - DOM Manipulation\n * Insert, remove, wrap, clone methods\n */\n\nimport { isString, isFunction, isElement } from '../utilities/type.js';\nimport { parseHTML } from '../utilities/strings.js';\nimport { cleanData } from '../core/data.js';\nimport { matchesWithPseudo } from '../selectors/pseudo.js';\n\n/**\n * Get the document for an element\n * @param {Element} elem\n * @returns {Document}\n */\nfunction getDocument(elem) {\n  return elem.ownerDocument || elem;\n}\n\n/**\n * Convert argument to nodes\n * @param {string|Element|NodeList|Array} content\n * @param {Document} doc\n * @returns {Node[]}\n */\nfunction toNodes(content, doc = document) {\n  if (isString(content)) {\n    return parseHTML(content, doc, true);\n  }\n  if (content instanceof Node) {\n    return [content];\n  }\n  // Handle jQuery-like collections (array-like with elements)\n  if (content && content.length !== undefined) {\n    const arr = [];\n    for (let i = 0; i < content.length; i++) {\n      const item = content[i];\n      if (item instanceof Node) {\n        arr.push(item);\n      }\n    }\n    // Only return nodes that are valid - don't include non-Nodes\n    return arr;\n  }\n  return [];\n}\n\n/**\n * Insert nodes relative to target\n * @param {Element} target\n * @param {Node[]} nodes\n * @param {string} position - 'beforebegin', 'afterbegin', 'beforeend', 'afterend'\n */\nfunction insertNodes(target, nodes, position) {\n  const parent = target.parentNode;\n  \n  nodes.forEach(node => {\n    switch (position) {\n      case 'beforebegin':\n        parent.insertBefore(node, target);\n        break;\n      case 'afterbegin':\n        target.insertBefore(node, target.firstChild);\n        break;\n      case 'beforeend':\n        target.appendChild(node);\n        break;\n      case 'afterend':\n        parent.insertBefore(node, target.nextSibling);\n        break;\n    }\n  });\n}\n\n/**\n * Get/set innerHTML\n * @param {jQCollection} collection\n * @param {string|Function} [value]\n * @returns {string|jQCollection}\n */\nexport function html(collection, value) {\n  // Getter\n  if (value === undefined) {\n    const elem = collection[0];\n    return elem ? elem.innerHTML : undefined;\n  }\n  \n  // Setter\n  return collection.each(function(i) {\n    const oldHtml = this.innerHTML;\n    \n    // Clean up events/data on children\n    cleanData(Array.from(this.getElementsByTagName('*')));\n    \n    // Set new content\n    const newValue = isFunction(value) ? value.call(this, i, oldHtml) : value;\n    \n    // Handle jQuery-like collections (object with length and elements)\n    if (newValue && typeof newValue === 'object' && newValue.length !== undefined && !(newValue instanceof Node)) {\n      // It's a collection - empty and append each element\n      this.textContent = '';\n      for (let j = 0; j < newValue.length; j++) {\n        const node = newValue[j];\n        if (node instanceof Node) {\n          this.appendChild(node.cloneNode ? node.cloneNode(true) : node);\n        }\n      }\n      return;\n    }\n    \n    try {\n      this.innerHTML = newValue;\n    } catch (e) {\n      // Fall back to DOM manipulation for problematic HTML\n      this.textContent = '';\n      const nodes = parseHTML(newValue, getDocument(this), true);\n      nodes.forEach(node => this.appendChild(node));\n    }\n  });\n}\n\n/**\n * Get/set textContent\n * @param {jQCollection} collection\n * @param {string|Function} [value]\n * @returns {string|jQCollection}\n */\nexport function text(collection, value) {\n  // Getter\n  if (value === undefined) {\n    let result = '';\n    for (let i = 0; i < collection.length; i++) {\n      const elem = collection[i];\n      const nodeType = elem.nodeType;\n      \n      if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n        result += elem.textContent;\n      } else if (nodeType === 3 || nodeType === 4) {\n        result += elem.nodeValue;\n      }\n    }\n    return result;\n  }\n  \n  // Setter\n  return collection.each(function(i) {\n    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n      const newValue = isFunction(value) ? value.call(this, i, this.textContent) : value;\n      this.textContent = newValue;\n    }\n  });\n}\n\n/**\n * Append content to each element\n * @param {jQCollection} collection\n * @param {...*} content - Content to append\n * @returns {jQCollection}\n */\nexport function append(collection, ...content) {\n  return domManip(collection, content, function(elem) {\n    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n      this.appendChild(elem);\n    }\n  });\n}\n\n/**\n * Prepend content to each element\n * @param {jQCollection} collection\n * @param {...*} content\n * @returns {jQCollection}\n */\nexport function prepend(collection, ...content) {\n  return domManip(collection, content, function(elem) {\n    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n      this.insertBefore(elem, this.firstChild);\n    }\n  });\n}\n\n/**\n * Insert content before each element\n * @param {jQCollection} collection\n * @param {...*} content\n * @returns {jQCollection}\n */\nexport function before(collection, ...content) {\n  return domManip(collection, content, function(elem) {\n    if (this.parentNode) {\n      this.parentNode.insertBefore(elem, this);\n    }\n  });\n}\n\n/**\n * Insert content after each element\n * @param {jQCollection} collection\n * @param {...*} content\n * @returns {jQCollection}\n */\nexport function after(collection, ...content) {\n  return domManip(collection, content, function(elem) {\n    if (this.parentNode) {\n      this.parentNode.insertBefore(elem, this.nextSibling);\n    }\n  });\n}\n\n/**\n * DOM manipulation core function\n * @param {jQCollection} collection\n * @param {Array} args\n * @param {Function} callback\n * @returns {jQCollection}\n */\nfunction domManip(collection, args, callback) {\n  const doc = getDocument(collection[0] || document);\n  \n  // Pre-parse non-function arguments into nodes (will be cloned per element)\n  const staticArgs = [];\n  const funcArgs = [];\n  \n  args.forEach((arg, idx) => {\n    if (isFunction(arg)) {\n      funcArgs.push({ idx, fn: arg });\n    } else {\n      staticArgs.push({ idx, nodes: toNodes(arg, doc) });\n    }\n  });\n  \n  const len = collection.length;\n  \n  collection.each(function(i) {\n    const isLast = i === len - 1;\n    \n    // Build nodes array in argument order\n    const allNodes = [];\n    \n    // Process static args - clone for all except last element\n    staticArgs.forEach(({ nodes }) => {\n      nodes.forEach(node => {\n        allNodes.push(isLast ? node : node.cloneNode(true));\n      });\n    });\n    \n    // Process function args - always fresh nodes per element\n    funcArgs.forEach(({ fn }) => {\n      const result = fn.call(this, i, this.innerHTML);\n      const resultNodes = toNodes(result, doc);\n      // Function results are always used directly (fresh per element)\n      allNodes.push(...resultNodes);\n    });\n    \n    // Insert all nodes\n    allNodes.forEach(node => {\n      callback.call(this, node);\n    });\n  });\n  \n  return collection;\n}\n\n/**\n * Append elements to target\n * @param {jQCollection} collection\n * @param {string|Element|jQCollection} target\n * @returns {jQCollection}\n */\nexport function appendTo(collection, target, jQNext) {\n  jQNext(target).append(collection);\n  return collection;\n}\n\n/**\n * Prepend elements to target\n * @param {jQCollection} collection\n * @param {string|Element|jQCollection} target\n * @returns {jQCollection}\n */\nexport function prependTo(collection, target, jQNext) {\n  jQNext(target).prepend(collection);\n  return collection;\n}\n\n/**\n * Insert elements before target\n * @param {jQCollection} collection\n * @param {string|Element|jQCollection} target\n * @returns {jQCollection}\n */\nexport function insertBefore(collection, target, jQNext) {\n  jQNext(target).before(collection);\n  return collection;\n}\n\n/**\n * Insert elements after target\n * @param {jQCollection} collection\n * @param {string|Element|jQCollection} target\n * @returns {jQCollection}\n */\nexport function insertAfter(collection, target, jQNext) {\n  jQNext(target).after(collection);\n  return collection;\n}\n\n/**\n * Wrap each element with content\n * @param {jQCollection} collection\n * @param {string|Element|Function} wrapper\n * @returns {jQCollection}\n */\nexport function wrap(collection, wrapper, jQNext) {\n  const isFunc = isFunction(wrapper);\n  \n  return collection.each(function(i) {\n    const wrapperElem = isFunc ? wrapper.call(this, i) : wrapper;\n    const wrap = jQNext(wrapperElem).clone()[0];\n    \n    if (this.parentNode) {\n      this.parentNode.insertBefore(wrap, this);\n    }\n    \n    // Find the deepest child of the wrapper\n    let target = wrap;\n    while (target.firstElementChild) {\n      target = target.firstElementChild;\n    }\n    \n    target.appendChild(this);\n  });\n}\n\n/**\n * Wrap all elements together\n * @param {jQCollection} collection\n * @param {string|Element} wrapper\n * @returns {jQCollection}\n */\nexport function wrapAll(collection, wrapper, jQNext) {\n  if (!collection.length) return collection;\n  \n  const wrap = jQNext(wrapper).clone()[0];\n  \n  // Insert wrapper before first element\n  if (collection[0].parentNode) {\n    collection[0].parentNode.insertBefore(wrap, collection[0]);\n  }\n  \n  // Find deepest child\n  let target = wrap;\n  while (target.firstElementChild) {\n    target = target.firstElementChild;\n  }\n  \n  // Move all elements into wrapper\n  collection.each(function() {\n    target.appendChild(this);\n  });\n  \n  return collection;\n}\n\n/**\n * Wrap the inner contents of each element\n * @param {jQCollection} collection\n * @param {string|Element|Function} wrapper\n * @returns {jQCollection}\n */\nexport function wrapInner(collection, wrapper, jQNext) {\n  const isFunc = isFunction(wrapper);\n  \n  return collection.each(function(i) {\n    const self = jQNext(this);\n    const contents = self.contents();\n    \n    if (contents.length) {\n      contents.wrapAll(isFunc ? wrapper.call(this, i) : wrapper);\n    } else {\n      self.append(isFunc ? wrapper.call(this, i) : wrapper);\n    }\n  });\n}\n\n/**\n * Remove the parent wrapper from elements\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {jQCollection}\n */\nexport function unwrap(collection, selector) {\n  collection.parent(selector).not('body').each(function() {\n    const parent = this.parentNode;\n    if (parent) {\n      while (this.firstChild) {\n        parent.insertBefore(this.firstChild, this);\n      }\n      parent.removeChild(this);\n    }\n  });\n  \n  return collection;\n}\n\n/**\n * Remove all children\n * @param {jQCollection} collection\n * @returns {jQCollection}\n */\nexport function empty(collection) {\n  return collection.each(function() {\n    // Clean up data on children\n    cleanData(Array.from(this.getElementsByTagName('*')));\n    \n    // Remove children\n    while (this.firstChild) {\n      this.removeChild(this.firstChild);\n    }\n  });\n}\n\n/**\n * Remove elements from the DOM\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {jQCollection}\n */\nexport function remove(collection, selector) {\n  for (let i = 0; i < collection.length; i++) {\n    const elem = collection[i];\n    \n    // Skip if selector provided and doesn't match (use pseudo-aware matching)\n    if (selector && !matchesWithPseudo(elem, selector)) {\n      continue;\n    }\n    \n    // Clean up data and events\n    cleanData([elem]);\n    cleanData(Array.from(elem.getElementsByTagName('*')));\n    \n    // Remove from DOM\n    if (elem.parentNode) {\n      elem.parentNode.removeChild(elem);\n    }\n  }\n  \n  return collection;\n}\n\n/**\n * Remove elements but keep data and events\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {jQCollection}\n */\nexport function detach(collection, selector) {\n  for (let i = 0; i < collection.length; i++) {\n    const elem = collection[i];\n    \n    if (selector && !matchesWithPseudo(elem, selector)) {\n      continue;\n    }\n    \n    if (elem.parentNode) {\n      elem.parentNode.removeChild(elem);\n    }\n  }\n  \n  return collection;\n}\n\n/**\n * Replace elements with new content\n * @param {jQCollection} collection\n * @param {string|Element|Function} newContent\n * @returns {jQCollection}\n */\nexport function replaceWith(collection, newContent, jQNext) {\n  const isFunc = isFunction(newContent);\n  \n  return collection.each(function(i) {\n    const content = isFunc ? newContent.call(this, i, this) : newContent;\n    const nodes = toNodes(content, getDocument(this));\n    \n    if (this.parentNode) {\n      // Clean up\n      cleanData([this]);\n      cleanData(Array.from(this.getElementsByTagName('*')));\n      \n      // Insert new content\n      nodes.forEach((node, j) => {\n        if (j === 0) {\n          this.parentNode.replaceChild(node, this);\n        } else {\n          this.parentNode.insertBefore(node, nodes[j - 1].nextSibling);\n        }\n      });\n    }\n  });\n}\n\n/**\n * Replace target elements with these elements\n * @param {jQCollection} collection\n * @param {string|Element} target\n * @returns {jQCollection}\n */\nexport function replaceAll(collection, target, jQNext) {\n  jQNext(target).replaceWith(collection);\n  return collection;\n}\n\n/**\n * Clone elements\n * @param {jQCollection} collection\n * @param {boolean} [withDataAndEvents=false]\n * @param {boolean} [deepWithDataAndEvents=withDataAndEvents]\n * @returns {jQCollection}\n */\nexport function clone(collection, withDataAndEvents = false, deepWithDataAndEvents = withDataAndEvents, jQNext) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    const elem = collection[i];\n    const cloned = elem.cloneNode(true);\n    \n    // TODO: Copy data and events if requested\n    // This requires access to the event system\n    \n    result.push(cloned);\n  }\n  \n  return jQNext(result);\n}\n\nexport default {\n  html,\n  text,\n  append,\n  prepend,\n  before,\n  after,\n  appendTo,\n  prependTo,\n  insertBefore,\n  insertAfter,\n  wrap,\n  wrapAll,\n  wrapInner,\n  unwrap,\n  empty,\n  remove,\n  detach,\n  replaceWith,\n  replaceAll,\n  clone\n};","/**\n * jQNext - DOM Attributes\n * Attribute, property, and value manipulation\n */\n\nimport { isFunction, isString, isArray } from '../utilities/type.js';\nimport { camelCase } from '../utilities/strings.js';\n\n// Properties that should use .prop() instead of .attr()\nconst propFix = {\n  'for': 'htmlFor',\n  'class': 'className',\n  'tabindex': 'tabIndex',\n  'readonly': 'readOnly',\n  'maxlength': 'maxLength',\n  'cellspacing': 'cellSpacing',\n  'cellpadding': 'cellPadding',\n  'rowspan': 'rowSpan',\n  'colspan': 'colSpan',\n  'usemap': 'useMap',\n  'frameborder': 'frameBorder',\n  'contenteditable': 'contentEditable'\n};\n\n// Boolean attributes\nconst booleanAttrs = new Set([\n  'checked', 'selected', 'async', 'autofocus', 'autoplay', 'controls',\n  'defer', 'disabled', 'hidden', 'ismap', 'loop', 'multiple', 'muted',\n  'open', 'readonly', 'required', 'scoped', 'novalidate', 'reversed',\n  'allowfullscreen', 'contenteditable', 'draggable', 'spellcheck'\n]);\n\n/**\n * Get/set attribute\n * @param {jQCollection} collection\n * @param {string|Object} name - Attribute name or object of name-value pairs\n * @param {*} [value] - Attribute value\n * @returns {*|jQCollection}\n */\nexport function attr(collection, name, value) {\n  // Get attribute value\n  if (isString(name) && value === undefined) {\n    const elem = collection[0];\n    if (!elem || elem.nodeType !== 1) {\n      return undefined;\n    }\n    \n    const val = elem.getAttribute(name);\n    \n    // Handle boolean attributes\n    if (booleanAttrs.has(name.toLowerCase())) {\n      return val !== null ? name.toLowerCase() : undefined;\n    }\n    \n    // Return undefined for non-existent attributes (jQuery compatibility)\n    // Native getAttribute returns null, but jQuery returns undefined\n    return val === null ? undefined : val;\n  }\n  \n  // Set attribute(s)\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    if (typeof name === 'object') {\n      // Set multiple attributes\n      for (const key in name) {\n        setAttr(this, key, name[key], i);\n      }\n    } else {\n      setAttr(this, name, value, i);\n    }\n  });\n}\n\n/**\n * Set single attribute on element\n */\nfunction setAttr(elem, name, value, index) {\n  const val = isFunction(value) ? value.call(elem, index, elem.getAttribute(name)) : value;\n  \n  if (val === null || val === undefined) {\n    elem.removeAttribute(name);\n  } else if (booleanAttrs.has(name.toLowerCase())) {\n    // Boolean attribute\n    if (val) {\n      elem.setAttribute(name, name.toLowerCase());\n    } else {\n      elem.removeAttribute(name);\n    }\n  } else {\n    elem.setAttribute(name, val);\n  }\n}\n\n/**\n * Remove attribute\n * @param {jQCollection} collection\n * @param {string} name - Attribute name(s), space-separated\n * @returns {jQCollection}\n */\nexport function removeAttr(collection, name) {\n  const names = name.split(/\\s+/);\n  \n  return collection.each(function() {\n    if (this.nodeType === 1) {\n      names.forEach(n => this.removeAttribute(n));\n    }\n  });\n}\n\n/**\n * Get/set property\n * @param {jQCollection} collection\n * @param {string|Object} name\n * @param {*} [value]\n * @returns {*|jQCollection}\n */\nexport function prop(collection, name, value) {\n  const propName = propFix[name] || name;\n  \n  // Getter\n  if (isString(name) && value === undefined) {\n    const elem = collection[0];\n    return elem ? elem[propName] : undefined;\n  }\n  \n  // Setter\n  return collection.each(function(i) {\n    if (typeof name === 'object') {\n      for (const key in name) {\n        const pName = propFix[key] || key;\n        this[pName] = name[key];\n      }\n    } else {\n      const val = isFunction(value) ? value.call(this, i, this[propName]) : value;\n      this[propName] = val;\n    }\n  });\n}\n\n/**\n * Remove property\n * @param {jQCollection} collection\n * @param {string} name\n * @returns {jQCollection}\n */\nexport function removeProp(collection, name) {\n  const propName = propFix[name] || name;\n  \n  return collection.each(function() {\n    try {\n      this[propName] = undefined;\n      delete this[propName];\n    } catch (e) {\n      // Some properties can't be deleted\n    }\n  });\n}\n\n/**\n * Get/set value for form elements\n * @param {jQCollection} collection\n * @param {*} [value]\n * @returns {*|jQCollection}\n */\nexport function val(collection, value) {\n  // Getter\n  if (value === undefined) {\n    const elem = collection[0];\n    if (!elem) return undefined;\n    \n    // Select element\n    if (elem.nodeName.toLowerCase() === 'select') {\n      const options = elem.options;\n      const index = elem.selectedIndex;\n      const one = elem.type === 'select-one';\n      const values = one ? null : [];\n      \n      if (index < 0) {\n        return one ? '' : [];\n      }\n      \n      const max = one ? index + 1 : options.length;\n      let i = one ? index : 0;\n      \n      for (; i < max; i++) {\n        const option = options[i];\n        \n        if (option.selected && !option.disabled) {\n          const optValue = option.value;\n          \n          if (one) {\n            return optValue;\n          }\n          \n          values.push(optValue);\n        }\n      }\n      \n      return values;\n    }\n    \n    // Checkbox/radio\n    if (elem.type === 'checkbox' || elem.type === 'radio') {\n      return elem.value !== 'on' ? elem.value : elem.getAttribute('value') || 'on';\n    }\n    \n    // Other inputs\n    const ret = elem.value;\n    return typeof ret === 'string' ? ret.replace(/\\r/g, '') : ret == null ? '' : ret;\n  }\n  \n  // Setter\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    let val = isFunction(value) ? value.call(this, i, this.value) : value;\n    \n    if (val == null) {\n      val = '';\n    } else if (typeof val === 'number') {\n      val = String(val);\n    } else if (isArray(val)) {\n      val = val.map(v => v == null ? '' : String(v));\n    }\n    \n    const nodeName = this.nodeName.toLowerCase();\n    \n    // Select element\n    if (nodeName === 'select') {\n      const values = isArray(val) ? val : [val];\n      const options = this.options;\n      \n      for (let j = 0; j < options.length; j++) {\n        const option = options[j];\n        option.selected = values.includes(option.value);\n      }\n      \n      if (!values.length) {\n        this.selectedIndex = -1;\n      }\n    }\n    // Checkbox/radio\n    else if (this.type === 'checkbox' || this.type === 'radio') {\n      this.checked = isArray(val) ? val.includes(this.value) : val === this.value;\n    }\n    // Other inputs\n    else {\n      this.value = val;\n    }\n  });\n}\n\n/**\n * Add class(es) to elements\n * @param {jQCollection} collection\n * @param {string|Function} className\n * @returns {jQCollection}\n */\nexport function addClass(collection, className) {\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    const classes = isFunction(className) \n      ? className.call(this, i, this.className)\n      : className;\n    \n    if (isString(classes)) {\n      const classNames = classes.split(/\\s+/).filter(Boolean);\n      this.classList.add(...classNames);\n    }\n  });\n}\n\n/**\n * Remove class(es) from elements\n * @param {jQCollection} collection\n * @param {string|Function} [className]\n * @returns {jQCollection}\n */\nexport function removeClass(collection, className) {\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    // Remove all classes if no argument\n    if (className === undefined) {\n      this.className = '';\n      return;\n    }\n    \n    const classes = isFunction(className)\n      ? className.call(this, i, this.className)\n      : className;\n    \n    if (isString(classes)) {\n      const classNames = classes.split(/\\s+/).filter(Boolean);\n      this.classList.remove(...classNames);\n    }\n  });\n}\n\n/**\n * Toggle class(es) on elements\n * @param {jQCollection} collection\n * @param {string|Function} className\n * @param {boolean} [state]\n * @returns {jQCollection}\n */\nexport function toggleClass(collection, className, state) {\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    const classes = isFunction(className)\n      ? className.call(this, i, this.className, state)\n      : className;\n    \n    if (isString(classes)) {\n      const classNames = classes.split(/\\s+/).filter(Boolean);\n      classNames.forEach(name => {\n        if (state === undefined) {\n          this.classList.toggle(name);\n        } else if (state) {\n          this.classList.add(name);\n        } else {\n          this.classList.remove(name);\n        }\n      });\n    }\n  });\n}\n\n/**\n * Check if any element has the class\n * @param {jQCollection} collection\n * @param {string} className\n * @returns {boolean}\n */\nexport function hasClass(collection, className) {\n  for (let i = 0; i < collection.length; i++) {\n    if (collection[i].nodeType === 1 && collection[i].classList.contains(className)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default {\n  attr,\n  removeAttr,\n  prop,\n  removeProp,\n  val,\n  addClass,\n  removeClass,\n  toggleClass,\n  hasClass\n};","/**\n * jQNext - CSS Module\n * Style manipulation, dimensions, and positioning\n */\n\nimport { isFunction, isString, isNumeric, isWindow } from '../utilities/type.js';\nimport { camelCase } from '../utilities/strings.js';\n\n// CSS properties that should not have 'px' appended\nconst cssNumber = new Set([\n  'animationIterationCount', 'columnCount', 'fillOpacity', 'flexGrow',\n  'flexShrink', 'fontWeight', 'gridArea', 'gridColumn', 'gridColumnEnd',\n  'gridColumnStart', 'gridRow', 'gridRowEnd', 'gridRowStart', 'lineHeight',\n  'opacity', 'order', 'orphans', 'widows', 'zIndex', 'zoom'\n]);\n\n// CSS properties that need vendor prefixes\nconst vendorPrefixes = ['webkit', 'moz', 'ms', 'o'];\n\n// CSS Hooks storage (for jQuery UI compatibility)\nexport const cssHooks = {};\n\n/**\n * Get computed style for an element\n * @param {Element} elem\n * @returns {CSSStyleDeclaration}\n */\nfunction getStyles(elem) {\n  if (!elem || !elem.ownerDocument || !elem.ownerDocument.defaultView) {\n    return {};\n  }\n  return elem.ownerDocument.defaultView.getComputedStyle(elem, null);\n}\n\n/**\n * Normalize CSS property name\n * @param {string} name\n * @returns {string}\n */\nfunction vendorPropName(name) {\n  const camelName = camelCase(name);\n  \n  // Check if it works directly\n  if (camelName in document.documentElement.style) {\n    return camelName;\n  }\n  \n  // Try vendor prefixes\n  const capName = camelName[0].toUpperCase() + camelName.slice(1);\n  for (const prefix of vendorPrefixes) {\n    const prefixed = prefix + capName;\n    if (prefixed in document.documentElement.style) {\n      return prefixed;\n    }\n  }\n  \n  return camelName;\n}\n\n/**\n * Adjust the CSS value (add 'px' if needed)\n * @param {string} prop\n * @param {*} value\n * @returns {string}\n */\nfunction adjustCSS(prop, value) {\n  if (value === '' || value === null || value === undefined) {\n    return '';\n  }\n  \n  // Numbers that need 'px'\n  if (isNumeric(value) && !cssNumber.has(prop)) {\n    return value + 'px';\n  }\n  \n  return String(value);\n}\n\n/**\n * Get/set CSS properties\n * @param {jQCollection} collection\n * @param {string|Object} name\n * @param {*} [value]\n * @returns {*|jQCollection}\n */\nexport function css(collection, name, value) {\n  // Get computed style\n  if (isString(name) && value === undefined) {\n    const elem = collection[0];\n    if (!elem || elem.nodeType !== 1) {\n      return undefined;\n    }\n    \n    const prop = vendorPropName(name);\n    const computed = getStyles(elem);\n    \n    // Try inline style first, then computed\n    return elem.style[prop] || computed.getPropertyValue(name) || computed[prop];\n  }\n  \n  // Set styles\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    if (typeof name === 'object') {\n      // Set multiple properties\n      for (const key in name) {\n        setCSS(this, key, name[key], i);\n      }\n    } else {\n      setCSS(this, name, value, i);\n    }\n  });\n}\n\n/**\n * Set a single CSS property\n */\nfunction setCSS(elem, name, value, index) {\n  const prop = vendorPropName(name);\n  let val = isFunction(value) \n    ? value.call(elem, index, css({ 0: elem, length: 1 }, name))\n    : value;\n  \n  // Handle removing style\n  if (val === null || val === undefined || val === '') {\n    elem.style[prop] = '';\n    return;\n  }\n  \n  // Adjust value (add 'px' etc.)\n  val = adjustCSS(prop, val);\n  \n  elem.style[prop] = val;\n}\n\n/**\n * Get width of element\n * @param {jQCollection} collection\n * @param {*} [value]\n * @returns {number|jQCollection}\n */\nexport function width(collection, value) {\n  return dimension(collection, 'width', value);\n}\n\n/**\n * Get height of element\n * @param {jQCollection} collection\n * @param {*} [value]\n * @returns {number|jQCollection}\n */\nexport function height(collection, value) {\n  return dimension(collection, 'height', value);\n}\n\n/**\n * Get inner width (includes padding)\n * @param {jQCollection} collection\n * @param {*} [value]\n * @returns {number|jQCollection}\n */\nexport function innerWidth(collection, value) {\n  return dimension(collection, 'width', value, 'inner');\n}\n\n/**\n * Get inner height (includes padding)\n * @param {jQCollection} collection\n * @param {*} [value]\n * @returns {number|jQCollection}\n */\nexport function innerHeight(collection, value) {\n  return dimension(collection, 'height', value, 'inner');\n}\n\n/**\n * Get outer width (includes padding and border, optionally margin)\n * @param {jQCollection} collection\n * @param {boolean|*} [includeMargin]\n * @returns {number|jQCollection}\n */\nexport function outerWidth(collection, includeMargin) {\n  // Handle setter\n  if (typeof includeMargin !== 'boolean' && includeMargin !== undefined) {\n    return dimension(collection, 'width', includeMargin, 'outer');\n  }\n  return dimension(collection, 'width', undefined, includeMargin ? 'outerMargin' : 'outer');\n}\n\n/**\n * Get outer height (includes padding and border, optionally margin)\n * @param {jQCollection} collection\n * @param {boolean|*} [includeMargin]\n * @returns {number|jQCollection}\n */\nexport function outerHeight(collection, includeMargin) {\n  // Handle setter\n  if (typeof includeMargin !== 'boolean' && includeMargin !== undefined) {\n    return dimension(collection, 'height', includeMargin, 'outer');\n  }\n  return dimension(collection, 'height', undefined, includeMargin ? 'outerMargin' : 'outer');\n}\n\n/**\n * Core dimension function\n * @param {jQCollection} collection\n * @param {string} dimension - 'width' or 'height'\n * @param {*} [value]\n * @param {string} [extra] - 'inner', 'outer', 'outerMargin'\n * @returns {number|jQCollection}\n */\nfunction dimension(collection, dimension, value, extra) {\n  const elem = collection[0];\n  \n  // Getter\n  if (value === undefined) {\n    if (!elem) return undefined;\n    \n    // Window\n    if (isWindow(elem)) {\n      return dimension === 'width' \n        ? elem.innerWidth \n        : elem.innerHeight;\n    }\n    \n    // Document\n    if (elem.nodeType === 9) {\n      const doc = elem.documentElement;\n      return Math.max(\n        elem.body[`scroll${dimension === 'width' ? 'Width' : 'Height'}`],\n        doc[`scroll${dimension === 'width' ? 'Width' : 'Height'}`],\n        elem.body[`offset${dimension === 'width' ? 'Width' : 'Height'}`],\n        doc[`offset${dimension === 'width' ? 'Width' : 'Height'}`],\n        doc[`client${dimension === 'width' ? 'Width' : 'Height'}`]\n      );\n    }\n    \n    // Element\n    const rect = elem.getBoundingClientRect();\n    const computed = getStyles(elem);\n    let result = rect[dimension];\n    \n    if (!extra) {\n      // Content only (subtract padding and border)\n      if (dimension === 'width') {\n        result -= parseFloat(computed.paddingLeft) || 0;\n        result -= parseFloat(computed.paddingRight) || 0;\n        result -= parseFloat(computed.borderLeftWidth) || 0;\n        result -= parseFloat(computed.borderRightWidth) || 0;\n      } else {\n        result -= parseFloat(computed.paddingTop) || 0;\n        result -= parseFloat(computed.paddingBottom) || 0;\n        result -= parseFloat(computed.borderTopWidth) || 0;\n        result -= parseFloat(computed.borderBottomWidth) || 0;\n      }\n    } else if (extra === 'inner') {\n      // Content + padding (subtract border)\n      if (dimension === 'width') {\n        result -= parseFloat(computed.borderLeftWidth) || 0;\n        result -= parseFloat(computed.borderRightWidth) || 0;\n      } else {\n        result -= parseFloat(computed.borderTopWidth) || 0;\n        result -= parseFloat(computed.borderBottomWidth) || 0;\n      }\n    } else if (extra === 'outerMargin') {\n      // Content + padding + border + margin\n      if (dimension === 'width') {\n        result += parseFloat(computed.marginLeft) || 0;\n        result += parseFloat(computed.marginRight) || 0;\n      } else {\n        result += parseFloat(computed.marginTop) || 0;\n        result += parseFloat(computed.marginBottom) || 0;\n      }\n    }\n    // 'outer' = content + padding + border (the default getBoundingClientRect)\n    \n    return Math.round(result);\n  }\n  \n  // Setter\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    let val = isFunction(value)\n      ? value.call(this, i, dimension(collection, dimension))\n      : value;\n    \n    if (val === null || val === undefined) {\n      return;\n    }\n    \n    if (isNumeric(val)) {\n      const computed = getStyles(this);\n      \n      // Adjust for box-sizing\n      if (computed.boxSizing === 'border-box') {\n        if (extra === 'inner' || !extra) {\n          // Add padding and border\n          if (dimension === 'width') {\n            val += parseFloat(computed.paddingLeft) || 0;\n            val += parseFloat(computed.paddingRight) || 0;\n            val += parseFloat(computed.borderLeftWidth) || 0;\n            val += parseFloat(computed.borderRightWidth) || 0;\n          } else {\n            val += parseFloat(computed.paddingTop) || 0;\n            val += parseFloat(computed.paddingBottom) || 0;\n            val += parseFloat(computed.borderTopWidth) || 0;\n            val += parseFloat(computed.borderBottomWidth) || 0;\n          }\n        }\n      }\n      \n      val = val + 'px';\n    }\n    \n    this.style[dimension] = val;\n  });\n}\n\n/**\n * Get offset (position relative to document)\n * @param {jQCollection} collection\n * @param {Object} [coordinates]\n * @returns {Object|jQCollection}\n */\nexport function offset(collection, coordinates) {\n  // Setter\n  if (coordinates !== undefined) {\n    return collection.each(function(i) {\n      setOffset(this, coordinates, i);\n    });\n  }\n  \n  // Getter\n  const elem = collection[0];\n  if (!elem || elem.nodeType !== 1) {\n    return undefined;\n  }\n  \n  // Return zeros for disconnected elements\n  if (!elem.getClientRects().length) {\n    return { top: 0, left: 0 };\n  }\n  \n  const rect = elem.getBoundingClientRect();\n  const doc = elem.ownerDocument;\n  const docElem = doc.documentElement;\n  const win = doc.defaultView;\n  \n  return {\n    top: rect.top + win.pageYOffset - docElem.clientTop,\n    left: rect.left + win.pageXOffset - docElem.clientLeft\n  };\n}\n\n/**\n * Set element offset\n */\nfunction setOffset(elem, options, i) {\n  const curPosition = css({ 0: elem, length: 1 }, 'position');\n  \n  // Set position if static\n  if (curPosition === 'static') {\n    elem.style.position = 'relative';\n  }\n  \n  const curOffset = offset({ 0: elem, length: 1 });\n  const curCSSTop = css({ 0: elem, length: 1 }, 'top');\n  const curCSSLeft = css({ 0: elem, length: 1 }, 'left');\n  \n  const calculatePosition = (curPosition === 'absolute' || curPosition === 'fixed') &&\n    (curCSSTop + curCSSLeft).indexOf('auto') > -1;\n  \n  let curTop, curLeft;\n  \n  if (calculatePosition) {\n    const curPos = position({ 0: elem, length: 1 });\n    curTop = curPos.top;\n    curLeft = curPos.left;\n  } else {\n    curTop = parseFloat(curCSSTop) || 0;\n    curLeft = parseFloat(curCSSLeft) || 0;\n  }\n  \n  const props = isFunction(options) ? options.call(elem, i, curOffset) : options;\n  \n  if (props.top != null) {\n    elem.style.top = (props.top - curOffset.top + curTop) + 'px';\n  }\n  if (props.left != null) {\n    elem.style.left = (props.left - curOffset.left + curLeft) + 'px';\n  }\n}\n\n/**\n * Get position (relative to offset parent)\n * @param {jQCollection} collection\n * @returns {Object}\n */\nexport function position(collection) {\n  const elem = collection[0];\n  if (!elem || elem.nodeType !== 1) {\n    return undefined;\n  }\n  \n  let offsetParent = elem.offsetParent || document.documentElement;\n  \n  // Account for offset parent being body/html\n  while (offsetParent && \n         offsetParent !== document.documentElement && \n         css({ 0: offsetParent, length: 1 }, 'position') === 'static') {\n    offsetParent = offsetParent.offsetParent;\n  }\n  offsetParent = offsetParent || document.documentElement;\n  \n  const elemOffset = offset(collection);\n  const parentOffset = offsetParent === document.documentElement\n    ? { top: 0, left: 0 }\n    : offset({ 0: offsetParent, length: 1 });\n  \n  const computed = getStyles(elem);\n  \n  // Subtract element margins\n  elemOffset.top -= parseFloat(computed.marginTop) || 0;\n  elemOffset.left -= parseFloat(computed.marginLeft) || 0;\n  \n  // Add offset parent borders\n  const parentComputed = getStyles(offsetParent);\n  parentOffset.top += parseFloat(parentComputed.borderTopWidth) || 0;\n  parentOffset.left += parseFloat(parentComputed.borderLeftWidth) || 0;\n  \n  return {\n    top: elemOffset.top - parentOffset.top,\n    left: elemOffset.left - parentOffset.left\n  };\n}\n\n/**\n * Get/set scroll top\n * @param {jQCollection} collection\n * @param {number} [value]\n * @returns {number|jQCollection}\n */\nexport function scrollTop(collection, value) {\n  return scrollProp(collection, 'top', value);\n}\n\n/**\n * Get/set scroll left\n * @param {jQCollection} collection\n * @param {number} [value]\n * @returns {number|jQCollection}\n */\nexport function scrollLeft(collection, value) {\n  return scrollProp(collection, 'left', value);\n}\n\n/**\n * Core scroll property function\n */\nfunction scrollProp(collection, prop, value) {\n  const scrollPropName = prop === 'top' ? 'scrollTop' : 'scrollLeft';\n  const pagePropName = prop === 'top' ? 'pageYOffset' : 'pageXOffset';\n  \n  // Getter\n  if (value === undefined) {\n    const elem = collection[0];\n    if (!elem) return undefined;\n    \n    if (isWindow(elem)) {\n      return elem[pagePropName];\n    }\n    \n    return elem[scrollPropName];\n  }\n  \n  // Setter\n  return collection.each(function() {\n    if (isWindow(this)) {\n      const scrollX = prop === 'left' ? value : this.pageXOffset;\n      const scrollY = prop === 'top' ? value : this.pageYOffset;\n      this.scrollTo(scrollX, scrollY);\n    } else {\n      this[scrollPropName] = value;\n    }\n  });\n}\n\n/**\n * Show elements\n * @param {jQCollection} collection\n * @returns {jQCollection}\n */\nexport function show(collection) {\n  return collection.each(function() {\n    if (this.style.display === 'none') {\n      this.style.display = '';\n    }\n    \n    // Check if still hidden by stylesheet\n    if (getStyles(this).display === 'none') {\n      this.style.display = getDefaultDisplay(this);\n    }\n  });\n}\n\n/**\n * Hide elements\n * @param {jQCollection} collection\n * @returns {jQCollection}\n */\nexport function hide(collection) {\n  return collection.each(function() {\n    this.style.display = 'none';\n  });\n}\n\n/**\n * Toggle visibility\n * @param {jQCollection} collection\n * @param {boolean} [state]\n * @returns {jQCollection}\n */\nexport function toggle(collection, state) {\n  return collection.each(function() {\n    const isHidden = getStyles(this).display === 'none';\n    const shouldShow = state === undefined ? isHidden : state;\n    \n    if (shouldShow) {\n      show({ 0: this, length: 1 });\n    } else {\n      hide({ 0: this, length: 1 });\n    }\n  });\n}\n\n/**\n * Get default display value for element\n */\nconst displayCache = {};\nfunction getDefaultDisplay(elem) {\n  const nodeName = elem.nodeName.toLowerCase();\n  \n  if (displayCache[nodeName]) {\n    return displayCache[nodeName];\n  }\n  \n  // Create temp element to check default display\n  const temp = document.createElement(nodeName);\n  document.body.appendChild(temp);\n  const display = getStyles(temp).display;\n  document.body.removeChild(temp);\n  \n  displayCache[nodeName] = display === 'none' ? 'block' : display;\n  return displayCache[nodeName];\n}\n\nexport default {\n  css,\n  width,\n  height,\n  innerWidth,\n  innerHeight,\n  outerWidth,\n  outerHeight,\n  offset,\n  position,\n  scrollTop,\n  scrollLeft,\n  show,\n  hide,\n  toggle\n};","/**\n * jQNext - Events Core\n * Event binding, delegation, and triggering with namespace support\n */\n\nimport { isFunction, isString, isPlainObject } from '../utilities/type.js';\nimport { setInternalData, getInternalData, removeInternalData } from '../core/data.js';\nimport { matchesWithPseudo } from '../selectors/pseudo.js';\n\n// Event handler storage using WeakMap\nconst handlersStorage = new WeakMap();\n\n// Special event types that need different handling\nexport const special = {\n  // Focus/blur don't bubble, use focusin/focusout\n  focus: {\n    trigger: function() {\n      if (this !== document.activeElement && this.focus) {\n        this.focus();\n        return false;\n      }\n    },\n    delegateType: 'focusin'\n  },\n  blur: {\n    trigger: function() {\n      if (this === document.activeElement && this.blur) {\n        this.blur();\n        return false;\n      }\n    },\n    delegateType: 'focusout'\n  },\n  // Click for checkbox/radio needs special handling\n  click: {\n    trigger: function() {\n      if (this.type === 'checkbox' && this.click && this.nodeName.toLowerCase() === 'input') {\n        this.click();\n        return false;\n      }\n    },\n    _default: function(event) {\n      return event.target.nodeName.toLowerCase() === 'a';\n    }\n  },\n  // Mouseenter/leave don't bubble, simulate with mouseover/out\n  mouseenter: {\n    delegateType: 'mouseover',\n    handle: function(event) {\n      const related = event.relatedTarget;\n      const target = event.currentTarget;\n      \n      if (!related || (related !== target && !target.contains(related))) {\n        return event.handleObj.handler.apply(this, arguments);\n      }\n    }\n  },\n  mouseleave: {\n    delegateType: 'mouseout',\n    handle: function(event) {\n      const related = event.relatedTarget;\n      const target = event.currentTarget;\n      \n      if (!related || (related !== target && !target.contains(related))) {\n        return event.handleObj.handler.apply(this, arguments);\n      }\n    }\n  },\n  // Focusin/focusout are handled natively in modern browsers\n  focusin: {\n    setup: function() {\n      return false; // Use native\n    }\n  },\n  focusout: {\n    setup: function() {\n      return false; // Use native\n    }\n  }\n};\n\n/**\n * Parse event type string with namespaces\n * @param {string} types - Event type(s) with optional namespaces (e.g., 'click.ns1.ns2')\n * @returns {Array} - Array of { type, namespaces } objects\n */\nexport function parseEventTypes(types) {\n  const result = [];\n  \n  // Handle non-string types\n  if (typeof types !== 'string') {\n    if (types && typeof types === 'object' && types.type) {\n      // It's an event object\n      return [{ type: types.type, namespaces: [], namespace: '', origType: types.type }];\n    }\n    return result;\n  }\n  \n  const typeArr = types.split(/\\s+/).filter(Boolean);\n  \n  typeArr.forEach(type => {\n    const parts = type.split('.');\n    const eventType = parts[0];\n    const namespaces = parts.slice(1).sort();\n    \n    result.push({\n      type: eventType,\n      namespaces,\n      namespace: namespaces.join('.'),\n      origType: type\n    });\n  });\n  \n  return result;\n}\n\n/**\n * Get or create handlers object for an element\n * @param {Element} elem\n * @returns {Object}\n */\nfunction getHandlers(elem) {\n  let handlers = handlersStorage.get(elem);\n  if (!handlers) {\n    handlers = { events: {}, handle: null };\n    handlersStorage.set(elem, handlers);\n  }\n  return handlers;\n}\n\n/**\n * Create a unified event handler function\n * @param {Element} elem\n * @returns {Function}\n */\nfunction createHandler(elem) {\n  const handlers = getHandlers(elem);\n  \n  if (handlers.handle) {\n    return handlers.handle;\n  }\n  \n  handlers.handle = function(nativeEvent) {\n    // Create jQuery-like event object\n    const event = fixEvent(nativeEvent);\n    \n    // Get handlers for this event type\n    const typeHandlers = handlers.events[event.type] || [];\n    \n    // Copy to avoid modification during iteration\n    const handlersCopy = typeHandlers.slice();\n    \n    for (let i = 0; i < handlersCopy.length; i++) {\n      const handleObj = handlersCopy[i];\n      \n      // Check namespace match\n      if (event.namespace && !event.namespace.split('.').every(ns => \n        handleObj.namespace.includes(ns))) {\n        continue;\n      }\n      \n      // Check selector (delegation)\n      let target = event.target;\n      \n      if (handleObj.selector) {\n        // Find matching delegated target (use pseudo-aware matching)\n        while (target && target !== elem) {\n          if (target.nodeType === 1 && matchesWithPseudo(target, handleObj.selector)) {\n            break;\n          }\n          target = target.parentNode;\n        }\n        \n        if (target === elem) {\n          continue; // No match found\n        }\n        \n        event.currentTarget = target;\n      } else {\n        event.currentTarget = elem;\n      }\n      \n      event.handleObj = handleObj;\n      event.data = handleObj.data;\n      \n      // Call the handler\n      let result;\n      \n      // Build arguments: event + any extra args from trigger\n      const extraArgs = event._extraArgs || [];\n      const args = [event].concat(extraArgs);\n      \n      // Check for special handler\n      const specialHandle = special[handleObj.origType]?.handle;\n      if (specialHandle) {\n        result = specialHandle.apply(target || elem, args);\n      }\n      \n      if (result === undefined) {\n        result = handleObj.handler.apply(target || elem, args);\n      }\n      \n      if (result !== undefined) {\n        event.result = result;\n        if (result === false) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }\n      \n      if (event.isImmediatePropagationStopped()) {\n        break;\n      }\n    }\n    \n    return event.result;\n  };\n  \n  return handlers.handle;\n}\n\n/**\n * Fix native event to jQuery-like event\n * @param {Event} nativeEvent\n * @returns {Object}\n */\nfunction fixEvent(nativeEvent) {\n  // If already fixed, return\n  if (nativeEvent._fixed) {\n    return nativeEvent;\n  }\n  \n  const event = {\n    originalEvent: nativeEvent,\n    _fixed: true,\n    type: nativeEvent.type,\n    target: nativeEvent.target,\n    currentTarget: nativeEvent.currentTarget,\n    relatedTarget: nativeEvent.relatedTarget,\n    timeStamp: nativeEvent.timeStamp || Date.now(),\n    namespace: '',\n    result: undefined,\n    handleObj: null,\n    data: null,\n    \n    // Copy common properties\n    button: nativeEvent.button,\n    buttons: nativeEvent.buttons,\n    which: nativeEvent.which || nativeEvent.keyCode || nativeEvent.charCode,\n    keyCode: nativeEvent.keyCode,\n    charCode: nativeEvent.charCode,\n    key: nativeEvent.key,\n    code: nativeEvent.code,\n    altKey: nativeEvent.altKey,\n    ctrlKey: nativeEvent.ctrlKey,\n    metaKey: nativeEvent.metaKey,\n    shiftKey: nativeEvent.shiftKey,\n    clientX: nativeEvent.clientX,\n    clientY: nativeEvent.clientY,\n    pageX: nativeEvent.pageX,\n    pageY: nativeEvent.pageY,\n    screenX: nativeEvent.screenX,\n    screenY: nativeEvent.screenY,\n    offsetX: nativeEvent.offsetX,\n    offsetY: nativeEvent.offsetY,\n    detail: nativeEvent.detail,\n    \n    // State\n    _isDefaultPrevented: false,\n    _isPropagationStopped: false,\n    _isImmediatePropagationStopped: false,\n    \n    // Methods\n    preventDefault: function() {\n      this._isDefaultPrevented = true;\n      nativeEvent.preventDefault();\n    },\n    stopPropagation: function() {\n      this._isPropagationStopped = true;\n      nativeEvent.stopPropagation();\n    },\n    stopImmediatePropagation: function() {\n      this._isImmediatePropagationStopped = true;\n      this._isPropagationStopped = true;\n      nativeEvent.stopImmediatePropagation();\n    },\n    isDefaultPrevented: function() {\n      return this._isDefaultPrevented || nativeEvent.defaultPrevented;\n    },\n    isPropagationStopped: function() {\n      return this._isPropagationStopped;\n    },\n    isImmediatePropagationStopped: function() {\n      return this._isImmediatePropagationStopped;\n    }\n  };\n  \n  // Calculate pageX/pageY if missing\n  if (event.pageX == null && nativeEvent.clientX != null) {\n    const doc = nativeEvent.target?.ownerDocument || document;\n    const docElem = doc.documentElement;\n    const body = doc.body;\n    \n    event.pageX = nativeEvent.clientX + \n      (docElem?.scrollLeft || body?.scrollLeft || 0) - \n      (docElem?.clientLeft || body?.clientLeft || 0);\n    event.pageY = nativeEvent.clientY + \n      (docElem?.scrollTop || body?.scrollTop || 0) - \n      (docElem?.clientTop || body?.clientTop || 0);\n  }\n  \n  // Add which for click events\n  if (!event.which && nativeEvent.button !== undefined) {\n    event.which = (nativeEvent.button & 1 ? 1 : \n                   (nativeEvent.button & 2 ? 3 : \n                   (nativeEvent.button & 4 ? 2 : 0)));\n  }\n  \n  return event;\n}\n\n/**\n * Bind event handler(s)\n * @param {jQCollection} collection\n * @param {string} types - Event type(s)\n * @param {string|Object|Function} selector - Selector for delegation, or data, or handler\n * @param {Object|Function} [data] - Data to pass to handler, or handler\n * @param {Function} [fn] - Handler function\n * @param {boolean} [one=false] - Only trigger once\n * @returns {jQCollection}\n */\nexport function on(collection, types, selector, data, fn, one = false) {\n  // Handle object signature: on({ type: handler }, selector, data)\n  if (isPlainObject(types)) {\n    if (isString(selector)) {\n      // on({ type: handler }, selector)\n      data = data || null;\n    } else {\n      // on({ type: handler }, data)\n      data = selector;\n      selector = undefined;\n    }\n    \n    for (const type in types) {\n      on(collection, type, selector, data, types[type], one);\n    }\n    return collection;\n  }\n  \n  // Normalize arguments\n  if (data == null && fn == null) {\n    // on(types, fn)\n    fn = selector;\n    data = selector = undefined;\n  } else if (fn == null) {\n    if (isString(selector)) {\n      // on(types, selector, fn)\n      fn = data;\n      data = undefined;\n    } else {\n      // on(types, data, fn)\n      fn = data;\n      data = selector;\n      selector = undefined;\n    }\n  }\n  \n  if (fn === false) {\n    fn = returnFalse;\n  } else if (!fn) {\n    return collection;\n  }\n  \n  // Handle one-time binding\n  if (one) {\n    const origFn = fn;\n    fn = function(event) {\n      off(collection, event);\n      return origFn.apply(this, arguments);\n    };\n    fn.guid = origFn.guid || (origFn.guid = on.guid++);\n  }\n  \n  return collection.each(function() {\n    addHandler(this, types, fn, data, selector);\n  });\n}\n\non.guid = 1;\n\n/**\n * Add handler to element\n */\nfunction addHandler(elem, types, handler, data, selector) {\n  const parsedTypes = parseEventTypes(types);\n  const handlers = getHandlers(elem);\n  const elemHandle = createHandler(elem);\n  \n  // Assign guid to handler if not present\n  if (!handler.guid) {\n    handler.guid = on.guid++;\n  }\n  \n  parsedTypes.forEach(({ type, namespaces, namespace, origType }) => {\n    // Get special handling\n    const specialType = special[type];\n    \n    // Determine the actual event type to listen for\n    const bindType = selector && specialType?.delegateType || type;\n    \n    // Create handler object\n    const handleObj = {\n      type: bindType,\n      origType: type,\n      handler,\n      data,\n      selector,\n      namespace,\n      namespaces,\n      guid: handler.guid\n    };\n    \n    // Call special add callback (used by plugins like jquery.hotkeys)\n    // This allows plugins to modify handleObj (e.g., wrap the handler)\n    specialType?.add?.call(elem, handleObj);\n    \n    // Initialize handlers array for this type if needed\n    if (!handlers.events[bindType]) {\n      handlers.events[bindType] = [];\n      \n      // Check for special setup\n      if (!specialType?.setup?.call(elem, data, namespaces, elemHandle)) {\n        // Use addEventListener\n        elem.addEventListener(bindType, elemHandle, false);\n      }\n    }\n    \n    handlers.events[bindType].push(handleObj);\n  });\n}\n\n/**\n * Remove event handler(s)\n * @param {jQCollection} collection\n * @param {string|Object} [types]\n * @param {string|Function} [selector]\n * @param {Function} [fn]\n * @returns {jQCollection}\n */\nexport function off(collection, types, selector, fn) {\n  // Handle object signature\n  if (types && types.handleObj) {\n    // off(event) - called from one-time handler\n    const event = types;\n    // Directly call removeHandler instead of recursively calling off\n    // since we don't have a real collection with .each()\n    removeHandler(event.currentTarget, event.handleObj.origType,\n        event.handleObj.handler, event.handleObj.selector);\n    return collection;\n  }\n  \n  if (isPlainObject(types)) {\n    for (const type in types) {\n      off(collection, type, selector, types[type]);\n    }\n    return collection;\n  }\n  \n  // Normalize arguments\n  if (selector === false || isFunction(selector)) {\n    fn = selector;\n    selector = undefined;\n  }\n  \n  if (fn === false) {\n    fn = returnFalse;\n  }\n  \n  return collection.each(function() {\n    removeHandler(this, types, fn, selector);\n  });\n}\n\n/**\n * Remove handler from element\n */\nfunction removeHandler(elem, types, handler, selector) {\n  const handlers = handlersStorage.get(elem);\n  if (!handlers) return;\n  \n  // If no types specified, remove all\n  if (!types) {\n    for (const type in handlers.events) {\n      removeByType(elem, handlers, type, handler, selector);\n    }\n    return;\n  }\n  \n  const parsedTypes = parseEventTypes(types);\n  \n  parsedTypes.forEach(({ type, namespace }) => {\n    // Remove for specific type or all types if type is empty\n    const typesToRemove = type ? [type] : Object.keys(handlers.events);\n    \n    typesToRemove.forEach(t => {\n      removeByType(elem, handlers, t, handler, selector, namespace);\n    });\n  });\n}\n\n/**\n * Remove handlers by type\n */\nfunction removeByType(elem, handlers, type, handler, selector, namespace) {\n  const events = handlers.events[type];\n  if (!events) return;\n  \n  const remaining = events.filter(handleObj => {\n    // Check if this handler should be removed\n    if (handler && handleObj.guid !== handler.guid) {\n      return true;\n    }\n    if (selector && handleObj.selector !== selector) {\n      return true;\n    }\n    if (namespace) {\n      const nsArray = namespace.split('.');\n      if (!nsArray.every(ns => handleObj.namespaces.includes(ns))) {\n        return true;\n      }\n    }\n    return false;\n  });\n  \n  handlers.events[type] = remaining;\n  \n  // Remove listener if no handlers left\n  if (!remaining.length) {\n    const specialType = special[type];\n    \n    if (!specialType?.teardown?.call(elem, namespace, handlers.handle)) {\n      elem.removeEventListener(type, handlers.handle, false);\n    }\n    \n    delete handlers.events[type];\n  }\n}\n\n/**\n * Bind one-time event handler\n * @param {jQCollection} collection\n * @param {string} types\n * @param {string|Object|Function} selector\n * @param {Object|Function} [data]\n * @param {Function} [fn]\n * @returns {jQCollection}\n */\nexport function one(collection, types, selector, data, fn) {\n  return on(collection, types, selector, data, fn, true);\n}\n\n/**\n * Trigger an event\n * @param {jQCollection} collection\n * @param {string|Event} event\n * @param {*} [data]\n * @returns {jQCollection}\n */\nexport function trigger(collection, event, data) {\n  return collection.each(function() {\n    triggerEvent(this, event, data, true);\n  });\n}\n\n/**\n * Trigger handler without bubbling\n * @param {jQCollection} collection\n * @param {string|Event} event\n * @param {*} [data]\n * @returns {*}\n */\nexport function triggerHandler(collection, event, data) {\n  const elem = collection[0];\n  if (elem) {\n    return triggerEvent(elem, event, data, false);\n  }\n}\n\n/**\n * Core trigger function\n */\nfunction triggerEvent(elem, event, data, propagate) {\n  const eventType = isString(event) ? event : event.type;\n  const parsedTypes = parseEventTypes(eventType);\n  \n  if (!parsedTypes.length) return;\n  \n  const { type, namespace, origType } = parsedTypes[0];\n  \n  // Check special trigger\n  const specialTrigger = special[type]?.trigger;\n  if (specialTrigger?.call(elem, data) === false) {\n    return;\n  }\n  \n  // Create event object\n  let eventObj;\n  \n  // Check if it's a jQuery-like event (has isDefaultPrevented method)\n  const isJQueryEvent = event && typeof event.isDefaultPrevented === 'function';\n  \n  if (isJQueryEvent) {\n    // Already a jQuery-like event object, use it directly\n    eventObj = event;\n    // Ensure target is set\n    if (!eventObj.target) {\n      eventObj.target = elem;\n    }\n  } else if (isPlainObject(event) || event instanceof Event) {\n    eventObj = fixEvent(event instanceof Event ? event : { type, target: elem, ...event });\n  } else {\n    eventObj = fixEvent(new CustomEvent(type, {\n      bubbles: propagate,\n      cancelable: true,\n      detail: data\n    }));\n  }\n  \n  eventObj.type = type;\n  eventObj.namespace = namespace;\n  \n  // Ensure target is always set (CustomEvent doesn't have target until dispatched)\n  if (!eventObj.target) {\n    eventObj.target = elem;\n  }\n  \n  // Store extra arguments for handlers (jQuery compatibility)\n  // data can be an array that should be spread as extra args\n  eventObj._extraArgs = data != null ? (Array.isArray(data) ? data : [data]) : [];\n  \n  // Trigger on element\n  const handlers = handlersStorage.get(elem);\n  if (handlers?.handle) {\n    handlers.handle(eventObj);\n  }\n  \n  // Propagate to parent if needed\n  if (propagate && !eventObj.isPropagationStopped() && elem.parentNode) {\n    triggerEvent(elem.parentNode, eventObj, data, true);\n  }\n  \n  // Trigger native event if applicable\n  if (propagate && !eventObj.isDefaultPrevented()) {\n    const nativeEventName = 'on' + type;\n    if (elem[nativeEventName] && isFunction(elem[type])) {\n      // Temporarily prevent re-triggering\n      const old = elem[nativeEventName];\n      elem[nativeEventName] = null;\n      elem[type]();\n      elem[nativeEventName] = old;\n    }\n  }\n  \n  return eventObj.result;\n}\n\n/**\n * Helper function that returns false\n */\nfunction returnFalse() {\n  return false;\n}\n\n/**\n * Helper function that returns true\n */\nfunction returnTrue() {\n  return true;\n}\n\nexport default {\n  on,\n  off,\n  one,\n  trigger,\n  triggerHandler,\n  special,\n  parseEventTypes\n};","/**\n * jQNext - Event Shortcuts\n * Shorthand event methods (click, focus, etc.)\n */\n\nimport { on, off, trigger } from './core.js';\n\n/**\n * Create event shortcut method\n * @param {string} type - Event type\n * @returns {Function}\n */\nfunction createShortcut(type) {\n  return function(data, fn) {\n    // Trigger if no arguments\n    if (arguments.length === 0) {\n      return trigger(this, type);\n    }\n    \n    // Bind handler\n    if (typeof data === 'function') {\n      fn = data;\n      data = undefined;\n    }\n    \n    return on(this, type, null, data, fn);\n  };\n}\n\n// Standard DOM events\nexport const blur = createShortcut('blur');\nexport const focus = createShortcut('focus');\nexport const focusin = createShortcut('focusin');\nexport const focusout = createShortcut('focusout');\nexport const load = createShortcut('load');\nexport const resize = createShortcut('resize');\nexport const scroll = createShortcut('scroll');\nexport const unload = createShortcut('unload');\nexport const click = createShortcut('click');\nexport const dblclick = createShortcut('dblclick');\nexport const mousedown = createShortcut('mousedown');\nexport const mouseup = createShortcut('mouseup');\nexport const mousemove = createShortcut('mousemove');\nexport const mouseover = createShortcut('mouseover');\nexport const mouseout = createShortcut('mouseout');\nexport const mouseenter = createShortcut('mouseenter');\nexport const mouseleave = createShortcut('mouseleave');\nexport const change = createShortcut('change');\nexport const select = createShortcut('select');\nexport const submit = createShortcut('submit');\nexport const keydown = createShortcut('keydown');\nexport const keypress = createShortcut('keypress');\nexport const keyup = createShortcut('keyup');\nexport const error = createShortcut('error');\nexport const contextmenu = createShortcut('contextmenu');\n\n/**\n * Bind handlers for mouseenter and mouseleave\n * @param {Function} handlerIn - Handler for mouseenter\n * @param {Function} [handlerOut] - Handler for mouseleave\n * @returns {jQCollection}\n */\nexport function hover(handlerIn, handlerOut) {\n  return this.mouseenter(handlerIn).mouseleave(handlerOut || handlerIn);\n}\n\n// Deprecated methods (still supported for compatibility)\n\n/**\n * Bind event (deprecated - use on)\n */\nexport function bind(types, data, fn) {\n  return on(this, types, null, data, fn);\n}\n\n/**\n * Unbind event (deprecated - use off)\n */\nexport function unbind(types, fn) {\n  return off(this, types, null, fn);\n}\n\n/**\n * Delegate event (deprecated - use on)\n */\nexport function delegate(selector, types, data, fn) {\n  return on(this, types, selector, data, fn);\n}\n\n/**\n * Undelegate event (deprecated - use off)\n */\nexport function undelegate(selector, types, fn) {\n  // No selector = remove all\n  if (arguments.length === 0) {\n    return off(this, '**');\n  }\n  \n  return off(this, types, selector, fn);\n}\n\n// Shortcut list for easy iteration\nexport const shortcuts = [\n  'blur', 'focus', 'focusin', 'focusout', 'load', 'resize', 'scroll',\n  'unload', 'click', 'dblclick', 'mousedown', 'mouseup', 'mousemove',\n  'mouseover', 'mouseout', 'mouseenter', 'mouseleave', 'change', 'select',\n  'submit', 'keydown', 'keypress', 'keyup', 'error', 'contextmenu'\n];\n\nexport default {\n  blur,\n  focus,\n  focusin,\n  focusout,\n  load,\n  resize,\n  scroll,\n  unload,\n  click,\n  dblclick,\n  mousedown,\n  mouseup,\n  mousemove,\n  mouseover,\n  mouseout,\n  mouseenter,\n  mouseleave,\n  change,\n  select,\n  submit,\n  keydown,\n  keypress,\n  keyup,\n  error,\n  contextmenu,\n  hover,\n  bind,\n  unbind,\n  delegate,\n  undelegate,\n  shortcuts\n};","/**\n * jQNext - Effects Core\n * Animation using Web Animation API\n */\n\nimport { isFunction, isNumeric, isPlainObject, isString } from '../utilities/type.js';\nimport { getInternalData, setInternalData, removeInternalData } from '../core/data.js';\nimport { Deferred } from '../utilities/deferred.js';\nimport { camelCase } from '../utilities/strings.js';\n\n// Animation speeds\nexport const speeds = {\n  slow: 600,\n  fast: 200,\n  _default: 400\n};\n\n// Global animation settings\nexport const fx = {\n  off: false,\n  interval: 13, // Legacy, not used with Web Animation API\n  speeds\n};\n\n// Easing functions mapping (jQuery to CSS)\nconst easingMap = {\n  linear: 'linear',\n  swing: 'ease-in-out',\n  easeInQuad: 'cubic-bezier(0.55, 0.085, 0.68, 0.53)',\n  easeOutQuad: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n  easeInOutQuad: 'cubic-bezier(0.455, 0.03, 0.515, 0.955)',\n  easeInCubic: 'cubic-bezier(0.55, 0.055, 0.675, 0.19)',\n  easeOutCubic: 'cubic-bezier(0.215, 0.61, 0.355, 1)',\n  easeInOutCubic: 'cubic-bezier(0.645, 0.045, 0.355, 1)',\n  easeInQuart: 'cubic-bezier(0.895, 0.03, 0.685, 0.22)',\n  easeOutQuart: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\n  easeInOutQuart: 'cubic-bezier(0.77, 0, 0.175, 1)',\n  easeInQuint: 'cubic-bezier(0.755, 0.05, 0.855, 0.06)',\n  easeOutQuint: 'cubic-bezier(0.23, 1, 0.32, 1)',\n  easeInOutQuint: 'cubic-bezier(0.86, 0, 0.07, 1)',\n  easeInSine: 'cubic-bezier(0.47, 0, 0.745, 0.715)',\n  easeOutSine: 'cubic-bezier(0.39, 0.575, 0.565, 1)',\n  easeInOutSine: 'cubic-bezier(0.445, 0.05, 0.55, 0.95)',\n  easeInExpo: 'cubic-bezier(0.95, 0.05, 0.795, 0.035)',\n  easeOutExpo: 'cubic-bezier(0.19, 1, 0.22, 1)',\n  easeInOutExpo: 'cubic-bezier(1, 0, 0, 1)',\n  easeInCirc: 'cubic-bezier(0.6, 0.04, 0.98, 0.335)',\n  easeOutCirc: 'cubic-bezier(0.075, 0.82, 0.165, 1)',\n  easeInOutCirc: 'cubic-bezier(0.785, 0.135, 0.15, 0.86)',\n  easeInBack: 'cubic-bezier(0.6, -0.28, 0.735, 0.045)',\n  easeOutBack: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n  easeInOutBack: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)'\n};\n\n// CSS properties that don't need 'px'\nconst cssNumber = new Set([\n  'columnCount', 'fillOpacity', 'flexGrow', 'flexShrink',\n  'fontWeight', 'lineHeight', 'opacity', 'order', 'orphans',\n  'widows', 'zIndex', 'zoom'\n]);\n\n/**\n * Get computed style value\n */\nfunction getStyle(elem, prop) {\n  return getComputedStyle(elem).getPropertyValue(prop);\n}\n\n/**\n * Normalize duration value\n * @param {number|string} duration\n * @returns {number}\n */\nfunction normalizeDuration(duration) {\n  if (typeof duration === 'number') {\n    return duration;\n  }\n  if (speeds[duration]) {\n    return speeds[duration];\n  }\n  return speeds._default;\n}\n\n/**\n * Normalize easing value\n * @param {string} easing\n * @returns {string}\n */\nfunction normalizeEasing(easing = 'swing') {\n  return easingMap[easing] || easing;\n}\n\n/**\n * Core animate function using Web Animation API\n * @param {jQCollection} collection\n * @param {Object} properties - CSS properties to animate\n * @param {number|string|Object} duration - Duration or options\n * @param {string|Function} easing - Easing or callback\n * @param {Function} [callback] - Complete callback\n * @returns {jQCollection}\n */\nexport function animate(collection, properties, duration, easing, callback) {\n  // Handle options object\n  let options = {};\n  \n  if (isPlainObject(duration)) {\n    options = { ...duration };\n  } else {\n    // Normalize arguments\n    if (isFunction(easing)) {\n      callback = easing;\n      easing = undefined;\n    } else if (isFunction(duration)) {\n      callback = duration;\n      duration = undefined;\n    }\n    \n    options = {\n      duration: normalizeDuration(duration),\n      easing: normalizeEasing(easing),\n      complete: callback\n    };\n  }\n  \n  // Normalize options\n  options.duration = normalizeDuration(options.duration);\n  options.easing = normalizeEasing(options.easing);\n  \n  // Handle fx.off\n  if (fx.off) {\n    options.duration = 0;\n  }\n  \n  // Handle objects without .each() method\n  if (!collection || typeof collection.each !== 'function') {\n    // If it's a single element, animate it directly\n    if (collection && collection.nodeType) {\n      animateElement(collection, properties, options);\n      return collection;\n    }\n    // If it's array-like, iterate manually\n    if (collection && typeof collection.length === 'number') {\n      for (let i = 0; i < collection.length; i++) {\n        if (collection[i] && collection[i].nodeType) {\n          animateElement(collection[i], properties, options);\n        }\n      }\n      return collection;\n    }\n    return collection;\n  }\n  \n  return collection.each(function() {\n    animateElement(this, properties, options);\n  });\n}\n\n/**\n * Animate a single element\n */\nfunction animateElement(elem, properties, options) {\n  // Get or create animation queue\n  let queue = getInternalData(elem, 'fxqueue') || [];\n  \n  const animationTask = () => {\n    return runAnimation(elem, properties, options);\n  };\n  \n  if (options.queue === false) {\n    // Run immediately\n    animationTask();\n  } else {\n    // Add to queue\n    queue.push(animationTask);\n    setInternalData(elem, 'fxqueue', queue);\n    \n    // Start queue if not running\n    if (queue.length === 1) {\n      processQueue(elem);\n    }\n  }\n}\n\n/**\n * Process animation queue\n */\nfunction processQueue(elem) {\n  const queue = getInternalData(elem, 'fxqueue');\n  \n  if (!queue || !queue.length) {\n    removeInternalData(elem, 'fxqueue');\n    return;\n  }\n  \n  const task = queue[0];\n  const promise = task();\n  \n  if (promise && promise.then) {\n    promise.then(() => {\n      queue.shift();\n      setInternalData(elem, 'fxqueue', queue);\n      processQueue(elem);\n    });\n  } else {\n    queue.shift();\n    processQueue(elem);\n  }\n}\n\n/**\n * Run animation on element\n */\nfunction runAnimation(elem, properties, options) {\n  const deferred = Deferred();\n  const computed = getComputedStyle(elem);\n  \n  // Build keyframes\n  const from = {};\n  const to = {};\n  \n  for (const prop in properties) {\n    const camelProp = camelCase(prop);\n    let targetValue = properties[prop];\n    \n    // Handle relative values (+=, -=)\n    const currentValue = parseFloat(computed[camelProp]) || 0;\n    \n    if (isString(targetValue)) {\n      const match = targetValue.match(/^([+-]=)(.+)$/);\n      if (match) {\n        const modifier = match[1];\n        const delta = parseFloat(match[2]) || 0;\n        targetValue = modifier === '+=' ? currentValue + delta : currentValue - delta;\n      }\n    }\n    \n    // Get current computed value\n    from[camelProp] = computed[camelProp];\n    \n    // Normalize target value\n    if (isNumeric(targetValue) && !cssNumber.has(camelProp)) {\n      to[camelProp] = targetValue + 'px';\n    } else {\n      to[camelProp] = targetValue;\n    }\n  }\n  \n  // Handle show/hide/toggle special values\n  const keyframes = [from, to];\n  \n  // Use Web Animation API\n  const animation = elem.animate(keyframes, {\n    duration: options.duration,\n    easing: options.easing,\n    fill: 'forwards'\n  });\n  \n  // Store animation for stop/finish\n  const animations = getInternalData(elem, 'animations') || [];\n  animations.push(animation);\n  setInternalData(elem, 'animations', animations);\n  \n  animation.onfinish = () => {\n    // Apply final values to style\n    for (const prop in to) {\n      elem.style[prop] = to[prop];\n    }\n    \n    // Remove from animations list\n    const anims = getInternalData(elem, 'animations') || [];\n    const idx = anims.indexOf(animation);\n    if (idx > -1) anims.splice(idx, 1);\n    setInternalData(elem, 'animations', anims);\n    \n    // Call complete callback\n    if (options.complete) {\n      options.complete.call(elem);\n    }\n    \n    // Call step callback (final)\n    if (options.step) {\n      options.step.call(elem, 1, { elem, prop: '', now: 1, end: 1 });\n    }\n    \n    deferred.resolveWith(elem, [animation, true]);\n  };\n  \n  animation.oncancel = () => {\n    deferred.rejectWith(elem, [animation, false]);\n  };\n  \n  return deferred.promise();\n}\n\n/**\n * Stop animations\n * @param {jQCollection} collection\n * @param {boolean} [clearQueue=false]\n * @param {boolean} [jumpToEnd=false]\n * @returns {jQCollection}\n */\nexport function stop(collection, clearQueue = false, jumpToEnd = false) {\n  return collection.each(function() {\n    const animations = getInternalData(this, 'animations') || [];\n    \n    animations.forEach(anim => {\n      if (jumpToEnd) {\n        anim.finish();\n      } else {\n        anim.cancel();\n      }\n    });\n    \n    setInternalData(this, 'animations', []);\n    \n    if (clearQueue) {\n      setInternalData(this, 'fxqueue', []);\n    }\n  });\n}\n\n/**\n * Finish all animations (jump to end)\n * @param {jQCollection} collection\n * @param {string} [queue]\n * @returns {jQCollection}\n */\nexport function finish(collection, queue) {\n  return collection.each(function() {\n    // Clear queue\n    setInternalData(this, 'fxqueue', []);\n    \n    // Finish all animations\n    const animations = getInternalData(this, 'animations') || [];\n    animations.forEach(anim => anim.finish());\n    setInternalData(this, 'animations', []);\n  });\n}\n\n/**\n * Delay the queue\n * @param {jQCollection} collection\n * @param {number} time\n * @param {string} [type]\n * @returns {jQCollection}\n */\nexport function delay(collection, time, type) {\n  const duration = normalizeDuration(time);\n  \n  return collection.each(function() {\n    let queue = getInternalData(this, 'fxqueue') || [];\n    \n    queue.push(() => {\n      return new Promise(resolve => setTimeout(resolve, duration));\n    });\n    \n    setInternalData(this, 'fxqueue', queue);\n    \n    if (queue.length === 1) {\n      processQueue(this);\n    }\n  });\n}\n\n/**\n * Get/set the queue\n * @param {jQCollection} collection\n * @param {string|Array|Function} [type]\n * @param {Array|Function} [data]\n * @returns {Array|jQCollection}\n */\nexport function queue(collection, type, data) {\n  // Getter\n  if (type === undefined || isString(type) && data === undefined) {\n    const elem = collection[0];\n    if (!elem) return [];\n    return getInternalData(elem, 'fxqueue') || [];\n  }\n  \n  // Handle (type, data) and (data) signatures\n  if (!isString(type)) {\n    data = type;\n    type = 'fx';\n  }\n  \n  // Setter\n  return collection.each(function() {\n    let queue = getInternalData(this, 'fxqueue') || [];\n    \n    if (Array.isArray(data)) {\n      queue = data.slice();\n    } else if (isFunction(data)) {\n      queue.push(data);\n    }\n    \n    setInternalData(this, 'fxqueue', queue);\n    \n    if (queue.length === 1) {\n      processQueue(this);\n    }\n  });\n}\n\n/**\n * Execute the next item in the queue\n * @param {jQCollection} collection\n * @param {string} [type]\n * @returns {jQCollection}\n */\nexport function dequeue(collection, type) {\n  return collection.each(function() {\n    const queue = getInternalData(this, 'fxqueue') || [];\n    \n    if (queue.length) {\n      queue.shift();\n      setInternalData(this, 'fxqueue', queue);\n      processQueue(this);\n    }\n  });\n}\n\n/**\n * Clear the queue\n * @param {jQCollection} collection\n * @param {string} [type]\n * @returns {jQCollection}\n */\nexport function clearQueue(collection, type) {\n  return collection.each(function() {\n    setInternalData(this, 'fxqueue', []);\n  });\n}\n\n/**\n * Get a promise resolved when all animations complete\n * @param {jQCollection} collection\n * @param {string} [type]\n * @param {Object} [target]\n * @returns {Promise}\n */\nexport function promise(collection, type, target) {\n  const deferred = Deferred();\n  \n  let count = collection.length;\n  if (count === 0) {\n    deferred.resolveWith(collection);\n    return deferred.promise(target);\n  }\n  \n  collection.each(function() {\n    const animations = getInternalData(this, 'animations') || [];\n    const queue = getInternalData(this, 'fxqueue') || [];\n    \n    if (!animations.length && !queue.length) {\n      count--;\n      if (count === 0) {\n        deferred.resolveWith(collection);\n      }\n      return;\n    }\n    \n    // Wait for all animations to finish\n    Promise.all(animations.map(a => \n      new Promise(resolve => {\n        const orig = a.onfinish;\n        a.onfinish = () => {\n          if (orig) orig();\n          resolve();\n        };\n      })\n    )).then(() => {\n      count--;\n      if (count === 0) {\n        deferred.resolveWith(collection);\n      }\n    });\n  });\n  \n  return deferred.promise(target);\n}\n\nexport default {\n  animate,\n  stop,\n  finish,\n  delay,\n  queue,\n  dequeue,\n  clearQueue,\n  promise,\n  fx,\n  speeds\n};","/**\n * jQNext - Show/Hide Effects\n * Show, hide, toggle, slide, and fade effects\n */\n\nimport { isFunction, isString, isPlainObject } from '../utilities/type.js';\nimport { animate, speeds, fx } from './core.js';\nimport { getInternalData, setInternalData } from '../core/data.js';\n\n/**\n * Get the default display value for an element\n */\nconst displayCache = {};\nfunction getDefaultDisplay(elem) {\n  const nodeName = elem.nodeName.toLowerCase();\n  \n  if (displayCache[nodeName]) {\n    return displayCache[nodeName];\n  }\n  \n  const temp = document.createElement(nodeName);\n  document.body.appendChild(temp);\n  const display = getComputedStyle(temp).display;\n  document.body.removeChild(temp);\n  \n  displayCache[nodeName] = display === 'none' ? 'block' : display;\n  return displayCache[nodeName];\n}\n\n/**\n * Check if element is hidden\n */\nfunction isHidden(elem) {\n  return getComputedStyle(elem).display === 'none';\n}\n\n/**\n * Normalize show/hide options\n */\nfunction normalizeOptions(duration, easing, callback, useDefault = false) {\n  let options = {};\n  \n  if (isPlainObject(duration)) {\n    options = { ...duration };\n  } else {\n    if (isFunction(easing)) {\n      callback = easing;\n      easing = undefined;\n    } else if (isFunction(duration)) {\n      callback = duration;\n      duration = undefined;\n    }\n    \n    options = {\n      duration,\n      easing,\n      complete: callback\n    };\n  }\n  \n  // Normalize duration\n  // If no duration provided and useDefault is false, use 0 (instant)\n  // If useDefault is true, use speeds._default\n  if (options.duration === undefined) {\n    options.duration = useDefault ? speeds._default : 0;\n  } else if (isString(options.duration)) {\n    options.duration = speeds[options.duration] || speeds._default;\n  }\n  \n  // Handle fx.off\n  if (fx.off) {\n    options.duration = 0;\n  }\n  \n  return options;\n}\n\n/**\n * Show elements with optional animation\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function show(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  // No animation\n  if (!options.duration) {\n    return collection.each(function() {\n      if (isHidden(this)) {\n        this.style.display = getInternalData(this, 'olddisplay') || getDefaultDisplay(this);\n      }\n      if (options.complete) {\n        options.complete.call(this);\n      }\n    });\n  }\n  \n  // With animation\n  return collection.each(function() {\n    if (!isHidden(this)) {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    // Store original display\n    const display = getInternalData(this, 'olddisplay') || getDefaultDisplay(this);\n    \n    // Set initial state\n    this.style.overflow = 'hidden';\n    this.style.display = display;\n    \n    // Get natural dimensions\n    const targetHeight = this.offsetHeight;\n    const targetWidth = this.offsetWidth;\n    \n    // Start from zero\n    this.style.height = '0px';\n    this.style.width = '0px';\n    this.style.opacity = '0';\n    \n    // Animate to natural size\n    animate({ 0: this, length: 1 }, {\n      height: targetHeight,\n      width: targetWidth,\n      opacity: 1\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.overflow = '';\n        this.style.height = '';\n        this.style.width = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Hide elements with optional animation\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function hide(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  // No animation\n  if (!options.duration) {\n    return collection.each(function() {\n      if (!isHidden(this)) {\n        // Store current display\n        const display = getComputedStyle(this).display;\n        if (display !== 'none') {\n          setInternalData(this, 'olddisplay', display);\n        }\n        this.style.display = 'none';\n      }\n      if (options.complete) {\n        options.complete.call(this);\n      }\n    });\n  }\n  \n  // With animation\n  return collection.each(function() {\n    if (isHidden(this)) {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    // Store original display\n    const display = getComputedStyle(this).display;\n    if (display !== 'none') {\n      setInternalData(this, 'olddisplay', display);\n    }\n    \n    this.style.overflow = 'hidden';\n    \n    animate({ 0: this, length: 1 }, {\n      height: 0,\n      width: 0,\n      opacity: 0\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.display = 'none';\n        this.style.overflow = '';\n        this.style.height = '';\n        this.style.width = '';\n        this.style.opacity = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Toggle visibility with optional animation\n * @param {jQCollection} collection\n * @param {boolean|number|string|Object} [state]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function toggle(collection, state, easing, callback) {\n  // Handle boolean state\n  if (typeof state === 'boolean') {\n    return state ? show(collection) : hide(collection);\n  }\n  \n  return collection.each(function() {\n    if (isHidden(this)) {\n      show({ 0: this, length: 1 }, state, easing, callback);\n    } else {\n      hide({ 0: this, length: 1 }, state, easing, callback);\n    }\n  });\n}\n\n/**\n * Slide down (show with height animation)\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function slideDown(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  return collection.each(function() {\n    if (!isHidden(this)) {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    const display = getInternalData(this, 'olddisplay') || getDefaultDisplay(this);\n    \n    // Show element to get natural height\n    this.style.display = display;\n    this.style.overflow = 'hidden';\n    const targetHeight = this.offsetHeight;\n    \n    // Start from zero height\n    this.style.height = '0px';\n    \n    animate({ 0: this, length: 1 }, {\n      height: targetHeight\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.overflow = '';\n        this.style.height = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Slide up (hide with height animation)\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function slideUp(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  return collection.each(function() {\n    if (isHidden(this)) {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    // Store original display\n    const display = getComputedStyle(this).display;\n    if (display !== 'none') {\n      setInternalData(this, 'olddisplay', display);\n    }\n    \n    this.style.overflow = 'hidden';\n    \n    animate({ 0: this, length: 1 }, {\n      height: 0\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.display = 'none';\n        this.style.overflow = '';\n        this.style.height = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Toggle slide\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function slideToggle(collection, duration, easing, callback) {\n  return collection.each(function() {\n    if (isHidden(this)) {\n      slideDown({ 0: this, length: 1 }, duration, easing, callback);\n    } else {\n      slideUp({ 0: this, length: 1 }, duration, easing, callback);\n    }\n  });\n}\n\n/**\n * Fade in\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function fadeIn(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  return collection.each(function() {\n    if (!isHidden(this) && getComputedStyle(this).opacity !== '0') {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    const display = getInternalData(this, 'olddisplay') || getDefaultDisplay(this);\n    \n    this.style.display = display;\n    this.style.opacity = '0';\n    \n    animate({ 0: this, length: 1 }, {\n      opacity: 1\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.opacity = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Fade out\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function fadeOut(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  return collection.each(function() {\n    if (isHidden(this)) {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    // Store original display\n    const display = getComputedStyle(this).display;\n    if (display !== 'none') {\n      setInternalData(this, 'olddisplay', display);\n    }\n    \n    animate({ 0: this, length: 1 }, {\n      opacity: 0\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.display = 'none';\n        this.style.opacity = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Fade to specific opacity\n * @param {jQCollection} collection\n * @param {number|string} duration\n * @param {number} opacity\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function fadeTo(collection, duration, opacity, callback) {\n  const options = normalizeOptions(duration, undefined, callback);\n  \n  return collection.each(function() {\n    // Show if hidden\n    if (isHidden(this)) {\n      this.style.opacity = '0';\n      this.style.display = getInternalData(this, 'olddisplay') || getDefaultDisplay(this);\n    }\n    \n    animate({ 0: this, length: 1 }, {\n      opacity: opacity\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: options.complete\n    });\n  });\n}\n\n/**\n * Toggle fade\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function fadeToggle(collection, duration, easing, callback) {\n  return collection.each(function() {\n    if (isHidden(this) || getComputedStyle(this).opacity === '0') {\n      fadeIn({ 0: this, length: 1 }, duration, easing, callback);\n    } else {\n      fadeOut({ 0: this, length: 1 }, duration, easing, callback);\n    }\n  });\n}\n\nexport default {\n  show,\n  hide,\n  toggle,\n  slideDown,\n  slideUp,\n  slideToggle,\n  fadeIn,\n  fadeOut,\n  fadeTo,\n  fadeToggle\n};","/**\n * jQNext - AJAX Core\n * Modern AJAX using Fetch API with jQuery-compatible interface\n */\n\nimport { isFunction, isPlainObject, isString, isArray } from '../utilities/type.js';\nimport { extend } from '../utilities/objects.js';\nimport { Deferred } from '../utilities/deferred.js';\nimport { param } from '../utilities/strings.js';\nimport { trigger } from '../events/core.js';\n\n// Default AJAX settings\nexport const ajaxSettings = {\n  url: location.href,\n  type: 'GET',\n  contentType: 'application/x-www-form-urlencoded; charset=UTF-8',\n  processData: true,\n  async: true,\n  accepts: {\n    '*': '*/*',\n    text: 'text/plain',\n    html: 'text/html',\n    xml: 'application/xml, text/xml',\n    json: 'application/json, text/javascript',\n    script: 'text/javascript, application/javascript'\n  },\n  dataType: null,\n  timeout: 0,\n  cache: true,\n  crossDomain: false,\n  headers: {},\n  global: true\n};\n\n// Active request count\nlet active = 0;\n\n/**\n * Setup default AJAX settings\n * @param {Object} settings\n */\nexport function ajaxSetup(settings) {\n  extend(ajaxSettings, settings);\n}\n\n/**\n * AJAX prefilters\n */\nconst prefilters = [];\n\n/**\n * Add AJAX prefilter\n * @param {string|Function} dataTypeOrHandler\n * @param {Function} [handler]\n */\nexport function ajaxPrefilter(dataTypeOrHandler, handler) {\n  if (isFunction(dataTypeOrHandler)) {\n    handler = dataTypeOrHandler;\n    dataTypeOrHandler = '*';\n  }\n  prefilters.push({ dataType: dataTypeOrHandler, handler });\n}\n\n/**\n * AJAX transports\n */\nconst transports = {};\n\n/**\n * Add AJAX transport\n * @param {string} dataType\n * @param {Function} handler\n */\nexport function ajaxTransport(dataType, handler) {\n  transports[dataType] = handler;\n}\n\n/**\n * Main AJAX function\n * @param {string|Object} url - URL or settings object\n * @param {Object} [settings] - AJAX settings\n * @returns {Object} - jqXHR object (Deferred-compatible)\n */\nexport function ajax(url, settings) {\n  // Handle overloaded signature\n  if (typeof url === 'object') {\n    settings = url;\n    url = settings.url;\n  }\n  \n  // Merge settings with defaults\n  const s = extend({}, ajaxSettings, settings);\n  s.url = url || s.url;\n  s.type = (s.type || s.method || 'GET').toUpperCase();\n  \n  // Process data types\n  const dataTypes = (s.dataType || '*').toLowerCase().split(/\\s+/);\n  \n  // Create jqXHR (Deferred-compatible) - MUST be before prefilters\n  const deferred = Deferred();\n  const jqXHR = deferred.promise({\n    readyState: 0,\n    status: 0,\n    statusText: '',\n    responseText: '',\n    responseJSON: null,\n    responseXML: null,\n    \n    getResponseHeader(name) {\n      return this._responseHeaders?.[name.toLowerCase()];\n    },\n    \n    getAllResponseHeaders() {\n      if (!this._responseHeaders) return '';\n      return Object.entries(this._responseHeaders)\n        .map(([k, v]) => `${k}: ${v}`)\n        .join('\\r\\n');\n    },\n    \n    setRequestHeader(name, value) {\n      if (this.readyState === 0) {\n        s.headers[name] = value;\n      }\n      return this;\n    },\n    \n    overrideMimeType(type) {\n      s.mimeType = type;\n      return this;\n    },\n    \n    abort(statusText) {\n      if (controller) {\n        controller.abort();\n      }\n      done(0, statusText || 'abort');\n      return this;\n    }\n  });\n  \n  // Run prefilters (after jqXHR is created)\n  prefilters.forEach(({ dataType, handler }) => {\n    if (dataType === '*' || dataTypes.includes(dataType)) {\n      handler(s, settings || {}, jqXHR);\n    }\n  });\n  \n  // Callbacks\n  jqXHR.success = jqXHR.done;\n  jqXHR.error = jqXHR.fail;\n  jqXHR.complete = jqXHR.always;\n  \n  // Abort controller\n  let controller;\n  \n  // Process URL for cache busting\n  let requestUrl = s.url;\n  \n  if (!s.cache && s.type === 'GET') {\n    const timestamp = '_=' + Date.now();\n    requestUrl += (requestUrl.indexOf('?') > -1 ? '&' : '?') + timestamp;\n  }\n  \n  // Process data\n  let requestData = s.data;\n  \n  if (requestData && s.processData && !isString(requestData)) {\n    requestData = param(requestData);\n  }\n  \n  // Append data to URL for GET requests\n  if (requestData && s.type === 'GET') {\n    requestUrl += (requestUrl.indexOf('?') > -1 ? '&' : '?') + requestData;\n    requestData = null;\n  }\n  \n  // Build fetch options\n  const fetchOptions = {\n    method: s.type,\n    headers: new Headers(),\n    credentials: s.xhrFields?.withCredentials ? 'include' : 'same-origin'\n  };\n  \n  // Set headers\n  if (s.contentType !== false && s.type !== 'GET') {\n    fetchOptions.headers.set('Content-Type', s.contentType);\n  }\n  \n  // Accept header based on dataType\n  const accept = s.accepts[dataTypes[0]] || s.accepts['*'];\n  fetchOptions.headers.set('Accept', accept);\n  \n  // X-Requested-With header\n  if (!s.crossDomain) {\n    fetchOptions.headers.set('X-Requested-With', 'XMLHttpRequest');\n  }\n  \n  // Custom headers\n  for (const header in s.headers) {\n    fetchOptions.headers.set(header, s.headers[header]);\n  }\n  \n  // Set body for non-GET requests\n  if (requestData && s.type !== 'GET') {\n    if (s.contentType && s.contentType.indexOf('json') > -1) {\n      fetchOptions.body = isString(requestData) ? requestData : JSON.stringify(requestData);\n    } else if (requestData instanceof FormData) {\n      fetchOptions.body = requestData;\n      // Let browser set content-type for FormData\n      fetchOptions.headers.delete('Content-Type');\n    } else {\n      fetchOptions.body = requestData;\n    }\n  }\n  \n  // Timeout handling\n  if (s.timeout > 0) {\n    controller = new AbortController();\n    fetchOptions.signal = controller.signal;\n    \n    setTimeout(() => {\n      if (jqXHR.readyState < 4) {\n        controller.abort();\n        done(0, 'timeout');\n      }\n    }, s.timeout);\n  }\n  \n  // Before send callback\n  if (s.beforeSend) {\n    if (s.beforeSend.call(s.context || s, jqXHR, s) === false) {\n      return jqXHR;\n    }\n  }\n  \n  // Global ajaxStart\n  if (s.global && active++ === 0) {\n    triggerGlobal('ajaxStart');\n  }\n  \n  // Global ajaxSend\n  if (s.global) {\n    triggerGlobal('ajaxSend', [jqXHR, s]);\n  }\n  \n  jqXHR.readyState = 1;\n  \n  // Execute fetch\n  fetch(requestUrl, fetchOptions)\n    .then(response => {\n      jqXHR.readyState = 2;\n      jqXHR.status = response.status;\n      jqXHR.statusText = response.statusText;\n      \n      // Store headers\n      jqXHR._responseHeaders = {};\n      response.headers.forEach((value, name) => {\n        jqXHR._responseHeaders[name.toLowerCase()] = value;\n      });\n      \n      // Check for HTTP errors\n      if (!response.ok) {\n        throw response;\n      }\n      \n      // Parse response based on dataType\n      const contentType = response.headers.get('Content-Type') || '';\n      let dataType = dataTypes[0];\n      \n      // Auto-detect data type if not specified\n      if (!dataType || dataType === '*') {\n        if (contentType.indexOf('json') > -1) {\n          dataType = 'json';\n        } else if (contentType.indexOf('xml') > -1) {\n          dataType = 'xml';\n        } else if (contentType.indexOf('html') > -1) {\n          dataType = 'html';\n        } else {\n          dataType = 'text';\n        }\n      }\n      \n      // Parse response\n      if (dataType === 'json') {\n        return response.json().then(data => {\n          jqXHR.responseJSON = data;\n          return data;\n        });\n      } else if (dataType === 'xml') {\n        return response.text().then(text => {\n          jqXHR.responseText = text;\n          const parser = new DOMParser();\n          jqXHR.responseXML = parser.parseFromString(text, 'text/xml');\n          return jqXHR.responseXML;\n        });\n      } else {\n        return response.text().then(text => {\n          jqXHR.responseText = text;\n          return text;\n        });\n      }\n    })\n    .then(data => {\n      done(jqXHR.status, jqXHR.statusText, data);\n    })\n    .catch(error => {\n      if (error.name === 'AbortError') {\n        // Already handled by abort\n        return;\n      }\n      \n      jqXHR.status = error.status || 0;\n      jqXHR.statusText = error.statusText || 'error';\n      \n      done(jqXHR.status, jqXHR.statusText, null, error);\n    });\n  \n  /**\n   * Complete the request\n   */\n  function done(status, statusText, data, error) {\n    if (jqXHR.readyState === 4) return;\n    \n    jqXHR.readyState = 4;\n    jqXHR.status = status;\n    jqXHR.statusText = statusText;\n    \n    const isSuccess = status >= 200 && status < 300 || status === 304;\n    \n    if (isSuccess) {\n      // Success callbacks\n      if (s.success) {\n        s.success.call(s.context || s, data, statusText, jqXHR);\n      }\n      deferred.resolveWith(s.context || s, [data, statusText, jqXHR]);\n    } else {\n      // Error callbacks\n      if (s.error) {\n        s.error.call(s.context || s, jqXHR, statusText, error);\n      }\n      deferred.rejectWith(s.context || s, [jqXHR, statusText, error]);\n    }\n    \n    // Complete callbacks\n    if (s.complete) {\n      s.complete.call(s.context || s, jqXHR, statusText);\n    }\n    \n    // Global events\n    if (s.global) {\n      triggerGlobal('ajaxComplete', [jqXHR, s]);\n      \n      if (isSuccess) {\n        triggerGlobal('ajaxSuccess', [jqXHR, s, data]);\n      } else {\n        triggerGlobal('ajaxError', [jqXHR, s, error]);\n      }\n      \n      if (--active === 0) {\n        triggerGlobal('ajaxStop');\n      }\n    }\n  }\n  \n  return jqXHR;\n}\n\n/**\n * Trigger global AJAX event\n */\nfunction triggerGlobal(type, args = []) {\n  const event = new CustomEvent(type, {\n    bubbles: true,\n    cancelable: true,\n    detail: args\n  });\n  document.dispatchEvent(event);\n}\n\n/**\n * Shorthand GET request\n * @param {string} url\n * @param {Object|Function} [data]\n * @param {Function} [success]\n * @param {string} [dataType]\n * @returns {Object} jqXHR\n */\nexport function get(url, data, success, dataType) {\n  // Shift arguments if data is a function\n  if (isFunction(data)) {\n    dataType = dataType || success;\n    success = data;\n    data = undefined;\n  }\n  \n  return ajax({\n    url,\n    data,\n    success,\n    dataType,\n    type: 'GET'\n  });\n}\n\n/**\n * Shorthand POST request\n * @param {string} url\n * @param {Object|Function} [data]\n * @param {Function} [success]\n * @param {string} [dataType]\n * @returns {Object} jqXHR\n */\nexport function post(url, data, success, dataType) {\n  if (isFunction(data)) {\n    dataType = dataType || success;\n    success = data;\n    data = undefined;\n  }\n  \n  return ajax({\n    url,\n    data,\n    success,\n    dataType,\n    type: 'POST'\n  });\n}\n\n/**\n * Get JSON\n * @param {string} url\n * @param {Object|Function} [data]\n * @param {Function} [success]\n * @returns {Object} jqXHR\n */\nexport function getJSON(url, data, success) {\n  if (isFunction(data)) {\n    success = data;\n    data = undefined;\n  }\n  \n  return get(url, data, success, 'json');\n}\n\n/**\n * Load and execute script\n * @param {string} url\n * @param {Function} [success]\n * @returns {Object} jqXHR\n */\nexport function getScript(url, success) {\n  return ajax({\n    url,\n    type: 'GET',\n    dataType: 'script',\n    cache: true,\n    success\n  }).then(script => {\n    // Execute the script\n    const scriptElem = document.createElement('script');\n    scriptElem.text = script;\n    document.head.appendChild(scriptElem).parentNode.removeChild(scriptElem);\n    return script;\n  });\n}\n\n/**\n * Load HTML into element\n * @param {jQCollection} collection\n * @param {string} url\n * @param {Object|Function} [data]\n * @param {Function} [complete]\n * @returns {jQCollection}\n */\nexport function load(collection, url, data, complete) {\n  if (!collection.length) {\n    return collection;\n  }\n  \n  // Ensure url is a string\n  if (typeof url !== 'string') {\n    return collection;\n  }\n  \n  // Handle argument shifting\n  if (isFunction(data)) {\n    complete = data;\n    data = undefined;\n  }\n  \n  // Check for selector in URL\n  const selector = url.indexOf(' ') > -1\n    ? url.slice(url.indexOf(' ') + 1)\n    : null;\n  const requestUrl = selector ? url.slice(0, url.indexOf(' ')) : url;\n  \n  ajax({\n    url: requestUrl,\n    type: data ? 'POST' : 'GET',\n    dataType: 'html',\n    data\n  }).done((responseText) => {\n    // If selector specified, extract matching content\n    let content = responseText;\n    \n    if (selector) {\n      const temp = document.createElement('div');\n      temp.innerHTML = responseText;\n      const found = temp.querySelectorAll(selector);\n      content = '';\n      found.forEach(el => content += el.innerHTML);\n    }\n    \n    // Insert content\n    collection.each(function() {\n      this.innerHTML = content;\n    });\n    \n    // Execute callback\n    if (complete) {\n      collection.each(function() {\n        complete.call(this, responseText, 'success', null);\n      });\n    }\n  }).fail((jqXHR, status, error) => {\n    if (complete) {\n      collection.each(function() {\n        complete.call(this, jqXHR.responseText || '', status, jqXHR);\n      });\n    }\n  });\n  \n  return collection;\n}\n\nexport default {\n  ajax,\n  ajaxSetup,\n  ajaxPrefilter,\n  ajaxTransport,\n  ajaxSettings,\n  get,\n  post,\n  getJSON,\n  getScript,\n  load\n};","/**\n * jQNext - Form Serialization\n * Serialize forms and form elements\n */\n\nimport { param } from '../utilities/strings.js';\n\n/**\n * Elements that can be serialized\n */\nconst rsubmittable = /^(?:input|select|textarea|keygen)/i;\nconst rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i;\nconst rcheckableType = /^(?:checkbox|radio)$/i;\n\n/**\n * Get serializable form elements\n * @param {Element} form\n * @returns {Element[]}\n */\nfunction getSerializableElements(form) {\n  const elements = [];\n  \n  // Handle form or collection of elements\n  if (form.elements) {\n    // It's a form\n    const formElements = form.elements;\n    for (let i = 0; i < formElements.length; i++) {\n      elements.push(formElements[i]);\n    }\n  } else if (form.length !== undefined) {\n    // It's a collection\n    for (let i = 0; i < form.length; i++) {\n      if (form[i].elements) {\n        // Form element\n        const formElements = form[i].elements;\n        for (let j = 0; j < formElements.length; j++) {\n          elements.push(formElements[j]);\n        }\n      } else {\n        elements.push(form[i]);\n      }\n    }\n  } else {\n    elements.push(form);\n  }\n  \n  return elements.filter(elem => {\n    const type = elem.type;\n    const name = elem.name;\n    \n    // Must have a name\n    if (!name) return false;\n    \n    // Must not be disabled\n    if (elem.disabled) return false;\n    \n    // Must match submittable pattern\n    if (!rsubmittable.test(elem.nodeName)) return false;\n    \n    // Must not be submit/button/image/reset/file type\n    if (rsubmitterTypes.test(type)) return false;\n    \n    // Checkboxes and radios must be checked\n    if (rcheckableType.test(type) && !elem.checked) return false;\n    \n    return true;\n  });\n}\n\n/**\n * Get the value of a form element\n * @param {Element} elem\n * @returns {string|string[]}\n */\nfunction getValue(elem) {\n  const type = elem.type;\n  \n  // Select element\n  if (elem.nodeName.toLowerCase() === 'select') {\n    if (elem.multiple) {\n      const values = [];\n      const options = elem.options;\n      for (let i = 0; i < options.length; i++) {\n        if (options[i].selected) {\n          values.push(options[i].value);\n        }\n      }\n      return values;\n    }\n    return elem.value;\n  }\n  \n  // Checkbox/radio\n  if (rcheckableType.test(type)) {\n    return elem.value;\n  }\n  \n  // Normalize line endings\n  return elem.value.replace(/\\r?\\n/g, '\\r\\n');\n}\n\n/**\n * Serialize form elements to array of {name, value} objects\n * @param {jQCollection} collection\n * @returns {Array}\n */\nexport function serializeArray(collection) {\n  const result = [];\n  \n  // Get all elements to serialize\n  const elements = [];\n  for (let i = 0; i < collection.length; i++) {\n    elements.push(...getSerializableElements(collection[i]));\n  }\n  \n  // Build result array\n  elements.forEach(elem => {\n    const name = elem.name;\n    const value = getValue(elem);\n    \n    if (Array.isArray(value)) {\n      // Multiple select values\n      value.forEach(v => {\n        result.push({ name, value: v });\n      });\n    } else {\n      result.push({ name, value });\n    }\n  });\n  \n  return result;\n}\n\n/**\n * Serialize form elements to URL-encoded string\n * @param {jQCollection} collection\n * @returns {string}\n */\nexport function serialize(collection) {\n  return param(serializeArray(collection));\n}\n\nexport default {\n  serialize,\n  serializeArray\n};","/**\n * jQNext - jQuery UI Compatibility Layer\n * Widget factory and UI utilities for jQuery UI 1.11.x support\n */\n\nimport { isFunction, isPlainObject, isArray } from '../utilities/type.js';\nimport { extend, each } from '../utilities/objects.js';\nimport { setData, getDataValue, removeData } from '../core/data.js';\nimport { on, off, trigger } from '../events/core.js';\n\n/**\n * UI namespace\n */\nexport const ui = {\n  version: '1.11.4-compat',\n  \n  // Key codes used by jQuery UI\n  keyCode: {\n    BACKSPACE: 8,\n    COMMA: 188,\n    DELETE: 46,\n    DOWN: 40,\n    END: 35,\n    ENTER: 13,\n    ESCAPE: 27,\n    HOME: 36,\n    LEFT: 37,\n    PAGE_DOWN: 34,\n    PAGE_UP: 33,\n    PERIOD: 190,\n    RIGHT: 39,\n    SPACE: 32,\n    TAB: 9,\n    UP: 38\n  },\n  \n  // Safe active element access\n  safeActiveElement: function(document) {\n    try {\n      return document.activeElement;\n    } catch (error) {\n      return document.body;\n    }\n  },\n  \n  // Safe blur\n  safeBlur: function(element) {\n    if (element && element.nodeName.toLowerCase() !== 'body') {\n      try {\n        element.blur();\n      } catch (error) {\n        // Ignore errors\n      }\n    }\n  }\n};\n\n/**\n * Widget factory storage\n */\nconst widgetUuid = 0;\nconst widgetSlice = Array.prototype.slice;\n\n/**\n * Base Widget class\n */\nexport class Widget {\n  constructor() {\n    this.widgetName = 'widget';\n    this.widgetEventPrefix = '';\n    this.defaultElement = '<div>';\n    this.options = {\n      disabled: false,\n      create: null\n    };\n    this.element = null;\n    this.uuid = widgetUuid;\n    this.eventNamespace = '';\n    this.bindings = null;\n    this.hoverable = null;\n    this.focusable = null;\n  }\n  \n  _createWidget(options, element) {\n    this.element = element instanceof Element ? element : element[0];\n    this.uuid = widgetUuid++;\n    this.eventNamespace = '.' + this.widgetName + this.uuid;\n    this.bindings = [];\n    this.hoverable = [];\n    this.focusable = [];\n    \n    // Merge options\n    this.options = extend(true, {},\n      this.options,\n      this._getCreateOptions(),\n      options\n    );\n    \n    // Store instance\n    setData(this.element, 'ui-' + this.widgetName, this);\n    \n    this._create();\n    this._trigger('create', null, this._getCreateEventData());\n    this._init();\n  }\n  \n  _getCreateOptions() {\n    return {};\n  }\n  \n  _getCreateEventData() {\n    return {};\n  }\n  \n  _create() {}\n  \n  _init() {}\n  \n  destroy() {\n    this._destroy();\n    \n    // Remove data\n    removeData(this.element, 'ui-' + this.widgetName);\n    \n    // Unbind events\n    this.bindings.forEach(binding => {\n      off({ 0: binding, length: 1 }, this.eventNamespace);\n    });\n    \n    // Remove hover/focus classes\n    this.hoverable.forEach(elem => {\n      elem.classList.remove('ui-state-hover');\n    });\n    this.focusable.forEach(elem => {\n      elem.classList.remove('ui-state-focus');\n    });\n  }\n  \n  _destroy() {}\n  \n  widget() {\n    return this.element;\n  }\n  \n  option(key, value) {\n    if (arguments.length === 0) {\n      return extend({}, this.options);\n    }\n    \n    if (typeof key === 'string') {\n      const parts = key.split('.');\n      let curOption = this.options;\n      \n      // Getter\n      if (value === undefined) {\n        for (let i = 0; i < parts.length; i++) {\n          curOption = curOption[parts[i]];\n          if (curOption === undefined) {\n            return undefined;\n          }\n        }\n        return curOption;\n      }\n      \n      // Setter\n      const lastPart = parts.pop();\n      for (let i = 0; i < parts.length; i++) {\n        curOption = curOption[parts[i]] = curOption[parts[i]] || {};\n      }\n      curOption[lastPart] = value;\n      this._setOption(lastPart, value);\n    } else {\n      // Object of options\n      for (const k in key) {\n        this._setOption(k, key[k]);\n      }\n    }\n    \n    return this;\n  }\n  \n  _setOption(key, value) {\n    this.options[key] = value;\n    \n    if (key === 'disabled') {\n      this._toggleClass(this.widget(), null, 'ui-state-disabled', !!value);\n      if (value) {\n        this._removeClass(this.hoverable, null, 'ui-state-hover');\n        this._removeClass(this.focusable, null, 'ui-state-focus');\n      }\n    }\n    \n    return this;\n  }\n  \n  _setOptions(options) {\n    for (const key in options) {\n      this._setOption(key, options[key]);\n    }\n    return this;\n  }\n  \n  enable() {\n    return this._setOptions({ disabled: false });\n  }\n  \n  disable() {\n    return this._setOptions({ disabled: true });\n  }\n  \n  _on(suppressDisabledCheck, element, handlers) {\n    // Handle argument shifting\n    if (typeof suppressDisabledCheck !== 'boolean') {\n      handlers = element;\n      element = suppressDisabledCheck;\n      suppressDisabledCheck = false;\n    }\n    \n    if (!handlers) {\n      handlers = element;\n      element = this.element;\n    } else {\n      element = element instanceof Element ? element : element[0] || element;\n    }\n    \n    const instance = this;\n    \n    for (const event in handlers) {\n      const handler = handlers[event];\n      \n      // Ensure event is a string\n      const eventStr = String(event || '');\n      \n      // Add namespace\n      const eventParts = eventStr.split(' ');\n      const eventType = eventParts[0] + this.eventNamespace;\n      const selector = eventParts.slice(1).join(' ') || undefined;\n      \n      const wrappedHandler = function(evt) {\n        if (!suppressDisabledCheck && \n            (instance.options.disabled === true || \n             evt.currentTarget.classList.contains('ui-state-disabled'))) {\n          return;\n        }\n        return (typeof handler === 'string' ? instance[handler] : handler)\n          .apply(instance, arguments);\n      };\n      \n      on({ 0: element, length: 1 }, eventType, selector, null, wrappedHandler);\n      this.bindings.push(element);\n    }\n  }\n  \n  _off(element, eventName) {\n    const elem = element instanceof Element ? element : element[0] || element;\n    eventName = (eventName || '').split(' ')\n      .map(e => e + this.eventNamespace)\n      .join(' ');\n    off({ 0: elem, length: 1 }, eventName);\n  }\n  \n  _trigger(type, event, data) {\n    const prop = this.options[type];\n    data = data || {};\n    \n    // Create jQuery-like event\n    const customEvent = new CustomEvent(this.widgetEventPrefix + type, {\n      bubbles: true,\n      cancelable: true,\n      detail: data\n    });\n    \n    // Add original event properties\n    if (event) {\n      customEvent.originalEvent = event;\n    }\n    \n    this.element.dispatchEvent(customEvent);\n    \n    // Call callback\n    if (isFunction(prop)) {\n      return prop.call(this.element, customEvent, data) !== false && \n             !customEvent.defaultPrevented;\n    }\n    \n    return !customEvent.defaultPrevented;\n  }\n  \n  _delay(handler, delay) {\n    const instance = this;\n    return setTimeout(function() {\n      return (typeof handler === 'string' ? instance[handler] : handler)\n        .apply(instance, arguments);\n    }, delay || 0);\n  }\n  \n  _hoverable(element) {\n    const elem = element instanceof Element ? element : element[0];\n    this.hoverable.push(elem);\n    \n    this._on(elem, {\n      mouseenter: function(event) {\n        this._addClass(event.currentTarget, null, 'ui-state-hover');\n      },\n      mouseleave: function(event) {\n        this._removeClass(event.currentTarget, null, 'ui-state-hover');\n      }\n    });\n  }\n  \n  _focusable(element) {\n    const elem = element instanceof Element ? element : element[0];\n    this.focusable.push(elem);\n    \n    this._on(elem, {\n      focusin: function(event) {\n        this._addClass(event.currentTarget, null, 'ui-state-focus');\n      },\n      focusout: function(event) {\n        this._removeClass(event.currentTarget, null, 'ui-state-focus');\n      }\n    });\n  }\n  \n  _addClass(element, keys, extra) {\n    const elem = element instanceof Element ? element : \n                 (element && element[0]) || this.element;\n    const classes = [];\n    \n    if (keys) {\n      keys.split(' ').forEach(key => {\n        if (this.options.classes && this.options.classes[key]) {\n          classes.push(this.options.classes[key]);\n        }\n        classes.push(key);\n      });\n    }\n    \n    if (extra) {\n      classes.push(...extra.split(' '));\n    }\n    \n    elem.classList.add(...classes.filter(Boolean));\n  }\n  \n  _removeClass(element, keys, extra) {\n    const elem = element instanceof Element ? element :\n                 (element && element[0]) || this.element;\n    const classes = [];\n    \n    if (keys) {\n      keys.split(' ').forEach(key => {\n        if (this.options.classes && this.options.classes[key]) {\n          classes.push(this.options.classes[key]);\n        }\n        classes.push(key);\n      });\n    }\n    \n    if (extra) {\n      classes.push(...extra.split(' '));\n    }\n    \n    elem.classList.remove(...classes.filter(Boolean));\n  }\n  \n  _toggleClass(element, keys, extra, add) {\n    if (typeof add === 'boolean') {\n      if (add) {\n        this._addClass(element, keys, extra);\n      } else {\n        this._removeClass(element, keys, extra);\n      }\n    } else {\n      const elem = element instanceof Element ? element :\n                   (element && element[0]) || this.element;\n      \n      const classes = [];\n      if (keys) classes.push(...keys.split(' '));\n      if (extra) classes.push(...extra.split(' '));\n      \n      classes.filter(Boolean).forEach(cls => elem.classList.toggle(cls));\n    }\n  }\n  \n  _scrollParent(includeHidden) {\n    const position = getComputedStyle(this.element).position;\n    const excludeStaticParent = position === 'absolute';\n    const overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/;\n    \n    let scrollParent = this.element.parentElement;\n    \n    while (scrollParent) {\n      const style = getComputedStyle(scrollParent);\n      \n      if (excludeStaticParent && style.position === 'static') {\n        scrollParent = scrollParent.parentElement;\n        continue;\n      }\n      \n      if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) {\n        return scrollParent;\n      }\n      \n      scrollParent = scrollParent.parentElement;\n    }\n    \n    return document.scrollingElement || document.documentElement;\n  }\n}\n\n/**\n * Widget factory function\n * Creates a new widget constructor and registers it as a jQuery plugin\n */\nexport function widget(name, base, prototype) {\n  const fullName = name;\n  const namespace = name.split('.')[0];\n  const widgetName = name.split('.')[1] || name;\n  \n  // Handle base argument\n  if (!prototype) {\n    prototype = base;\n    base = Widget;\n  }\n  \n  // Create widget constructor\n  const WidgetConstructor = function(options, element) {\n    // Allow instantiation without 'new'\n    if (!(this instanceof WidgetConstructor)) {\n      return new WidgetConstructor(options, element);\n    }\n    \n    // Call parent constructor\n    if (base !== Widget) {\n      base.call(this);\n    } else {\n      Widget.call(this);\n    }\n    \n    // Merge prototype\n    for (const key in prototype) {\n      if (key !== '_create' && key !== '_init' && key !== 'options') {\n        this[key] = prototype[key];\n      }\n    }\n    \n    // Set widget name\n    this.widgetName = widgetName;\n    this.widgetEventPrefix = prototype.widgetEventPrefix || widgetName;\n    \n    // Merge options\n    if (prototype.options) {\n      this.options = extend(true, {}, this.options, prototype.options);\n    }\n    \n    // Override _create and _init if provided\n    if (prototype._create) {\n      const parentCreate = this._create;\n      this._create = function() {\n        if (parentCreate) parentCreate.call(this);\n        prototype._create.call(this);\n      };\n    }\n    \n    if (prototype._init) {\n      const parentInit = this._init;\n      this._init = function() {\n        if (parentInit) parentInit.call(this);\n        prototype._init.call(this);\n      };\n    }\n    \n    if (prototype._destroy) {\n      const parentDestroy = this._destroy;\n      this._destroy = function() {\n        prototype._destroy.call(this);\n        if (parentDestroy) parentDestroy.call(this);\n      };\n    }\n    \n    // Initialize if element provided\n    if (arguments.length) {\n      this._createWidget(options, element);\n    }\n  };\n  \n  // Inherit from base\n  WidgetConstructor.prototype = Object.create(base.prototype);\n  WidgetConstructor.prototype.constructor = WidgetConstructor;\n  \n  // Store constructor\n  if (!ui[namespace]) {\n    ui[namespace] = {};\n  }\n  ui[widgetName] = WidgetConstructor;\n  \n  return WidgetConstructor;\n}\n\n/**\n * Register widget as jQuery plugin\n * @param {Function} jQNext - The jQNext function\n * @param {string} name - Widget name\n * @param {Function} WidgetConstructor - Widget constructor\n */\nexport function registerPlugin(jQNext, name, WidgetConstructor) {\n  const widgetName = name.split('.').pop();\n  \n  jQNext.fn[widgetName] = function(options, ...args) {\n    const isMethodCall = typeof options === 'string';\n    \n    if (isMethodCall) {\n      const methodName = options;\n      let returnValue;\n      \n      this.each(function() {\n        const instance = getDataValue(this, 'ui-' + widgetName);\n        \n        if (!instance) {\n          console.error(`Cannot call methods on ${widgetName} prior to initialization`);\n          return;\n        }\n        \n        if (!isFunction(instance[methodName]) || methodName.charAt(0) === '_') {\n          console.error(`No such method '${methodName}' for ${widgetName}`);\n          return;\n        }\n        \n        const result = instance[methodName](...args);\n        \n        if (result !== instance && result !== undefined) {\n          returnValue = result;\n          return false; // Break the loop\n        }\n      });\n      \n      return returnValue !== undefined ? returnValue : this;\n    }\n    \n    // Initialize widget\n    return this.each(function() {\n      const existing = getDataValue(this, 'ui-' + widgetName);\n      \n      if (existing) {\n        // Update options\n        existing._setOptions(options || {});\n        if (existing._init) {\n          existing._init();\n        }\n      } else {\n        // Create new instance\n        new WidgetConstructor(options, this);\n      }\n    });\n  };\n}\n\n/**\n * Plugin for adding UI support\n */\nexport const plugin = {\n  add: function(module, option, set) {\n    // Plugin extension point\n  },\n  \n  call: function(instance, name, args, allowDisconnected) {\n    const set = instance.plugins[name];\n    \n    if (!set) return;\n    \n    if (!allowDisconnected && \n        (!instance.element || !instance.element.parentNode || \n         instance.element.parentNode.nodeType === 11)) {\n      return;\n    }\n    \n    set.forEach(([proto, fn]) => {\n      if (instance.options[proto]) {\n        fn.apply(instance.element, args);\n      }\n    });\n  }\n};\n\nexport default {\n  ui,\n  widget,\n  Widget,\n  registerPlugin,\n  plugin\n};","/**\n * jQNext - Modern jQuery 2.x Compatible Library\n * \n * A drop-in replacement for jQuery 2.2.5 using modern JavaScript internals.\n * Compatible with jQuery UI 1.11.x\n * \n * @version 1.0.0\n * @author Ready Intelligence\n * @license MIT\n */\n\n// Core\nimport { jQCollection, setJQNext } from './core/collection.js';\nimport { expando, setData, getDataValue, removeData, hasData, cleanData } from './core/data.js';\n\n// Utilities\nimport {\n  type, isArray, isFunction, isWindow, isDocument, isElement,\n  isNumeric, isPlainObject, isEmptyObject, isArrayLike, isString\n} from './utilities/type.js';\nimport {\n  extend, each, map, grep, inArray, merge, makeArray,\n  proxy, noop, now, uniqueSort, contains, globalEval\n} from './utilities/objects.js';\nimport {\n  camelCase, trim, parseHTML, parseJSON, parseXML, param, error\n} from './utilities/strings.js';\nimport { Deferred, Callbacks, when } from './utilities/deferred.js';\n\n// Selectors\nimport { \n  querySelectorAllWithPseudo, matchesWithPseudo, pseudoSelectors \n} from './selectors/pseudo.js';\n\n// DOM\nimport * as traversal from './dom/traversal.js';\nimport * as manipulation from './dom/manipulation.js';\nimport * as attributes from './dom/attributes.js';\nimport * as cssModule from './dom/css.js';\nimport { cssHooks } from './dom/css.js';\n\n// Events\nimport { on, off, one, trigger, triggerHandler, special, parseEventTypes } from './events/core.js';\nimport * as eventShortcuts from './events/shortcuts.js';\n\n// Effects\nimport {\n  animate, stop, finish, delay, queue, dequeue, clearQueue, promise, fx, speeds\n} from './effects/core.js';\nimport {\n  show, hide, toggle, slideDown, slideUp, slideToggle,\n  fadeIn, fadeOut, fadeTo, fadeToggle\n} from './effects/showhide.js';\n\n// AJAX\nimport {\n  ajax, ajaxSetup, ajaxPrefilter, ajaxTransport, ajaxSettings,\n  get, post, getJSON, getScript, load\n} from './ajax/core.js';\nimport { serialize, serializeArray } from './ajax/serialize.js';\n\n// Compatibility\nimport { ui, widget, Widget, registerPlugin, plugin } from './compat/jquery-ui.js';\n\n/**\n * The main jQNext function\n * @param {string|Element|Function|NodeList|Array} selector\n * @param {Element|Document} [context]\n * @returns {jQCollection}\n */\nfunction jQNext(selector, context) {\n  const collection = new jQCollection();\n  collection.init(selector, context);\n  return collection;\n}\n\n// Set reference in collection module\nsetJQNext(jQNext);\n\n// Version\njQNext.fn = jQNext.prototype = jQCollection.prototype;\njQNext.fn.jquery = '2.2.5-jqnext';\njQNext.fn.constructor = jQNext;\n\n// ==================================================\n// STATIC METHODS\n// ==================================================\n\n// Utilities\njQNext.extend = extend;\njQNext.each = each;\njQNext.map = map;\njQNext.grep = grep;\njQNext.inArray = inArray;\njQNext.merge = merge;\njQNext.makeArray = makeArray;\njQNext.proxy = proxy;\njQNext.noop = noop;\njQNext.now = now;\njQNext.uniqueSort = uniqueSort;\njQNext.unique = uniqueSort; // Alias\njQNext.contains = contains;\njQNext.globalEval = globalEval;\n\n// Type checking\njQNext.type = type;\njQNext.isArray = isArray;\njQNext.isFunction = isFunction;\njQNext.isWindow = isWindow;\njQNext.isNumeric = isNumeric;\njQNext.isPlainObject = isPlainObject;\njQNext.isEmptyObject = isEmptyObject;\n\n// Check if a document is an XML document\njQNext.isXMLDoc = function(elem) {\n  // documentElement is verified for cases where it doesn't yet exist\n  const namespace = elem && (elem.ownerDocument || elem).documentElement;\n  return namespace ? namespace.nodeName !== 'HTML' : false;\n};\n\n// Check if an element has a specific node name (case-insensitive)\njQNext.nodeName = function(elem, name) {\n  return elem && elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n};\n\n// String utilities\njQNext.camelCase = camelCase;\njQNext.trim = trim;\njQNext.parseHTML = parseHTML;\njQNext.parseJSON = parseJSON;\njQNext.parseXML = parseXML;\njQNext.param = param;\njQNext.error = error;\n\n// Deferred\njQNext.Deferred = Deferred;\njQNext.Callbacks = Callbacks;\njQNext.when = when;\n\n// Data\njQNext.expando = expando;\njQNext.data = function(elem, name, value) {\n  // Getter: $.data(elem, key)\n  if (value === undefined && typeof name !== 'object') {\n    return getDataValue(elem, name);\n  }\n  // Setter: $.data(elem, key, value) - returns value\n  // Or: $.data(elem, obj) - returns obj\n  setData(elem, name, value);\n  return typeof name === 'object' ? name : value;\n};\njQNext.removeData = function(elem, name) {\n  removeData(elem, name);\n  return undefined;\n};\njQNext.hasData = hasData;\njQNext._data = function(elem, name, value) {\n  // Internal data (for jQuery internals/plugins)\n  // Getter\n  if (value === undefined && typeof name !== 'object') {\n    return getDataValue(elem, '_' + name);\n  }\n  // Setter - returns value/obj\n  setData(elem, '_' + name, value);\n  return typeof name === 'object' ? name : value;\n};\njQNext._removeData = function(elem, name) {\n  removeData(elem, '_' + name);\n  return undefined;\n};\njQNext.cleanData = cleanData;\n\n// AJAX\njQNext.ajax = ajax;\njQNext.ajaxSetup = ajaxSetup;\njQNext.ajaxPrefilter = ajaxPrefilter;\njQNext.ajaxTransport = ajaxTransport;\njQNext.ajaxSettings = ajaxSettings;\njQNext.get = get;\njQNext.post = post;\njQNext.getJSON = getJSON;\njQNext.getScript = getScript;\n\n// Animation\njQNext.fx = fx;\njQNext.fx.speeds = speeds;\njQNext.fx.step = {}; // For jQuery UI color animation hooks\njQNext.easing = {\n  linear: function(p) { return p; },\n  swing: function(p) { return 0.5 - Math.cos(p * Math.PI) / 2; }\n};\njQNext.Animation = {}; // Compatibility stub\njQNext.speed = function(speed, easing, fn) {\n  const opt = speed && typeof speed === 'object' ? extend({}, speed) : {\n    complete: fn || (!fn && easing) || (isFunction(speed) && speed),\n    duration: speed,\n    easing: fn && easing || easing && !isFunction(easing) && easing\n  };\n  opt.duration = typeof opt.duration === 'number' ? opt.duration :\n    opt.duration in speeds ? speeds[opt.duration] : speeds._default;\n  opt.old = opt.complete;\n  opt.complete = function() {\n    if (isFunction(opt.old)) {\n      opt.old.call(this);\n    }\n  };\n  return opt;\n};\n\n// Queue utilities (static)\njQNext.queue = function(elem, type, data) {\n  return queue({ 0: elem, length: 1 }, type, data);\n};\njQNext.dequeue = function(elem, type) {\n  return dequeue({ 0: elem, length: 1 }, type);\n};\n\n// Event constructor - jQuery UI expects $.Event()\njQNext.Event = function(type, props) {\n  // Allow instantiation without 'new'\n  if (!(this instanceof jQNext.Event)) {\n    return new jQNext.Event(type, props);\n  }\n  \n  // Handle event object passed as type\n  if (type && type.type) {\n    this.originalEvent = type;\n    this.type = type.type;\n    this.isDefaultPrevented = type.defaultPrevented ||\n      (type.defaultPrevented === undefined && type.returnValue === false)\n        ? returnTrue : returnFalse;\n    this.target = type.target;\n    this.currentTarget = type.currentTarget;\n    this.relatedTarget = type.relatedTarget;\n    this.timeStamp = type.timeStamp || Date.now();\n  } else {\n    this.type = type;\n    this.timeStamp = Date.now();\n  }\n  \n  // Copy properties\n  if (props) {\n    extend(this, props);\n  }\n  \n  // State tracking\n  this._isDefaultPrevented = false;\n  this._isPropagationStopped = false;\n  this._isImmediatePropagationStopped = false;\n};\n\njQNext.Event.prototype = {\n  constructor: jQNext.Event,\n  isDefaultPrevented: function() { return this._isDefaultPrevented; },\n  isPropagationStopped: function() { return this._isPropagationStopped; },\n  isImmediatePropagationStopped: function() { return this._isImmediatePropagationStopped; },\n  preventDefault: function() {\n    this._isDefaultPrevented = true;\n    if (this.originalEvent) {\n      this.originalEvent.preventDefault();\n    }\n  },\n  stopPropagation: function() {\n    this._isPropagationStopped = true;\n    if (this.originalEvent) {\n      this.originalEvent.stopPropagation();\n    }\n  },\n  stopImmediatePropagation: function() {\n    this._isImmediatePropagationStopped = true;\n    this._isPropagationStopped = true;\n    if (this.originalEvent) {\n      this.originalEvent.stopImmediatePropagation();\n    }\n  }\n};\n\nfunction returnTrue() { return true; }\nfunction returnFalse() { return false; }\n\n// Event special\njQNext.event = {\n  special,\n  // Event properties that should be copied - excluded 'type' (handled separately per tests)\n  props: ('altKey bubbles cancelable ctrlKey currentTarget detail eventPhase ' +\n    'metaKey relatedTarget shiftKey target timeStamp view which').split(' '),\n  fixHooks: {},\n  fix: function(event) {\n    if (event instanceof jQNext.Event) {\n      return event;\n    }\n    return new jQNext.Event(event);\n  },\n  simulate: function(type, elem, event) {\n    const e = extend(new jQNext.Event(type), event, {\n      type,\n      isSimulated: true\n    });\n    if (elem.dispatchEvent) {\n      elem.dispatchEvent(new CustomEvent(type, { detail: e, bubbles: true, cancelable: true }));\n    }\n  }\n};\n\n// Expression/Sizzle compatibility\njQNext.expr = {\n  ':': pseudoSelectors,\n  pseudos: pseudoSelectors,\n  match: {},\n  filter: {},\n  // Filter functions used by jquery.tabbable.js and other plugins\n  filters: {\n    visible: function(elem) {\n      return !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);\n    },\n    hidden: function(elem) {\n      return !jQNext.expr.filters.visible(elem);\n    }\n  },\n  createPseudo: function(fn) { return fn; }\n};\njQNext.find = function(selector, context, results) {\n  results = results || [];\n  const found = querySelectorAllWithPseudo(selector, context);\n  merge(results, found);\n  return results;\n};\n// Sizzle/selector engine compatibility - compile function for pre-compiling selectors\njQNext.find.compile = function(selector) {\n  // Return a function that performs the selection (simplified Sizzle compatibility)\n  return function(context, results) {\n    return jQNext.find(selector, context, results);\n  };\n};\n// matchesSelector for element matching\njQNext.find.matchesSelector = function(elem, selector) {\n  return matchesWithPseudo(elem, selector);\n};\njQNext.find.matches = function(selector, elements) {\n  return elements.filter(elem => matchesWithPseudo(elem, selector));\n};\n\n// Static CSS method (for plugins like jquery.tabbable.js)\njQNext.css = function(elem, name, extra, styles) {\n  return cssModule.css({ 0: elem, length: 1 }, name);\n};\n\n// Static attr method (for plugins like jquery.tabbable.js)\njQNext.attr = function(elem, name, value) {\n  // Getter\n  if (value === undefined) {\n    if (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.getAttribute) {\n      return undefined;\n    }\n    const val = elem.getAttribute(name);\n    return val === null ? undefined : val;\n  }\n  // Setter\n  elem.setAttribute(name, value);\n  return value;\n};\n\n// CSS Hooks (for jQuery UI color animation etc.)\njQNext.cssHooks = cssHooks;\njQNext.cssNumber = {\n  animationIterationCount: true,\n  columnCount: true,\n  fillOpacity: true,\n  flexGrow: true,\n  flexShrink: true,\n  fontWeight: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  widows: true,\n  zIndex: true,\n  zoom: true\n};\n\n// Support (feature detection)\njQNext.support = {\n  ajax: true,\n  cors: true,\n  boxSizing: true,\n  changeBubbles: true,\n  focusin: true,\n  optSelected: true,\n  transition: true,\n  // createHTMLDocument test - check if we can create an HTML document\n  createHTMLDocument: (function() {\n    try {\n      return !!document.implementation.createHTMLDocument('');\n    } catch (e) {\n      return false;\n    }\n  })()\n};\n\n// jQuery UI\njQNext.ui = ui;\njQNext.widget = function(name, base, prototype) {\n  const Constructor = widget(name, base, prototype);\n  registerPlugin(jQNext, name, Constructor);\n  return Constructor;\n};\njQNext.Widget = Widget;\n\n// noConflict\nconst _jQuery = typeof window !== 'undefined' ? window.jQuery : undefined;\nconst _$ = typeof window !== 'undefined' ? window.$ : undefined;\n\njQNext.noConflict = function(deep) {\n  if (typeof window !== 'undefined') {\n    if (window.$ === jQNext) {\n      window.$ = _$;\n    }\n    if (deep && window.jQuery === jQNext) {\n      window.jQuery = _jQuery;\n    }\n  }\n  return jQNext;\n};\n\n// Ready state\njQNext.isReady = false;\njQNext.readyWait = 1;\njQNext.ready = Deferred();\njQNext.holdReady = function(hold) {\n  if (hold) {\n    jQNext.readyWait++;\n  } else {\n    // Trigger ready if all holds released\n    if (--jQNext.readyWait === 0) {\n      jQNext.isReady = true;\n      jQNext.ready.resolveWith(document, [jQNext]);\n    }\n  }\n};\n\nif (document.readyState === 'complete' ||\n    (document.readyState !== 'loading' && !document.documentElement.doScroll)) {\n  setTimeout(() => {\n    jQNext.isReady = true;\n    jQNext.ready.resolveWith(document, [jQNext]);\n  });\n} else {\n  document.addEventListener('DOMContentLoaded', function() {\n    jQNext.isReady = true;\n    jQNext.ready.resolveWith(document, [jQNext]);\n  });\n}\n\n// ==================================================\n// PROTOTYPE METHODS\n// ==================================================\n\n// Extend the prototype\nextend(jQNext.fn, {\n  // Core\n  jquery: '2.2.5-jqnext',\n  length: 0,\n  \n  // Convert to array\n  toArray: function() {\n    return Array.prototype.slice.call(this);\n  },\n  \n  // Get element(s)\n  get: function(index) {\n    return index === undefined \n      ? this.toArray() \n      : (index < 0 ? this[this.length + index] : this[index]);\n  },\n  \n  // Size (deprecated but needed for compat)\n  size: function() {\n    return this.length;\n  },\n  \n  // Traversal\n  parent: function(selector) {\n    return this.pushStack(traversal.parent(this, selector));\n  },\n  parents: function(selector) {\n    return this.pushStack(traversal.parents(this, selector));\n  },\n  parentsUntil: function(until, filter) {\n    return this.pushStack(traversal.parentsUntil(this, until, filter));\n  },\n  closest: function(selector, context) {\n    return this.pushStack(traversal.closest(this, selector, context));\n  },\n  children: function(selector) {\n    return this.pushStack(traversal.children(this, selector));\n  },\n  siblings: function(selector) {\n    return this.pushStack(traversal.siblings(this, selector));\n  },\n  next: function(selector) {\n    return this.pushStack(traversal.next(this, selector));\n  },\n  nextAll: function(selector) {\n    return this.pushStack(traversal.nextAll(this, selector));\n  },\n  nextUntil: function(until, filter) {\n    return this.pushStack(traversal.nextUntil(this, until, filter));\n  },\n  prev: function(selector) {\n    return this.pushStack(traversal.prev(this, selector));\n  },\n  prevAll: function(selector) {\n    return this.pushStack(traversal.prevAll(this, selector));\n  },\n  prevUntil: function(until, filter) {\n    return this.pushStack(traversal.prevUntil(this, until, filter));\n  },\n  offsetParent: function() {\n    return this.pushStack(traversal.offsetParent(this));\n  },\n  \n  // Manipulation\n  html: function(value) {\n    return manipulation.html(this, value);\n  },\n  text: function(value) {\n    return manipulation.text(this, value);\n  },\n  append: function(...content) {\n    return manipulation.append(this, ...content);\n  },\n  prepend: function(...content) {\n    return manipulation.prepend(this, ...content);\n  },\n  before: function(...content) {\n    return manipulation.before(this, ...content);\n  },\n  after: function(...content) {\n    return manipulation.after(this, ...content);\n  },\n  appendTo: function(target) {\n    return manipulation.appendTo(this, target, jQNext);\n  },\n  prependTo: function(target) {\n    return manipulation.prependTo(this, target, jQNext);\n  },\n  insertBefore: function(target) {\n    return manipulation.insertBefore(this, target, jQNext);\n  },\n  insertAfter: function(target) {\n    return manipulation.insertAfter(this, target, jQNext);\n  },\n  wrap: function(wrapper) {\n    return manipulation.wrap(this, wrapper, jQNext);\n  },\n  wrapAll: function(wrapper) {\n    return manipulation.wrapAll(this, wrapper, jQNext);\n  },\n  wrapInner: function(wrapper) {\n    return manipulation.wrapInner(this, wrapper, jQNext);\n  },\n  unwrap: function(selector) {\n    return manipulation.unwrap(this, selector);\n  },\n  empty: function() {\n    return manipulation.empty(this);\n  },\n  remove: function(selector) {\n    return manipulation.remove(this, selector);\n  },\n  detach: function(selector) {\n    return manipulation.detach(this, selector);\n  },\n  replaceWith: function(content) {\n    return manipulation.replaceWith(this, content, jQNext);\n  },\n  replaceAll: function(target) {\n    return manipulation.replaceAll(this, target, jQNext);\n  },\n  clone: function(withDataAndEvents, deepWithDataAndEvents) {\n    return manipulation.clone(this, withDataAndEvents, deepWithDataAndEvents, jQNext);\n  },\n  \n  // Attributes\n  attr: function(name, value) {\n    return attributes.attr(this, name, value);\n  },\n  removeAttr: function(name) {\n    return attributes.removeAttr(this, name);\n  },\n  prop: function(name, value) {\n    return attributes.prop(this, name, value);\n  },\n  removeProp: function(name) {\n    return attributes.removeProp(this, name);\n  },\n  val: function(value) {\n    return attributes.val(this, value);\n  },\n  addClass: function(className) {\n    return attributes.addClass(this, className);\n  },\n  removeClass: function(className) {\n    return attributes.removeClass(this, className);\n  },\n  toggleClass: function(className, state) {\n    return attributes.toggleClass(this, className, state);\n  },\n  hasClass: function(className) {\n    return attributes.hasClass(this, className);\n  },\n  \n  // CSS\n  css: function(name, value) {\n    return cssModule.css(this, name, value);\n  },\n  width: function(value) {\n    return cssModule.width(this, value);\n  },\n  height: function(value) {\n    return cssModule.height(this, value);\n  },\n  innerWidth: function(value) {\n    return cssModule.innerWidth(this, value);\n  },\n  innerHeight: function(value) {\n    return cssModule.innerHeight(this, value);\n  },\n  outerWidth: function(includeMargin) {\n    return cssModule.outerWidth(this, includeMargin);\n  },\n  outerHeight: function(includeMargin) {\n    return cssModule.outerHeight(this, includeMargin);\n  },\n  offset: function(coordinates) {\n    return cssModule.offset(this, coordinates);\n  },\n  position: function() {\n    return cssModule.position(this);\n  },\n  scrollTop: function(value) {\n    return cssModule.scrollTop(this, value);\n  },\n  scrollLeft: function(value) {\n    return cssModule.scrollLeft(this, value);\n  },\n  \n  // Events\n  on: function(types, selector, data, fn) {\n    return on(this, types, selector, data, fn);\n  },\n  off: function(types, selector, fn) {\n    return off(this, types, selector, fn);\n  },\n  one: function(types, selector, data, fn) {\n    return one(this, types, selector, data, fn);\n  },\n  trigger: function(event, data) {\n    return trigger(this, event, data);\n  },\n  triggerHandler: function(event, data) {\n    return triggerHandler(this, event, data);\n  },\n  \n  // Event shortcuts\n  blur: eventShortcuts.blur,\n  focus: eventShortcuts.focus,\n  focusin: eventShortcuts.focusin,\n  focusout: eventShortcuts.focusout,\n  load: eventShortcuts.load,\n  resize: eventShortcuts.resize,\n  scroll: eventShortcuts.scroll,\n  unload: eventShortcuts.unload,\n  click: eventShortcuts.click,\n  dblclick: eventShortcuts.dblclick,\n  mousedown: eventShortcuts.mousedown,\n  mouseup: eventShortcuts.mouseup,\n  mousemove: eventShortcuts.mousemove,\n  mouseover: eventShortcuts.mouseover,\n  mouseout: eventShortcuts.mouseout,\n  mouseenter: eventShortcuts.mouseenter,\n  mouseleave: eventShortcuts.mouseleave,\n  change: eventShortcuts.change,\n  select: eventShortcuts.select,\n  submit: eventShortcuts.submit,\n  keydown: eventShortcuts.keydown,\n  keypress: eventShortcuts.keypress,\n  keyup: eventShortcuts.keyup,\n  error: eventShortcuts.error,\n  contextmenu: eventShortcuts.contextmenu,\n  hover: eventShortcuts.hover,\n  bind: eventShortcuts.bind,\n  unbind: eventShortcuts.unbind,\n  delegate: eventShortcuts.delegate,\n  undelegate: eventShortcuts.undelegate,\n  \n  // Effects - show/hide\n  show: function(duration, easing, callback) {\n    return show(this, duration, easing, callback);\n  },\n  hide: function(duration, easing, callback) {\n    return hide(this, duration, easing, callback);\n  },\n  toggle: function(state, easing, callback) {\n    return toggle(this, state, easing, callback);\n  },\n  \n  // Effects - slide\n  slideDown: function(duration, easing, callback) {\n    return slideDown(this, duration, easing, callback);\n  },\n  slideUp: function(duration, easing, callback) {\n    return slideUp(this, duration, easing, callback);\n  },\n  slideToggle: function(duration, easing, callback) {\n    return slideToggle(this, duration, easing, callback);\n  },\n  \n  // Effects - fade\n  fadeIn: function(duration, easing, callback) {\n    return fadeIn(this, duration, easing, callback);\n  },\n  fadeOut: function(duration, easing, callback) {\n    return fadeOut(this, duration, easing, callback);\n  },\n  fadeTo: function(duration, opacity, callback) {\n    return fadeTo(this, duration, opacity, callback);\n  },\n  fadeToggle: function(duration, easing, callback) {\n    return fadeToggle(this, duration, easing, callback);\n  },\n  \n  // Effects - animation\n  animate: function(properties, duration, easing, callback) {\n    return animate(this, properties, duration, easing, callback);\n  },\n  stop: function(clearQueue, jumpToEnd) {\n    return stop(this, clearQueue, jumpToEnd);\n  },\n  finish: function(queue) {\n    return finish(this, queue);\n  },\n  delay: function(time, type) {\n    return delay(this, time, type);\n  },\n  queue: function(type, data) {\n    return queue(this, type, data);\n  },\n  dequeue: function(type) {\n    return dequeue(this, type);\n  },\n  clearQueue: function(type) {\n    return clearQueue(this, type);\n  },\n  promise: function(type, target) {\n    return promise(this, type, target);\n  },\n  \n  // AJAX\n  load: function(url, data, complete) {\n    return load(this, url, data, complete);\n  },\n  serialize: function() {\n    return serialize(this);\n  },\n  serializeArray: function() {\n    return serializeArray(this);\n  },\n  \n  // AJAX events\n  ajaxComplete: function(handler) {\n    return this.on('ajaxComplete', handler);\n  },\n  ajaxError: function(handler) {\n    return this.on('ajaxError', handler);\n  },\n  ajaxSend: function(handler) {\n    return this.on('ajaxSend', handler);\n  },\n  ajaxStart: function(handler) {\n    return this.on('ajaxStart', handler);\n  },\n  ajaxStop: function(handler) {\n    return this.on('ajaxStop', handler);\n  },\n  ajaxSuccess: function(handler) {\n    return this.on('ajaxSuccess', handler);\n  },\n  \n  // Ready shortcut\n  ready: function(fn) {\n    jQNext.ready.then(fn);\n    return this;\n  }\n});\n\n// Extend function for prototype\njQNext.fn.extend = function(obj) {\n  return extend(jQNext.fn, obj);\n};\n\n// Global export\nif (typeof window !== 'undefined') {\n  window.jQuery = jQNext;\n  window.$ = jQNext;\n  \n  // Preside compatibility\n  window.presideJQuery = jQNext;\n  window.jQNext = jQNext;\n}\n\nexport default jQNext;","/**\n * jQNext - DOM Traversal\n * Parent, children, sibling traversal methods\n */\n\nimport { isString, isElement } from '../utilities/type.js';\nimport { uniqueSort } from '../utilities/objects.js';\nimport { matchesWithPseudo } from '../selectors/pseudo.js';\n\n/**\n * Get the parent of each element, optionally filtered by selector\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function parent(collection, selector) {\n  const result = [];\n  const seen = new Set();\n  \n  for (let i = 0; i < collection.length; i++) {\n    const parent = collection[i].parentNode;\n    if (parent && parent.nodeType === 1 && !seen.has(parent)) {\n      seen.add(parent);\n      if (!selector || matchesWithPseudo(parent, selector)) {\n        result.push(parent);\n      }\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Get all ancestors of each element, optionally filtered\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function parents(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let parent = collection[i].parentNode;\n    while (parent && parent.nodeType === 1) {\n      if (!selector || matchesWithPseudo(parent, selector)) {\n        result.push(parent);\n      }\n      parent = parent.parentNode;\n    }\n  }\n  \n  return uniqueSort(result);\n}\n\n/**\n * Get ancestors up to (but not including) the element matched by selector\n * @param {jQCollection} collection\n * @param {string|Element} until\n * @param {string} [filter]\n * @returns {Element[]}\n */\nexport function parentsUntil(collection, until, filter) {\n  const result = [];\n  const untilElem = isString(until) ? null : until;\n  \n  for (let i = 0; i < collection.length; i++) {\n    let parent = collection[i].parentNode;\n    while (parent && parent.nodeType === 1) {\n      // Check if we've reached the until element/selector\n      if (untilElem) {\n        if (parent === untilElem) break;\n      } else if (until && matchesWithPseudo(parent, until)) {\n        break;\n      }\n      \n      if (!filter || matchesWithPseudo(parent, filter)) {\n        result.push(parent);\n      }\n      parent = parent.parentNode;\n    }\n  }\n  \n  return uniqueSort(result);\n}\n\n/**\n * Get the closest ancestor matching the selector\n * @param {jQCollection} collection\n * @param {string} selector\n * @param {Element} [context]\n * @returns {Element[]}\n */\nexport function closest(collection, selector, context) {\n  const result = [];\n  const seen = new Set();\n  \n  for (let i = 0; i < collection.length; i++) {\n    let elem = collection[i];\n    \n    while (elem && elem !== context) {\n      if (elem.nodeType === 1 && matchesWithPseudo(elem, selector)) {\n        if (!seen.has(elem)) {\n          seen.add(elem);\n          result.push(elem);\n        }\n        break;\n      }\n      elem = elem.parentNode;\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Get the children of each element, optionally filtered\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function children(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    const kids = collection[i].children;\n    for (let j = 0; j < kids.length; j++) {\n      if (!selector || matchesWithPseudo(kids[j], selector)) {\n        result.push(kids[j]);\n      }\n    }\n  }\n  \n  return collection.length > 1 ? uniqueSort(result) : result;\n}\n\n/**\n * Get all siblings of each element\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function siblings(collection, selector) {\n  const result = [];\n  const seen = new Set();\n  \n  for (let i = 0; i < collection.length; i++) {\n    const elem = collection[i];\n    const parent = elem.parentNode;\n    \n    if (parent) {\n      const kids = parent.children;\n      for (let j = 0; j < kids.length; j++) {\n        if (kids[j] !== elem && !seen.has(kids[j])) {\n          seen.add(kids[j]);\n          if (!selector || matchesWithPseudo(kids[j], selector)) {\n            result.push(kids[j]);\n          }\n        }\n      }\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Get the next sibling of each element\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function next(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].nextElementSibling;\n    if (sibling) {\n      if (!selector || matchesWithPseudo(sibling, selector)) {\n        result.push(sibling);\n      }\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Get all following siblings\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function nextAll(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].nextElementSibling;\n    while (sibling) {\n      if (!selector || matchesWithPseudo(sibling, selector)) {\n        result.push(sibling);\n      }\n      sibling = sibling.nextElementSibling;\n    }\n  }\n  \n  return collection.length > 1 ? uniqueSort(result) : result;\n}\n\n/**\n * Get all following siblings until the selector matches\n * @param {jQCollection} collection\n * @param {string|Element} until\n * @param {string} [filter]\n * @returns {Element[]}\n */\nexport function nextUntil(collection, until, filter) {\n  const result = [];\n  const untilElem = isElement(until) ? until : null;\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].nextElementSibling;\n    while (sibling) {\n      // Check if we've reached the until element/selector\n      if (untilElem) {\n        if (sibling === untilElem) break;\n      } else if (until && matchesWithPseudo(sibling, until)) {\n        break;\n      }\n      \n      if (!filter || matchesWithPseudo(sibling, filter)) {\n        result.push(sibling);\n      }\n      sibling = sibling.nextElementSibling;\n    }\n  }\n  \n  return collection.length > 1 ? uniqueSort(result) : result;\n}\n\n/**\n * Get the previous sibling of each element\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function prev(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].previousElementSibling;\n    if (sibling) {\n      if (!selector || matchesWithPseudo(sibling, selector)) {\n        result.push(sibling);\n      }\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Get all preceding siblings\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function prevAll(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].previousElementSibling;\n    while (sibling) {\n      if (!selector || matchesWithPseudo(sibling, selector)) {\n        result.push(sibling);\n      }\n      sibling = sibling.previousElementSibling;\n    }\n  }\n  \n  return collection.length > 1 ? uniqueSort(result) : result;\n}\n\n/**\n * Get all preceding siblings until the selector matches\n * @param {jQCollection} collection\n * @param {string|Element} until\n * @param {string} [filter]\n * @returns {Element[]}\n */\nexport function prevUntil(collection, until, filter) {\n  const result = [];\n  const untilElem = isElement(until) ? until : null;\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].previousElementSibling;\n    while (sibling) {\n      // Check if we've reached the until element/selector\n      if (untilElem) {\n        if (sibling === untilElem) break;\n      } else if (until && matchesWithPseudo(sibling, until)) {\n        break;\n      }\n      \n      if (!filter || matchesWithPseudo(sibling, filter)) {\n        result.push(sibling);\n      }\n      sibling = sibling.previousElementSibling;\n    }\n  }\n  \n  return collection.length > 1 ? uniqueSort(result) : result;\n}\n\n/**\n * Get the nearest positioned ancestor\n * @param {jQCollection} collection\n * @returns {Element[]}\n */\nexport function offsetParent(collection) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let offsetParent = collection[i].offsetParent || document.documentElement;\n    \n    while (offsetParent && \n           offsetParent !== document.documentElement && \n           getComputedStyle(offsetParent).position === 'static') {\n      offsetParent = offsetParent.offsetParent;\n    }\n    \n    result.push(offsetParent || document.documentElement);\n  }\n  \n  return result;\n}\n\nexport default {\n  parent,\n  parents,\n  parentsUntil,\n  closest,\n  children,\n  siblings,\n  next,\n  nextAll,\n  nextUntil,\n  prev,\n  prevAll,\n  prevUntil,\n  offsetParent\n};"],"names":["isVisible","elem","offsetWidth","offsetHeight","getClientRects","length","pseudoSelectors","index","collection","selector","baseSelector","pseudos","parsePseudos","matches","e","pseudo","filterFn","name","param","matchesSingleSelectorForNot","parseInt","text","textContent","indexOf","firstChild","querySelector","test","nodeName","type","toLowerCase","disabled","checked","selected","ownerDocument","activeElement","hasFocus","documentElement","hash","window","location","id","slice","getAnimations","parentNode","firstElementChild","lastElementChild","parent","key","undefined","dataset","Object","keys","lang","closest","startsWith","pseudoRegex","isJQueryPseudo","match","lastIndex","exec","fullMatch","beforeMatch","substring","push","replace","charBefore","trim","filterByPseudos","elements","result","filter","arr","querySelectorAllWithPseudo","context","document","querySelectorAll","selectors","split","map","s","results","Set","forEach","sel","add","Array","from","actualSelector","tempId","Math","random","toString","substr","removeAttribute","console","warn","matchesWithPseudo","coll","idx","Boolean","some","matchesSingleSelector","dataCache","WeakMap","expando","Date","now","getData","owner","data","get","nodeType","acceptsData","set","camelCase","_","letter","toUpperCase","dataAttr","getAttribute","JSON","parse","setData","value","cache","k","getDataValue","_attrsRead","attr","camelKey","removeData","delete","isArray","getInternalData","setInternalData","cleanData","elems","children","getElementsByTagName","i","class2type","hasOwn","hasOwnProperty","obj","call","isArrayLike","isWindow","objType","isFunction","isElement","isNumeric","realType","isNaN","parseFloat","isPlainObject","constructor","prototype","isString","extend","deep","target","sources","isDeep","targetObj","objectsToMerge","src","srcVal","existingVal","clone","merge","first","second","len","j","proxy","fn","args","tmp","bound","callArgs","apply","this","concat","guid","uniqueSort","seen","unique","has","compareDocumentPosition","sort","a","b","compare","rmsPrefix","rdashAlpha","str","all","wrapMap","thead","tbody","tfoot","colgroup","caption","tr","th","td","col","option","optgroup","legend","defaultWrapper","parseHTML","keepScripts","Error","doc","singleTagMatch","createElement","tagMatch","firstTag","wrapper","fragment","createDocumentFragment","node","html","innerHTML","appendChild","nodes","childNodes","filtered","tagName","script","removeChild","traditional","parts","valueOrFunction","encodeURIComponent","buildParams","prefix","v","item","join","jQNext","pushStack","prev","ret","prevObject","jQCollection","_elements","init","contextElem","readyState","doScroll","setTimeout","addEventListener","once","_push","_applyProps","toArray","props","each","className","setAttribute","callback","flat","element","eq","last","start","end","addBack","find","winnow","not","is","targets","contains","contents","contentDocument","contentWindow","_bind","qualifier","qualArr","qualSet","elemArray","Callbacks","options","opts","flag","list","firing","firingIndex","memory","fired","locked","fire","stopOnFalse","self","firingStart","addToList","arg","remove","splice","empty","disable","lock","fireWith","Deferred","func","tuples","state","promise","always","fns","deferred","done","fail","catch","then","pipe","arguments","onFulfilled","onRejected","onProgress","maxDepth","resolve","depth","handler","special","mightThrow","returned","TypeError","identity","thrower","notifyWith","resolveWith","process","rejectWith","newDefer","tuple","stateString","ex","getDocument","toNodes","content","Node","domManip","staticArgs","funcArgs","isLast","allNodes","cloneNode","resultNodes","Symbol","iterator","propFix","for","class","tabindex","readonly","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","booleanAttrs","setAttr","val","cssNumber","vendorPrefixes","getStyles","defaultView","getComputedStyle","vendorPropName","camelName","style","capName","prefixed","css","prop","computed","getPropertyValue","setCSS","String","adjustCSS","dimension","extra","innerWidth","innerHeight","max","body","rect","getBoundingClientRect","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","marginLeft","marginRight","marginTop","marginBottom","paddingLeft","paddingRight","paddingTop","paddingBottom","round","boxSizing","offset","coordinates","curPosition","position","curOffset","curCSSTop","curCSSLeft","curTop","curLeft","curPos","top","left","setOffset","docElem","win","pageYOffset","clientTop","pageXOffset","clientLeft","offsetParent","elemOffset","parentOffset","parentComputed","scrollProp","scrollPropName","pagePropName","scrollX","scrollY","scrollTo","handlersStorage","focus","trigger","delegateType","blur","click","_default","event","mouseenter","handle","related","relatedTarget","currentTarget","handleObj","mouseleave","focusin","setup","focusout","parseEventTypes","types","namespaces","namespace","origType","eventType","getHandlers","handlers","events","fixEvent","nativeEvent","_fixed","originalEvent","timeStamp","button","buttons","which","keyCode","charCode","code","altKey","ctrlKey","metaKey","shiftKey","clientX","clientY","pageX","pageY","screenX","screenY","offsetX","offsetY","detail","_isDefaultPrevented","_isPropagationStopped","_isImmediatePropagationStopped","preventDefault","stopPropagation","stopImmediatePropagation","isDefaultPrevented","defaultPrevented","isPropagationStopped","isImmediatePropagationStopped","scrollLeft","scrollTop","on","one","returnFalse","origFn","off","parsedTypes","elemHandle","handlersCopy","every","ns","includes","extraArgs","_extraArgs","specialHandle","createHandler","specialType","bindType","addHandler","removeHandler","removeByType","t","remaining","teardown","removeEventListener","triggerEvent","propagate","specialTrigger","eventObj","Event","CustomEvent","bubbles","cancelable","nativeEventName","old","createShortcut","load","resize","scroll","unload","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","change","select","submit","keydown","keypress","keyup","error","contextmenu","speeds","slow","fast","fx","interval","easingMap","linear","swing","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInBack","easeOutBack","easeInOutBack","normalizeDuration","duration","normalizeEasing","easing","animate","properties","complete","animateElement","queue","animationTask","to","camelProp","targetValue","currentValue","modifier","delta","keyframes","animation","fill","animations","onfinish","anims","step","oncancel","runAnimation","processQueue","task","shift","dequeue","displayCache","getDefaultDisplay","temp","display","isHidden","normalizeOptions","useDefault","show","overflow","targetHeight","targetWidth","height","width","opacity","hide","slideDown","slideUp","fadeIn","fadeOut","ajaxSettings","url","href","contentType","processData","async","accepts","xml","json","dataType","timeout","crossDomain","headers","global","active","prefilters","ajax","settings","method","dataTypes","jqXHR","status","statusText","responseText","responseJSON","responseXML","getResponseHeader","_responseHeaders","getAllResponseHeaders","entries","setRequestHeader","overrideMimeType","mimeType","abort","controller","success","requestUrl","timestamp","requestData","fetchOptions","Headers","credentials","xhrFields","withCredentials","accept","header","stringify","FormData","AbortController","signal","beforeSend","isSuccess","triggerGlobal","fetch","response","ok","parser","DOMParser","parseFromString","dispatchEvent","rsubmittable","rsubmitterTypes","rcheckableType","getSerializableElements","form","formElements","serializeArray","multiple","values","getValue","ui","version","BACKSPACE","COMMA","DELETE","DOWN","END","ENTER","ESCAPE","HOME","LEFT","PAGE_DOWN","PAGE_UP","PERIOD","RIGHT","SPACE","TAB","UP","safeActiveElement","safeBlur","widgetUuid","Widget","widgetName","widgetEventPrefix","defaultElement","create","uuid","eventNamespace","bindings","hoverable","focusable","_createWidget","Element","_getCreateOptions","_create","_trigger","_getCreateEventData","_init","destroy","_destroy","binding","classList","widget","curOption","lastPart","pop","_setOption","_toggleClass","_removeClass","_setOptions","enable","_on","suppressDisabledCheck","instance","eventParts","wrappedHandler","evt","_off","eventName","customEvent","_delay","delay","_hoverable","_addClass","_focusable","classes","cls","toggle","_scrollParent","includeHidden","excludeStaticParent","overflowRegex","scrollParent","parentElement","overflowY","overflowX","scrollingElement","returnTrue","jquery","grep","array","invert","expectTrue","inArray","fromIndex","makeArray","arrayLike","noop","container","contained","globalEval","head","isEmptyObject","isXMLDoc","parseJSON","parseXML","msg","when","subordinates","updateFunc","progressContexts","progressValues","resolveContexts","resolveValues","progress","reject","hasData","_data","_removeData","ajaxSetup","ajaxPrefilter","dataTypeOrHandler","ajaxTransport","post","getJSON","getScript","scriptElem","p","cos","PI","Animation","speed","opt","returnValue","fixHooks","fix","simulate","isSimulated","expr","filters","visible","hidden","createPseudo","compile","matchesSelector","styles","cssModule.css","cssHooks","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","fontWeight","lineHeight","order","orphans","widows","zIndex","zoom","support","cors","changeBubbles","optSelected","transition","createHTMLDocument","implementation","base","Constructor","WidgetConstructor","parentCreate","parentInit","parentDestroy","methodName","charAt","existing","registerPlugin","_jQuery","jQuery","_$","$","noConflict","isReady","readyWait","ready","holdReady","hold","size","traversal.parent","parents","traversal.parents","parentsUntil","until","untilElem","traversal.parentsUntil","traversal.closest","kids","traversal.children","siblings","traversal.siblings","next","sibling","nextElementSibling","traversal.next","nextAll","traversal.nextAll","nextUntil","traversal.nextUntil","previousElementSibling","traversal.prev","prevAll","traversal.prevAll","prevUntil","traversal.prevUntil","traversal.offsetParent","oldHtml","newValue","manipulation.html","nodeValue","manipulation.text","append","manipulation.append","prepend","insertBefore","manipulation.prepend","before","manipulation.before","after","nextSibling","manipulation.after","appendTo","manipulation.appendTo","prependTo","manipulation.prependTo","manipulation.insertBefore","insertAfter","manipulation.insertAfter","wrap","isFunc","wrapperElem","manipulation.wrap","wrapAll","manipulation.wrapAll","wrapInner","manipulation.wrapInner","unwrap","manipulation.unwrap","manipulation.remove","detach","manipulation.detach","replaceWith","newContent","replaceChild","manipulation.replaceWith","replaceAll","manipulation.replaceAll","withDataAndEvents","deepWithDataAndEvents","cloned","manipulation.clone","attributes.attr","removeAttr","names","n","attributes.removeAttr","propName","attributes.prop","removeProp","attributes.removeProp","selectedIndex","optValue","attributes.val","addClass","classNames","attributes.addClass","removeClass","attributes.removeClass","toggleClass","attributes.toggleClass","hasClass","attributes.hasClass","cssModule.width","cssModule.height","cssModule.innerWidth","cssModule.innerHeight","outerWidth","includeMargin","cssModule.outerWidth","outerHeight","cssModule.outerHeight","cssModule.offset","cssModule.position","cssModule.scrollTop","cssModule.scrollLeft","triggerHandler","eventShortcuts.blur","eventShortcuts.focus","eventShortcuts.focusin","eventShortcuts.focusout","eventShortcuts.load","eventShortcuts.resize","eventShortcuts.scroll","eventShortcuts.unload","eventShortcuts.click","eventShortcuts.dblclick","eventShortcuts.mousedown","eventShortcuts.mouseup","eventShortcuts.mousemove","eventShortcuts.mouseover","eventShortcuts.mouseout","eventShortcuts.mouseenter","eventShortcuts.mouseleave","eventShortcuts.change","eventShortcuts.select","eventShortcuts.submit","eventShortcuts.keydown","eventShortcuts.keypress","eventShortcuts.keyup","eventShortcuts.error","eventShortcuts.contextmenu","hover","handlerIn","handlerOut","bind","unbind","delegate","undelegate","slideToggle","fadeTo","fadeToggle","stop","clearQueue","jumpToEnd","anim","finish","cancel","time","Promise","count","orig","found","el","serialize","ajaxComplete","ajaxError","ajaxSend","ajaxStart","ajaxStop","ajaxSuccess","presideJQuery"],"mappings":"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"}