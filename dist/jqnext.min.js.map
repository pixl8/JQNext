{"version":3,"file":"jqnext.min.js","sources":["../src/selectors/pseudo.js","../src/core/data.js","../src/utilities/type.js","../src/utilities/objects.js","../src/utilities/strings.js","../src/core/collection.js","../src/utilities/deferred.js","../src/events/core.js","../src/dom/manipulation.js","../src/dom/attributes.js","../src/dom/css.js","../src/events/shortcuts.js","../src/effects/core.js","../src/effects/showhide.js","../src/ajax/core.js","../src/ajax/serialize.js","../src/compat/jquery-ui.js","../src/jqnext.js","../src/dom/traversal.js"],"sourcesContent":["/**\n * jQNext - Pseudo Selector Engine\n * Support for jQuery-specific pseudo-selectors\n */\n\n/**\n * Check if element is visible\n * @param {Element} elem - Element to check\n * @returns {boolean}\n */\nfunction isVisible(elem) {\n  return !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);\n}\n\n/**\n * Pseudo-selector definitions\n * Each returns true if the element matches the pseudo\n */\nexport const pseudoSelectors = {\n  // Visibility\n  ':visible': (elem) => isVisible(elem),\n  ':hidden': (elem) => !isVisible(elem),\n  \n  // :not() - handles jQuery pseudos inside\n  ':not': (elem, index, collection, selector) => {\n    if (!selector) return true;\n    // Use matchesWithPseudo for the inner selector to handle jQuery pseudos\n    return !matchesSingleSelectorForNot(elem, selector, index, collection);\n  },\n  \n  // Position in set\n  ':first': (elem, index) => index === 0,\n  ':last': (elem, index, collection) => index === collection.length - 1,\n  ':even': (elem, index) => index % 2 === 0,\n  ':odd': (elem, index) => index % 2 === 1,\n  ':eq': (elem, index, collection, param) => index === parseInt(param, 10),\n  ':gt': (elem, index, collection, param) => index > parseInt(param, 10),\n  ':lt': (elem, index, collection, param) => index < parseInt(param, 10),\n  ':nth': (elem, index, collection, param) => index === parseInt(param, 10),\n  \n  // Content\n  ':contains': (elem, index, collection, text) => elem.textContent.indexOf(text) > -1,\n  ':empty': (elem) => !elem.firstChild,\n  ':parent': (elem) => !!elem.firstChild,\n  ':has': (elem, index, collection, selector) => elem.querySelector(selector) !== null,\n  \n  // Form elements\n  ':input': (elem) => /^(input|select|textarea|button)$/i.test(elem.nodeName),\n  ':text': (elem) => elem.type === 'text',\n  ':password': (elem) => elem.type === 'password',\n  ':radio': (elem) => elem.type === 'radio',\n  ':checkbox': (elem) => elem.type === 'checkbox',\n  ':submit': (elem) => elem.type === 'submit',\n  ':image': (elem) => elem.type === 'image',\n  ':reset': (elem) => elem.type === 'reset',\n  ':button': (elem) => elem.type === 'button' || elem.nodeName.toLowerCase() === 'button',\n  ':file': (elem) => elem.type === 'file',\n  \n  // Form state\n  ':enabled': (elem) => elem.disabled === false && !elem.matches('[disabled]'),\n  ':disabled': (elem) => elem.disabled === true,\n  ':checked': (elem) => elem.checked === true,\n  ':selected': (elem) => elem.selected === true,\n  ':focus': (elem) => elem === elem.ownerDocument.activeElement && elem.ownerDocument.hasFocus(),\n  \n  // Structure\n  ':root': (elem) => elem === elem.ownerDocument.documentElement,\n  ':target': (elem) => {\n    const hash = window.location.hash;\n    return hash && elem.id === hash.slice(1);\n  },\n  ':animated': (elem) => {\n    // Check if element has running animations\n    const animations = elem.getAnimations?.() || [];\n    return animations.length > 0;\n  },\n  \n  // Header elements\n  ':header': (elem) => /^h[1-6]$/i.test(elem.nodeName),\n  \n  // First/last of type\n  ':first-child': (elem) => elem.parentNode?.firstElementChild === elem,\n  ':last-child': (elem) => elem.parentNode?.lastElementChild === elem,\n  ':only-child': (elem) => {\n    const parent = elem.parentNode;\n    return parent?.firstElementChild === elem && parent?.lastElementChild === elem;\n  },\n  \n  // Data attribute\n  ':data': (elem, index, collection, key) => {\n    if (key) {\n      return elem.dataset[key] !== undefined;\n    }\n    return Object.keys(elem.dataset).length > 0;\n  },\n  \n  // Lang\n  ':lang': (elem, index, collection, lang) => {\n    const elemLang = elem.lang || elem.closest('[lang]')?.lang || '';\n    return elemLang.toLowerCase().startsWith(lang.toLowerCase());\n  }\n};\n\n// Regex to match pseudo-selectors with optional parameters\nconst pseudoRegex = /:([\\w-]+)(?:\\(([^)]*)\\))?/g;\n\n/**\n * Check if a pseudo name is a jQuery-specific pseudo (not native CSS)\n * @param {string} name - Pseudo name without colon\n * @returns {boolean}\n */\nfunction isJQueryPseudo(name) {\n  // Check both with and without colon prefix (plugins may add without colon)\n  return pseudoSelectors[':' + name] !== undefined || pseudoSelectors[name] !== undefined;\n}\n\n/**\n * Parse a selector string and extract pseudo-selectors\n * @param {string} selector - Selector string\n * @returns {Object} - { baseSelector, pseudos: [{ name, param }] }\n */\nexport function parsePseudos(selector) {\n  const pseudos = [];\n  let baseSelector = selector;\n  \n  // Reset regex lastIndex\n  pseudoRegex.lastIndex = 0;\n  \n  let match;\n  while ((match = pseudoRegex.exec(selector)) !== null) {\n    const [fullMatch, name, param] = match;\n    \n    // Check if it's a jQuery pseudo (not native CSS)\n    // Also make sure it's not inside an attribute selector like [type='text']\n    const beforeMatch = selector.substring(0, match.index);\n    const insideAttr = (beforeMatch.match(/\\[/g) || []).length > (beforeMatch.match(/\\]/g) || []).length;\n    \n    if (!insideAttr && isJQueryPseudo(name)) {\n      pseudos.push({\n        name: ':' + name,\n        param: param?.replace(/^['\"]|['\"]$/g, '') // Remove quotes\n      });\n      \n      // Check if the pseudo was preceded by a space (descendant combinator)\n      // In that case, replace with '*' to select all descendants\n      const charBefore = match.index > 0 ? selector[match.index - 1] : '';\n      if (charBefore === ' ' || charBefore === '\\t' || charBefore === '\\n') {\n        // Replace the pseudo with '*' to get all descendants\n        baseSelector = baseSelector.substring(0, match.index) + '*' + baseSelector.substring(match.index + fullMatch.length);\n      } else {\n        baseSelector = baseSelector.replace(fullMatch, '');\n      }\n    }\n  }\n  \n  // Clean up the base selector - remove leading/trailing commas and whitespace\n  baseSelector = baseSelector\n    .replace(/^[\\s,]+/, '')  // Remove leading whitespace and commas\n    .replace(/[\\s,]+$/, '')  // Remove trailing whitespace and commas\n    .replace(/,\\s*,/g, ',')  // Remove double commas\n    .trim();\n  \n  // If selector is empty or just whitespace, default to '*'\n  if (!baseSelector) {\n    baseSelector = '*';\n  }\n  \n  return { baseSelector, pseudos };\n}\n\n/**\n * Filter elements by jQuery pseudo-selectors\n * @param {Element[]} elements - Elements to filter\n * @param {Array} pseudos - Array of { name, param } objects\n * @returns {Element[]} - Filtered elements\n */\nexport function filterByPseudos(elements, pseudos) {\n  if (!pseudos.length) return elements;\n  \n  let result = elements;\n  \n  for (const pseudo of pseudos) {\n    // Check both with and without colon prefix (plugins may add without colon)\n    const filterFn = pseudoSelectors[pseudo.name] || pseudoSelectors[pseudo.name.slice(1)];\n    if (filterFn) {\n      result = result.filter((elem, index, arr) =>\n        filterFn(elem, index, arr, pseudo.param)\n      );\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Enhanced query selector with jQuery pseudo support\n * @param {string} selector - Selector string\n * @param {Element|Document} context - Context element\n * @returns {Element[]} - Matching elements\n */\nexport function querySelectorAllWithPseudo(selector, context = document) {\n  // Ensure selector is a string\n  if (typeof selector !== 'string' || !selector) {\n    return [];\n  }\n  \n  // Ensure context is valid\n  if (!context || typeof context.querySelectorAll !== 'function') {\n    // Try to use document if context is invalid\n    context = document;\n  }\n  \n  // Handle comma-separated selectors\n  if (selector.indexOf(',') > -1) {\n    const selectors = selector.split(',').map(s => s.trim());\n    const results = new Set();\n    \n    selectors.forEach(sel => {\n      querySelectorAllWithPseudo(sel, context).forEach(elem => results.add(elem));\n    });\n    \n    return Array.from(results);\n  }\n  \n  const { baseSelector, pseudos } = parsePseudos(selector);\n  \n  try {\n    // Handle selectors starting with > (child combinator)\n    let actualSelector = baseSelector;\n    if (actualSelector.startsWith('>')) {\n      // Need to scope the selector to the context\n      if (context.id) {\n        actualSelector = '#' + context.id + ' ' + actualSelector;\n      } else {\n        // Add a temporary ID\n        const tempId = 'jqnext-temp-' + Math.random().toString(36).substr(2, 9);\n        context.id = tempId;\n        actualSelector = '#' + tempId + ' ' + actualSelector;\n        const elements = Array.from(document.querySelectorAll(actualSelector));\n        context.removeAttribute('id');\n        return filterByPseudos(elements, pseudos);\n      }\n    }\n    \n    // First, try native querySelectorAll\n    let elements = Array.from(context.querySelectorAll(actualSelector));\n    \n    // Then filter by jQuery pseudos\n    return filterByPseudos(elements, pseudos);\n  } catch (e) {\n    // If native fails (invalid selector), return empty\n    console.warn('Invalid selector:', selector, e);\n    return [];\n  }\n}\n\n/**\n * Check if a single element matches a selector with pseudo support\n * @param {Element} elem - Element to check\n * @param {string} selector - Selector string\n * @param {number} [index=0] - Element's index in the collection (for filter context)\n * @param {Element[]} [collection=null] - The full collection being filtered\n * @returns {boolean}\n */\nexport function matchesWithPseudo(elem, selector, index = 0, collection = null) {\n  // Ensure selector is a string\n  if (typeof selector !== 'string' || !selector) {\n    return false;\n  }\n  \n  // Ensure elem is valid\n  if (!elem || !elem.matches) {\n    return false;\n  }\n  \n  // Default collection to just the element if not provided\n  const coll = collection || [elem];\n  const idx = collection ? index : 0;\n  \n  // Handle comma-separated selectors (element matches if ANY part matches)\n  if (selector.indexOf(',') > -1) {\n    const selectors = selector.split(',').map(s => s.trim()).filter(Boolean);\n    return selectors.some(sel => matchesSingleSelector(elem, sel, idx, coll));\n  }\n  \n  return matchesSingleSelector(elem, selector, idx, coll);\n}\n\n/**\n * Check if element matches a single (non-comma-separated) selector\n * @param {Element} elem - Element to check\n * @param {string} selector - Single selector string\n * @param {number} index - Element's index in the collection\n * @param {Element[]} collection - The full collection being filtered\n * @returns {boolean}\n */\nfunction matchesSingleSelector(elem, selector, index, collection) {\n  const { baseSelector, pseudos } = parsePseudos(selector);\n  \n  // Check base selector first (if not just '*')\n  if (baseSelector && baseSelector !== '*') {\n    try {\n      if (!elem.matches(baseSelector)) {\n        return false;\n      }\n    } catch (e) {\n      // Invalid selector - can't match\n      return false;\n    }\n  }\n  \n  // Check all pseudos with proper index and collection context\n  for (const pseudo of pseudos) {\n    const filterFn = pseudoSelectors[pseudo.name];\n    if (filterFn && !filterFn(elem, index, collection, pseudo.param)) {\n      return false;\n    }\n  }\n  \n  return true;\n}\n\n/**\n * Check if element matches a single selector with proper collection context\n * This is used by :not() to properly evaluate index-based pseudos like :last\n * @param {Element} elem - Element to check\n * @param {string} selector - Single selector string\n * @param {number} index - Element's index in the collection\n * @param {Element[]} collection - The full collection being filtered\n * @returns {boolean}\n */\nfunction matchesSingleSelectorForNot(elem, selector, index, collection) {\n  const { baseSelector, pseudos } = parsePseudos(selector);\n  \n  // Check base selector first (if not just '*')\n  if (baseSelector && baseSelector !== '*') {\n    try {\n      if (!elem.matches(baseSelector)) {\n        return false;\n      }\n    } catch (e) {\n      // Invalid selector - can't match\n      return false;\n    }\n  }\n  \n  // Check all pseudos with proper index and collection context\n  for (const pseudo of pseudos) {\n    const filterFn = pseudoSelectors[pseudo.name];\n    if (filterFn && !filterFn(elem, index, collection, pseudo.param)) {\n      return false;\n    }\n  }\n  \n  return true;\n}\n\nexport default {\n  pseudoSelectors,\n  parsePseudos,\n  filterByPseudos,\n  querySelectorAllWithPseudo,\n  matchesWithPseudo\n};","/**\n * jQNext - Data Storage\n * WeakMap-based data storage for elements (replaces jQuery's $.data)\n */\n\n// Use WeakMap for memory-efficient data storage\nconst dataCache = new WeakMap();\n\n// Unique identifier for internal data\nexport const expando = 'jQNext' + Date.now() + Math.random().toString(36).slice(2);\n\n/**\n * Get or create the data object for an element\n * @param {Object} owner - Element or object to get data for\n * @returns {Object} - Data object for the owner\n */\nfunction getData(owner) {\n  let data = dataCache.get(owner);\n  if (!data) {\n    data = {};\n    // Only set for nodes that can accept data\n    if (acceptsData(owner)) {\n      dataCache.set(owner, data);\n    }\n  }\n  return data;\n}\n\n/**\n * Check if an object can have data attached to it\n * @param {Object} owner - Object to check\n * @returns {boolean}\n */\nfunction acceptsData(owner) {\n  // Accept data on:\n  // - Objects (any object without a fixed type)\n  // - Element nodes\n  // - Document nodes\n  // Reject on:\n  // - null/undefined\n  // - Text nodes\n  // - Comment nodes\n  // - Processing instruction nodes\n  // - Embedded elements (applets, object)\n  return owner != null && (\n    owner.nodeType === 1 ||\n    owner.nodeType === 9 ||\n    owner.nodeType === 11 ||\n    !+owner.nodeType // Objects without nodeType (plain objects)\n  );\n}\n\n/**\n * Convert data attribute name to property key\n * @param {string} key - Attribute name\n * @returns {string} - Property key\n */\nfunction camelCase(key) {\n  return key.replace(/-([a-z])/g, (_, letter) => letter.toUpperCase());\n}\n\n/**\n * Get value from HTML5 data attributes\n * @param {Element} elem - Element to get data from\n * @param {string} key - Data key (without 'data-' prefix)\n * @returns {*} - Data value\n */\nfunction dataAttr(elem, key) {\n  if (elem.nodeType !== 1) return undefined;\n  \n  const name = 'data-' + key.replace(/[A-Z]/g, '-$&').toLowerCase();\n  const data = elem.getAttribute(name);\n  \n  if (data === null) {\n    return undefined;\n  }\n  \n  // Try to parse the value\n  if (data === 'true') return true;\n  if (data === 'false') return false;\n  if (data === 'null') return null;\n  \n  // Convert to number if it represents a number\n  if (data === +data + '') return +data;\n  \n  // Try to parse as JSON\n  if (/^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/.test(data)) {\n    try {\n      return JSON.parse(data);\n    } catch (e) {\n      // Not valid JSON, return as string\n    }\n  }\n  \n  return data;\n}\n\n/**\n * Set data on an element\n * @param {Object} owner - Element or object\n * @param {string|Object} key - Data key or object of key-value pairs\n * @param {*} [value] - Value to set\n */\nexport function setData(owner, key, value) {\n  const cache = getData(owner);\n  \n  if (typeof key === 'string') {\n    cache[camelCase(key)] = value;\n  } else if (typeof key === 'object') {\n    // Set multiple values\n    for (const k in key) {\n      cache[camelCase(k)] = key[k];\n    }\n  }\n}\n\n/**\n * Get data from an element\n * @param {Object} owner - Element or object\n * @param {string} [key] - Data key (optional, returns all data if not provided)\n * @returns {*} - Data value or all data\n */\nexport function getDataValue(owner, key) {\n  const cache = getData(owner);\n  \n  if (key === undefined) {\n    // Return all data, including data attributes\n    if (owner.nodeType === 1) {\n      // Populate from data- attributes if not already done\n      if (!cache._attrsRead && owner.dataset) {\n        for (const attr in owner.dataset) {\n          if (!(attr in cache)) {\n            cache[attr] = dataAttr(owner, attr);\n          }\n        }\n        cache._attrsRead = true;\n      }\n    }\n    \n    // Return copy without internal properties\n    const result = {};\n    for (const k in cache) {\n      if (!k.startsWith('_')) {\n        result[k] = cache[k];\n      }\n    }\n    return result;\n  }\n  \n  const camelKey = camelCase(key);\n  \n  // Check cache first\n  if (camelKey in cache) {\n    return cache[camelKey];\n  }\n  \n  // Fall back to data attribute\n  if (owner.nodeType === 1) {\n    const value = dataAttr(owner, key);\n    if (value !== undefined) {\n      // Cache for future access\n      cache[camelKey] = value;\n      return value;\n    }\n  }\n  \n  return undefined;\n}\n\n/**\n * Remove data from an element\n * @param {Object} owner - Element or object\n * @param {string|string[]} [key] - Data key(s) to remove (removes all if not provided)\n */\nexport function removeData(owner, key) {\n  if (key === undefined) {\n    // Remove all data\n    dataCache.delete(owner);\n    return;\n  }\n  \n  const cache = getData(owner);\n  const keys = Array.isArray(key) ? key : [key];\n  \n  keys.forEach(k => {\n    delete cache[camelCase(k)];\n  });\n}\n\n/**\n * Check if an element has any data\n * @param {Object} owner - Element or object\n * @returns {boolean}\n */\nexport function hasData(owner) {\n  const cache = dataCache.get(owner);\n  if (!cache) return false;\n  \n  // Check if there are any non-internal properties\n  for (const key in cache) {\n    if (!key.startsWith('_')) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Get internal data (prefixed with '_')\n * @param {Object} owner - Element or object\n * @param {string} key - Internal data key\n * @returns {*}\n */\nexport function getInternalData(owner, key) {\n  const cache = getData(owner);\n  return cache['_' + key];\n}\n\n/**\n * Set internal data (prefixed with '_')\n * @param {Object} owner - Element or object\n * @param {string} key - Internal data key\n * @param {*} value - Value to set\n */\nexport function setInternalData(owner, key, value) {\n  const cache = getData(owner);\n  cache['_' + key] = value;\n}\n\n/**\n * Remove internal data\n * @param {Object} owner - Element or object\n * @param {string} key - Internal data key\n */\nexport function removeInternalData(owner, key) {\n  const cache = getData(owner);\n  delete cache['_' + key];\n}\n\n/**\n * Clean up all data associated with removed elements\n * Should be called when elements are removed from DOM\n * @param {Element|Element[]} elems - Elements to clean up\n */\nexport function cleanData(elems) {\n  const elements = Array.isArray(elems) ? elems : [elems];\n  \n  elements.forEach(elem => {\n    // Remove data\n    dataCache.delete(elem);\n    \n    // Also clean children\n    if (elem.nodeType === 1) {\n      const children = elem.getElementsByTagName('*');\n      for (let i = 0; i < children.length; i++) {\n        dataCache.delete(children[i]);\n      }\n    }\n  });\n}\n\nexport default {\n  expando,\n  setData,\n  getDataValue,\n  removeData,\n  hasData,\n  getInternalData,\n  setInternalData,\n  removeInternalData,\n  cleanData\n};","/**\n * jQNext - Type Utilities\n * Type checking and conversion functions\n */\n\nconst class2type = {};\nconst toString = class2type.toString;\nconst hasOwn = class2type.hasOwnProperty;\n\n// Populate class2type map\n'Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' ').forEach(name => {\n  class2type[`[object ${name}]`] = name.toLowerCase();\n});\n\n/**\n * Determine the internal JavaScript [[Class]] of an object\n * @param {*} obj - Value to check\n * @returns {string} - Type string (e.g., 'array', 'object', 'function')\n */\nexport function type(obj) {\n  if (obj == null) {\n    return obj + '';\n  }\n  return typeof obj === 'object' || typeof obj === 'function'\n    ? class2type[toString.call(obj)] || 'object'\n    : typeof obj;\n}\n\n/**\n * Check if value is array-like (has length and numeric indices)\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isArrayLike(obj) {\n  // Defensive checks\n  if (obj == null || isWindow(obj)) {\n    return false;\n  }\n  \n  // Must be an object\n  if (typeof obj !== 'object' && typeof obj !== 'function') {\n    return false;\n  }\n  \n  // No functions\n  if (typeof obj === 'function') {\n    return false;\n  }\n  \n  const length = obj.length;\n  const objType = type(obj);\n  \n  // Elements with length\n  if (obj.nodeType === 1 && length) {\n    return true;\n  }\n  \n  // Arrays\n  if (objType === 'array') {\n    return true;\n  }\n  \n  // Empty array-like\n  if (length === 0) {\n    return true;\n  }\n  \n  // Array-like with valid length\n  if (typeof length === 'number' && length > 0) {\n    try {\n      return (length - 1) in obj;\n    } catch (e) {\n      return false;\n    }\n  }\n  \n  return false;\n}\n\n/**\n * Check if value is an array\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isArray(obj) {\n  return Array.isArray(obj);\n}\n\n/**\n * Check if value is a function\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isFunction(obj) {\n  return typeof obj === 'function' && typeof obj.nodeType !== 'number';\n}\n\n/**\n * Check if value is a window object\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isWindow(obj) {\n  return obj != null && obj === obj.window;\n}\n\n/**\n * Check if value is a Document\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isDocument(obj) {\n  return obj != null && obj.nodeType === 9;\n}\n\n/**\n * Check if value is an Element\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isElement(obj) {\n  return obj != null && obj.nodeType === 1;\n}\n\n/**\n * Check if value is numeric\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isNumeric(obj) {\n  const realType = type(obj);\n  return (realType === 'number' || realType === 'string') && \n    !isNaN(obj - parseFloat(obj));\n}\n\n/**\n * Check if value is a plain object (created using {} or new Object)\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isPlainObject(obj) {\n  if (!obj || type(obj) !== 'object' || obj.nodeType || isWindow(obj)) {\n    return false;\n  }\n  \n  try {\n    if (obj.constructor && \n        !hasOwn.call(obj, 'constructor') && \n        !hasOwn.call(obj.constructor.prototype, 'isPrototypeOf')) {\n      return false;\n    }\n  } catch (e) {\n    return false;\n  }\n  \n  // Own properties are enumerated firstly, so to speed up checking\n  let key;\n  for (key in obj) { /* empty */ }\n  \n  return key === undefined || hasOwn.call(obj, key);\n}\n\n/**\n * Check if object is empty (has no own enumerable properties)\n * @param {Object} obj - Object to check\n * @returns {boolean}\n */\nexport function isEmptyObject(obj) {\n  for (const name in obj) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * Check if value is a string\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isString(obj) {\n  return type(obj) === 'string';\n}\n\n/**\n * Check if value is undefined\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isUndefined(obj) {\n  return obj === undefined;\n}\n\n/**\n * Check if value is null\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isNull(obj) {\n  return obj === null;\n}\n\n/**\n * Check if value is a boolean\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isBoolean(obj) {\n  return type(obj) === 'boolean';\n}\n\n/**\n * Check if value is an object (not null and typeof object or function)\n * @param {*} obj - Value to check\n * @returns {boolean}\n */\nexport function isObject(obj) {\n  return obj != null && (typeof obj === 'object' || typeof obj === 'function');\n}\n\nexport default {\n  type,\n  isArrayLike,\n  isArray,\n  isFunction,\n  isWindow,\n  isDocument,\n  isElement,\n  isNumeric,\n  isPlainObject,\n  isEmptyObject,\n  isString,\n  isUndefined,\n  isNull,\n  isBoolean,\n  isObject\n};","/**\n * jQNext - Object Utilities\n * Object manipulation and iteration functions\n */\n\nimport { isFunction, isArray, isArrayLike, isPlainObject, isWindow } from './type.js';\n\n/**\n * Merge the contents of two or more objects together into the first object\n * @param {boolean|Object} deep - If true, performs deep merge. Or target object.\n * @param {Object} target - The object to extend (if deep is boolean)\n * @param {...Object} sources - Objects containing properties to merge\n * @returns {Object} - The target object\n */\nexport function extend(deep, target, ...sources) {\n  let isDeep = false;\n  let targetObj = deep;\n  let objectsToMerge = [target, ...sources];\n  \n  // Handle deep copy situation\n  if (typeof deep === 'boolean') {\n    isDeep = deep;\n    targetObj = target;\n    objectsToMerge = sources;\n  }\n  \n  // Handle case when target is not an object\n  if (typeof targetObj !== 'object' && !isFunction(targetObj)) {\n    targetObj = {};\n  }\n  \n  objectsToMerge.forEach(src => {\n    if (src == null) return;\n    \n    for (const key in src) {\n      const srcVal = src[key];\n      \n      // Prevent Object.prototype pollution\n      if (key === '__proto__' || targetObj === srcVal) {\n        continue;\n      }\n      \n      // Recurse if we're merging plain objects or arrays\n      if (isDeep && srcVal && (isPlainObject(srcVal) || isArray(srcVal))) {\n        const existingVal = targetObj[key];\n        let clone;\n        \n        if (isArray(srcVal)) {\n          clone = existingVal && isArray(existingVal) ? existingVal : [];\n        } else {\n          clone = existingVal && isPlainObject(existingVal) ? existingVal : {};\n        }\n        \n        targetObj[key] = extend(isDeep, clone, srcVal);\n      } else if (srcVal !== undefined) {\n        targetObj[key] = srcVal;\n      }\n    }\n  });\n  \n  return targetObj;\n}\n\n/**\n * Iterate over an object or array, executing a function for each element\n * @param {Object|Array} obj - Object or array to iterate\n * @param {Function} callback - Function to execute for each element (index/key, value)\n * @returns {Object|Array} - The original object\n */\nexport function each(obj, callback) {\n  if (isArrayLike(obj)) {\n    const length = obj.length;\n    for (let i = 0; i < length; i++) {\n      if (callback.call(obj[i], i, obj[i]) === false) {\n        break;\n      }\n    }\n  } else {\n    for (const key in obj) {\n      if (callback.call(obj[key], key, obj[key]) === false) {\n        break;\n      }\n    }\n  }\n  \n  return obj;\n}\n\n/**\n * Translate all items in an array or object to new array of items\n * @param {Object|Array} obj - Object or array to iterate\n * @param {Function} callback - Function to execute for each element (value, index/key)\n * @returns {Array} - New array with the results\n */\nexport function map(obj, callback) {\n  const result = [];\n  \n  if (isArrayLike(obj)) {\n    const length = obj.length;\n    for (let i = 0; i < length; i++) {\n      const value = callback(obj[i], i);\n      if (value != null) {\n        result.push(value);\n      }\n    }\n  } else {\n    for (const key in obj) {\n      const value = callback(obj[key], key);\n      if (value != null) {\n        result.push(value);\n      }\n    }\n  }\n  \n  return result.flat();\n}\n\n/**\n * Finds the elements of an array which satisfy a filter function\n * @param {Array} array - Array to filter\n * @param {Function} callback - Filter function (element, index)\n * @param {boolean} [invert=false] - If true, return elements that don't match\n * @returns {Array} - Filtered array\n */\nexport function grep(array, callback, invert = false) {\n  const result = [];\n  const length = array.length;\n  const expectTrue = !invert;\n  \n  for (let i = 0; i < length; i++) {\n    const retVal = !!callback(array[i], i);\n    if (retVal === expectTrue) {\n      result.push(array[i]);\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Search for a specified value within an array\n * @param {*} elem - Value to search for\n * @param {Array} array - Array to search\n * @param {number} [fromIndex=0] - Index to start from\n * @returns {number} - Index of element, or -1 if not found\n */\nexport function inArray(elem, array, fromIndex = 0) {\n  return array == null ? -1 : Array.prototype.indexOf.call(array, elem, fromIndex);\n}\n\n/**\n * Merge the contents of two arrays together into the first array\n * @param {Array} first - Array to receive elements\n * @param {Array} second - Array to merge into first\n * @returns {Array} - The first array\n */\nexport function merge(first, second) {\n  const len = +second.length;\n  let j = 0;\n  let i = first.length;\n  \n  for (; j < len; j++) {\n    first[i++] = second[j];\n  }\n  \n  first.length = i;\n  \n  return first;\n}\n\n/**\n * Convert an array-like object into a true JavaScript array\n * @param {*} arrayLike - Any array-like object\n * @returns {Array} - Array containing the elements\n */\nexport function makeArray(arrayLike, results = []) {\n  const arr = results;\n  \n  if (arrayLike != null) {\n    if (isArrayLike(Object(arrayLike))) {\n      merge(arr, typeof arrayLike === 'string' ? [arrayLike] : arrayLike);\n    } else {\n      arr.push(arrayLike);\n    }\n  }\n  \n  return arr;\n}\n\n/**\n * Bind a function to a context\n * @param {Function} fn - Function to bind\n * @param {Object} context - Context to bind to\n * @param {...*} args - Arguments to prepend to function calls\n * @returns {Function} - Bound function\n */\nexport function proxy(fn, context, ...args) {\n  if (!isFunction(fn)) {\n    return undefined;\n  }\n  \n  // Support: jQuery-style arguments (context, name)\n  if (typeof context === 'string') {\n    const tmp = fn[context];\n    context = fn;\n    fn = tmp;\n  }\n  \n  // Create bound function\n  const bound = function(...callArgs) {\n    return fn.apply(\n      context || this,\n      args.concat(callArgs)\n    );\n  };\n  \n  // Set a unique guid so we can remove the bound function later\n  bound.guid = fn.guid = fn.guid || proxy.guid++;\n  \n  return bound;\n}\n\nproxy.guid = 1;\n\n/**\n * An empty function - used as placeholder\n */\nexport function noop() {}\n\n/**\n * Return the current time\n * @returns {number} - Current timestamp in milliseconds\n */\nexport function now() {\n  return Date.now();\n}\n\n/**\n * Sort an array of DOM elements, in place, removing duplicates\n * @param {Array} results - Array to sort and dedupe\n * @returns {Array} - The sorted array\n */\nexport function uniqueSort(results) {\n  // Handle null, undefined, or non-array-like\n  if (!results) {\n    return results || [];\n  }\n  \n  // Ensure it's array-like\n  if (typeof results !== 'object' || typeof results.length !== 'number') {\n    return [];\n  }\n  \n  if (!results.length) {\n    return [];\n  }\n  \n  const seen = new Set();\n  const unique = [];\n  \n  for (let i = 0; i < results.length; i++) {\n    const elem = results[i];\n    if (elem && !seen.has(elem)) {\n      seen.add(elem);\n      unique.push(elem);\n    }\n  }\n  \n  // Sort by document position if elements\n  if (unique[0] && typeof unique[0].compareDocumentPosition === 'function') {\n    unique.sort((a, b) => {\n      if (a === b) return 0;\n      if (!a || !b || !a.compareDocumentPosition) return 0;\n      const compare = a.compareDocumentPosition(b);\n      if (compare & 4) return -1; // a is before b\n      if (compare & 2) return 1;  // a is after b\n      return 0;\n    });\n  }\n  \n  return unique;\n}\n\n/**\n * Check if an element is contained within another\n * @param {Element} container - Potential container element\n * @param {Element} contained - Element to check\n * @returns {boolean} - True if contained is inside container\n */\nexport function contains(container, contained) {\n  // Element.contains works for most cases\n  if (container.contains) {\n    return container !== contained && container.contains(contained);\n  }\n  \n  // Fallback for older browsers\n  if (container.compareDocumentPosition) {\n    return !!(container.compareDocumentPosition(contained) & 16);\n  }\n  \n  return false;\n}\n\n/**\n * Execute some JavaScript code globally\n * @param {string} code - Code to execute\n */\nexport function globalEval(code) {\n  if (code && /\\S/.test(code)) {\n    // Use indirect eval to run code in global scope\n    const script = document.createElement('script');\n    script.text = code;\n    document.head.appendChild(script).parentNode.removeChild(script);\n  }\n}\n\nexport default {\n  extend,\n  each,\n  map,\n  grep,\n  inArray,\n  merge,\n  makeArray,\n  proxy,\n  noop,\n  now,\n  uniqueSort,\n  contains,\n  globalEval\n};","/**\n * jQNext - String Utilities\n * String manipulation functions\n */\n\nconst rmsPrefix = /^-ms-/;\nconst rdashAlpha = /-([a-z])/g;\n\n/**\n * Convert dashed string to camelCase\n * @param {string} str - String to convert\n * @returns {string} - camelCase string\n */\nexport function camelCase(str) {\n  return str\n    .replace(rmsPrefix, 'ms-')\n    .replace(rdashAlpha, (all, letter) => letter.toUpperCase());\n}\n\n/**\n * Remove whitespace from beginning and end of string\n * Handles special whitespace: NBSP (\\xA0), ZWSP (\\uFEFF)\n * @param {string} str - String to trim\n * @returns {string} - Trimmed string\n */\nexport function trim(str) {\n  if (str == null) {\n    return '';\n  }\n  // Handle special whitespace characters that String.trim() might not handle\n  return (str + '').replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n}\n\n// Wrapper elements for special tags that can't be direct children of div\nconst wrapMap = {\n  // Table elements need proper wrappers\n  thead: ['table'],\n  tbody: ['table'],\n  tfoot: ['table'],\n  colgroup: ['table'],\n  caption: ['table'],\n  tr: ['table', 'tbody'],\n  th: ['table', 'tbody', 'tr'],\n  td: ['table', 'tbody', 'tr'],\n  col: ['table', 'colgroup'],\n  // Option/optgroup need select\n  option: ['select'],\n  optgroup: ['select'],\n  // Legend needs fieldset\n  legend: ['fieldset']\n};\n\n// Default wrapper is just a div (no special handling needed)\nconst defaultWrapper = [];\n\n/**\n * Get the wrapper needed for a tag\n * @param {string} tag - Tag name (lowercase)\n * @returns {string[]} - Array of wrapper tag names from outermost to innermost\n */\nfunction getWrapper(tag) {\n  return wrapMap[tag.toLowerCase()] || defaultWrapper;\n}\n\n/**\n * Parse a string into an array of DOM nodes\n * @param {string} data - HTML string to parse\n * @param {Document|boolean} [context=document] - Document context or keepScripts boolean\n * @param {boolean} [keepScripts=false] - Include script elements\n * @returns {Array|null} - Array of DOM nodes or null\n */\nexport function parseHTML(data, context, keepScripts) {\n  // Handle null, undefined, empty string\n  if (!data || typeof data !== 'string') {\n    return null;\n  }\n  \n  // Handle arguments - context can be boolean (keepScripts) or Document\n  if (typeof context === 'boolean') {\n    keepScripts = context;\n    context = document;\n  }\n  \n  // Default context\n  if (!context) {\n    context = document;\n  }\n  \n  // Throw if context is an element (not a document)\n  if (context.nodeType === 1) {\n    throw new Error('Context must be a document, not an element');\n  }\n  \n  // Get the actual document from context\n  const doc = context.ownerDocument || context;\n  \n  // Simple single tag: $('<div>')\n  const singleTagMatch = data.match(/^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i);\n  if (singleTagMatch) {\n    return [doc.createElement(singleTagMatch[1])];\n  }\n  \n  // Detect the first tag in the HTML to determine if wrapping is needed\n  const tagMatch = data.match(/^[\\s]*<([a-z][^\\s>\\/]*)/i);\n  const firstTag = tagMatch ? tagMatch[1].toLowerCase() : '';\n  const wrapper = getWrapper(firstTag);\n  \n  // Create a document fragment to hold parsed content\n  const fragment = doc.createDocumentFragment();\n  let tmp = doc.createElement('div');\n  \n  // Build wrapper structure if needed\n  if (wrapper.length) {\n    // Build opening tags\n    let html = '';\n    for (let i = 0; i < wrapper.length; i++) {\n      html += '<' + wrapper[i] + '>';\n    }\n    html += data;\n    // Build closing tags in reverse\n    for (let i = wrapper.length - 1; i >= 0; i--) {\n      html += '</' + wrapper[i] + '>';\n    }\n    tmp.innerHTML = html;\n    \n    // Drill down to the innermost wrapper to get the actual content\n    for (let i = 0; i < wrapper.length; i++) {\n      tmp = tmp.firstElementChild;\n    }\n  } else {\n    // Use innerHTML to parse (no special wrapper needed)\n    tmp.innerHTML = data;\n  }\n  \n  // Move nodes to fragment\n  let node;\n  while ((node = tmp.firstChild)) {\n    fragment.appendChild(node);\n  }\n  \n  const nodes = Array.from(fragment.childNodes);\n  \n  // Remove scripts if not keeping them\n  if (!keepScripts) {\n    const filtered = [];\n    nodes.forEach(node => {\n      if (node.nodeType === 1 && node.tagName === 'SCRIPT') {\n        return; // skip script elements\n      }\n      if (node.nodeType === 1) {\n        // Remove nested scripts\n        const scripts = node.querySelectorAll ? node.querySelectorAll('script') : [];\n        scripts.forEach(script => script.parentNode && script.parentNode.removeChild(script));\n      }\n      filtered.push(node);\n    });\n    return filtered;\n  }\n  \n  return nodes;\n}\n\n/**\n * Parse JSON string into an object\n * @param {string} data - JSON string to parse\n * @returns {*} - Parsed value\n */\nexport function parseJSON(data) {\n  return JSON.parse(data);\n}\n\n/**\n * Parse XML string into an XML document\n * @param {string} data - XML string to parse\n * @returns {Document|null} - XML document or null\n */\nexport function parseXML(data) {\n  // Handle non-string inputs\n  if (data == null || typeof data !== 'string') {\n    return null;\n  }\n  \n  // Handle empty string\n  if (!data.trim()) {\n    return null;\n  }\n  \n  const parser = new DOMParser();\n  const xml = parser.parseFromString(data, 'text/xml');\n  \n  // Check for parsing errors\n  const parseError = xml.getElementsByTagName('parsererror');\n  if (parseError.length) {\n    throw new Error('Invalid XML: ' + data);\n  }\n  \n  return xml;\n}\n\n/**\n * Encode a set of form elements or object as a URL-encoded string\n * @param {Object|Array} obj - Object or array to serialize\n * @param {boolean} [traditional=false] - Use traditional parameter serialization\n * @returns {string} - URL-encoded string\n */\nexport function param(obj, traditional = false) {\n  const parts = [];\n  \n  function add(key, valueOrFunction) {\n    // If value is a function, invoke it and use its return value\n    const value = typeof valueOrFunction === 'function' \n      ? valueOrFunction() \n      : valueOrFunction;\n    \n    parts.push(\n      encodeURIComponent(key) + '=' + \n      encodeURIComponent(value == null ? '' : value)\n    );\n  }\n  \n  function buildParams(prefix, obj, traditional) {\n    if (Array.isArray(obj)) {\n      obj.forEach((v, i) => {\n        if (traditional || /\\[\\]$/.test(prefix)) {\n          // Treat each array item as a scalar\n          add(prefix, v);\n        } else {\n          // Item is non-scalar (array or object), encode its numeric index\n          buildParams(\n            prefix + '[' + (typeof v === 'object' && v != null ? i : '') + ']',\n            v,\n            traditional\n          );\n        }\n      });\n    } else if (!traditional && typeof obj === 'object' && obj !== null) {\n      // Serialize object item\n      for (const name in obj) {\n        buildParams(prefix + '[' + name + ']', obj[name], traditional);\n      }\n    } else {\n      // Serialize scalar item\n      add(prefix, obj);\n    }\n  }\n  \n  // Serialize the top-level object\n  if (Array.isArray(obj)) {\n    // Serialize array items (assume they are {name, value} objects)\n    obj.forEach(item => {\n      add(item.name, item.value);\n    });\n  } else {\n    for (const prefix in obj) {\n      buildParams(prefix, obj[prefix], traditional);\n    }\n  }\n  \n  return parts.join('&');\n}\n\n/**\n * Throw an error with the given message\n * @param {string} msg - Error message\n */\nexport function error(msg) {\n  throw new Error(msg);\n}\n\nexport default {\n  camelCase,\n  trim,\n  parseHTML,\n  parseJSON,\n  parseXML,\n  param,\n  error\n};","/**\n * jQNext - Collection Class\n * The core jQuery-compatible collection object\n */\n\nimport { querySelectorAllWithPseudo, matchesWithPseudo } from '../selectors/pseudo.js';\nimport { setData, getDataValue, removeData, cleanData, expando } from './data.js';\nimport { isFunction, isArrayLike, isWindow, isString, isPlainObject, isElement } from '../utilities/type.js';\nimport { extend, merge, makeArray, uniqueSort } from '../utilities/objects.js';\nimport { parseHTML } from '../utilities/strings.js';\n\n// Reference to the jQNext function (will be set by jqnext.js)\nlet jQNext = null;\n\n/**\n * Set the jQNext reference\n * @param {Function} fn - The jQNext function\n */\nexport function setJQNext(fn) {\n  jQNext = fn;\n}\n\n/**\n * Push context onto stack and return new collection\n * @param {jQCollection} collection - Collection to add to stack\n * @param {jQCollection} prev - Previous collection\n * @returns {jQCollection}\n */\nfunction pushStack(collection, prev) {\n  // Build a new jQCollection\n  const ret = jQNext(collection);\n  \n  // Add the old object onto the stack\n  ret.prevObject = prev;\n  \n  // Inherit context from previous collection (jQuery compatibility)\n  if (prev && prev.context) {\n    ret.context = prev.context;\n  }\n  \n  return ret;\n}\n\n/**\n * jQuery-compatible collection class\n * Extends Array to provide jQuery-like functionality\n */\nexport class jQCollection {\n  constructor() {\n    // Internal array to store elements\n    this._elements = [];\n    this.length = 0;\n    \n    // Store reference to previous collection for .end()\n    this.prevObject = null;\n    \n    // Store the selector string used to create this collection\n    this.selector = '';\n    \n    // Store the context used - default to document (jQuery compatibility)\n    this.context = typeof document !== 'undefined' ? document : null;\n  }\n  \n  /**\n   * Initialize the collection with elements\n   * @param {string|Element|NodeList|Array|Function} selector\n   * @param {Element|Document|jQCollection} context\n   */\n  init(selector, context = document) {\n    // Normalize context to DOM element(s)\n    // Handle: jQCollection, array of elements, single element\n    let contextElem;\n    if (context instanceof jQCollection) {\n      contextElem = context[0];\n    } else if (Array.isArray(context) || (context && typeof context.length === 'number' && context !== window && !context.nodeType && !isString(context))) {\n      // It's an array or array-like (but not window or string) - extract first element\n      contextElem = context[0];\n    } else {\n      contextElem = context;\n    }\n    \n    // Store context as DOM element (jQuery compatibility)\n    this.context = contextElem || document;\n    \n    // Handle empty or null selector\n    if (!selector) {\n      this.selector = '';\n      return this;\n    }\n    \n    // Handle DOM ready: $(function)\n    if (isFunction(selector)) {\n      // DOM is already loaded\n      if (document.readyState === 'complete' ||\n          (document.readyState !== 'loading' && !document.documentElement.doScroll)) {\n        setTimeout(() => selector(jQNext), 0);\n      } else {\n        document.addEventListener('DOMContentLoaded', () => selector(jQNext), { once: true });\n      }\n      return this;\n    }\n    \n    // Handle string selector\n    if (isString(selector)) {\n      // HTML string: $('<div>') - but check for second arg being props object\n      if (selector[0] === '<' && selector[selector.length - 1] === '>' && selector.length >= 3) {\n        // Parse HTML\n        const doc = context && context.ownerDocument ? context.ownerDocument :\n                    (context && context.nodeType === 9 ? context : document);\n        const nodes = parseHTML(selector, doc, true);\n        this._push(nodes || []);\n        \n        // Handle props object: $('<div/>', { class: 'foo', text: 'bar' })\n        if (context && isPlainObject(context)) {\n          this._applyProps(context);\n        }\n        \n        return this;\n      }\n      \n      // Store selector string\n      this.selector = selector;\n      \n      // Handle invalid selector starting with # followed by non-word characters\n      if (selector === '#' || /^#[^a-zA-Z]/.test(selector) && !/^#[a-zA-Z_]/.test(selector)) {\n        return this; // Return empty collection for invalid selectors like '#'\n      }\n      \n      // CSS selector\n      try {\n        const elements = querySelectorAllWithPseudo(selector, contextElem);\n        this._push(elements);\n      } catch (e) {\n        // Invalid selector - return empty collection\n      }\n      return this;\n    }\n    \n    // Handle Element\n    if (selector.nodeType) {\n      this[0] = selector;\n      this.length = 1;\n      this.context = selector;\n      return this;\n    }\n    \n    // Handle Window\n    if (isWindow(selector)) {\n      this[0] = selector;\n      this.length = 1;\n      this.context = selector;\n      return this;\n    }\n    \n    // Handle jQCollection - copy selector\n    if (selector instanceof jQCollection) {\n      this._push(selector.toArray());\n      this.selector = selector.selector;\n      this.context = selector.context || document;\n      return this;\n    }\n    \n    // Handle Array-like objects (NodeList, HTMLCollection, Array)\n    if (isArrayLike(selector)) {\n      this._push(Array.from(selector));\n      // context remains document (set in constructor)\n      return this;\n    }\n    \n    return this;\n  }\n  \n  /**\n   * Apply props object to elements (quick setter support)\n   * @private\n   * @param {Object} props - Properties/methods to apply\n   */\n  _applyProps(props) {\n    for (const key in props) {\n      const value = props[key];\n      \n      // Special handling for certain properties\n      if (key === 'text') {\n        // Set text content\n        this.each(function() {\n          this.textContent = value;\n        });\n      } else if (key === 'html') {\n        // Set HTML content\n        this.each(function() {\n          this.innerHTML = value;\n        });\n      } else if (key === 'class') {\n        // Set class attribute\n        this.each(function() {\n          this.className = value;\n        });\n      } else if (key === 'id') {\n        // Set id\n        this.each(function() {\n          this.id = value;\n        });\n      } else if (typeof this[key] === 'function') {\n        // Call the method if it exists on the collection\n        if (isFunction(value)) {\n          this[key](value);\n        } else if (isPlainObject(value)) {\n          // For methods like css, attr - pass the object\n          this[key](value);\n        } else if (Array.isArray(value)) {\n          this[key](...value);\n        } else {\n          this[key](value);\n        }\n      } else {\n        // Set as attribute\n        this.each(function() {\n          this.setAttribute(key, value);\n        });\n      }\n    }\n  }\n  \n  /**\n   * Push elements into the collection\n   * @private\n   * @param {Element[]} elements\n   */\n  _push(elements) {\n    for (let i = 0; i < elements.length; i++) {\n      this[i] = elements[i];\n    }\n    this.length = elements.length;\n  }\n  \n  // ==========================================\n  // ARRAY-LIKE METHODS\n  // ==========================================\n  \n  /**\n   * Iterate over elements\n   * @param {Function} callback - Function(index, element)\n   * @returns {jQCollection}\n   */\n  each(callback) {\n    for (let i = 0; i < this.length; i++) {\n      if (callback.call(this[i], i, this[i]) === false) {\n        break;\n      }\n    }\n    return this;\n  }\n  \n  /**\n   * Create a new collection with the results of calling a function on every element\n   * @param {Function} callback - Function(index, element)\n   * @returns {jQCollection}\n   */\n  map(callback) {\n    const result = [];\n    for (let i = 0; i < this.length; i++) {\n      const value = callback.call(this[i], i, this[i]);\n      if (value != null) {\n        result.push(value);\n      }\n    }\n    return pushStack(result.flat(), this);\n  }\n  \n  /**\n   * Get the element at index, or all elements as array\n   * @param {number} [index]\n   * @returns {Element|Element[]}\n   */\n  get(index) {\n    if (index === undefined) {\n      return this.toArray();\n    }\n    return index < 0 ? this[this.length + index] : this[index];\n  }\n  \n  /**\n   * Convert to array\n   * @returns {Element[]}\n   */\n  toArray() {\n    return Array.prototype.slice.call(this);\n  }\n  \n  /**\n   * Get the index of an element\n   * @param {Element|string} elem - Element or selector\n   * @returns {number}\n   */\n  index(elem) {\n    // No argument: return index of first element in parent\n    if (!elem) {\n      const first = this[0];\n      if (first && first.parentNode) {\n        return Array.from(first.parentNode.children).indexOf(first);\n      }\n      return -1;\n    }\n    \n    // Selector: return index of first match\n    if (isString(elem)) {\n      return Array.prototype.indexOf.call(jQNext(elem), this[0]);\n    }\n    \n    // Element: return its index in the collection\n    const element = elem instanceof jQCollection ? elem[0] : elem;\n    return Array.prototype.indexOf.call(this, element);\n  }\n  \n  /**\n   * Reduce the set of elements to the one at the specified index\n   * @param {number} index\n   * @returns {jQCollection}\n   */\n  eq(index) {\n    const len = this.length;\n    const j = +index + (index < 0 ? len : 0);\n    return pushStack(j >= 0 && j < len ? [this[j]] : [], this);\n  }\n  \n  /**\n   * Get the first element\n   * @returns {jQCollection}\n   */\n  first() {\n    return this.eq(0);\n  }\n  \n  /**\n   * Get the last element\n   * @returns {jQCollection}\n   */\n  last() {\n    return this.eq(-1);\n  }\n  \n  /**\n   * Get a subset of elements\n   * @param {number} start\n   * @param {number} [end]\n   * @returns {jQCollection}\n   */\n  slice(start, end) {\n    return pushStack(Array.prototype.slice.call(this, start, end), this);\n  }\n  \n  /**\n   * End the most recent filtering operation\n   * @returns {jQCollection}\n   */\n  end() {\n    return this.prevObject || jQNext();\n  }\n  \n  /**\n   * Add the previous set of elements to the current set\n   * @param {string} [selector] - Optional selector to filter previous set\n   * @returns {jQCollection}\n   */\n  addBack(selector) {\n    return this.add(selector ? this.prevObject?.filter(selector) : this.prevObject);\n  }\n  \n  /**\n   * Create a new jQCollection with elements added\n   * @param {string|Element|jQCollection} selector\n   * @param {Element|Document} [context]\n   * @returns {jQCollection}\n   */\n  add(selector, context) {\n    return pushStack(\n      uniqueSort(merge(this.get(), jQNext(selector, context))),\n      this\n    );\n  }\n  \n  // ==========================================\n  // SELECTION & FILTERING\n  // ==========================================\n  \n  /**\n   * Find descendant elements\n   * @param {string} selector\n   * @returns {jQCollection}\n   */\n  find(selector) {\n    const result = [];\n    \n    for (let i = 0; i < this.length; i++) {\n      const found = querySelectorAllWithPseudo(selector, this[i]);\n      merge(result, found);\n    }\n    \n    return pushStack(this.length > 1 ? uniqueSort(result) : result, this);\n  }\n  \n  /**\n   * Filter elements by selector, function, or element\n   * @param {string|Function|Element|jQCollection} selector\n   * @returns {jQCollection}\n   */\n  filter(selector) {\n    return pushStack(winnow(this, selector, false), this);\n  }\n  \n  /**\n   * Remove elements that match\n   * @param {string|Function|Element|jQCollection} selector\n   * @returns {jQCollection}\n   */\n  not(selector) {\n    return pushStack(winnow(this, selector, true), this);\n  }\n  \n  /**\n   * Check if any element matches selector\n   * @param {string|Function|Element|jQCollection} selector\n   * @returns {boolean}\n   */\n  is(selector) {\n    return !!winnow(this, selector, false).length;\n  }\n  \n  /**\n   * Reduce to elements that have descendant matching selector\n   * @param {string|Element} selector\n   * @returns {jQCollection}\n   */\n  has(selector) {\n    const targets = jQNext(selector, this);\n    \n    return this.filter(function() {\n      for (let i = 0; i < targets.length; i++) {\n        if (this.contains(targets[i])) {\n          return true;\n        }\n      }\n      return false;\n    });\n  }\n  \n  /**\n   * Get all child nodes including text nodes\n   * @returns {jQCollection}\n   */\n  contents() {\n    const result = [];\n    \n    for (let i = 0; i < this.length; i++) {\n      const elem = this[i];\n      \n      // Handle iframe\n      if (elem.nodeName.toLowerCase() === 'iframe') {\n        result.push(elem.contentDocument || elem.contentWindow.document);\n      } else {\n        merge(result, elem.childNodes);\n      }\n    }\n    \n    return pushStack(result, this);\n  }\n  \n  // ==========================================\n  // DATA\n  // ==========================================\n  \n  /**\n   * Get/set data on elements\n   * @param {string|Object} [key]\n   * @param {*} [value]\n   * @returns {*|jQCollection}\n   */\n  data(key, value) {\n    // Get all data\n    if (key === undefined) {\n      if (this[0]) {\n        return getDataValue(this[0]);\n      }\n      // Return null for empty collection (jQuery compatibility)\n      return null;\n    }\n    \n    // Get single value\n    if (value === undefined && !isPlainObject(key)) {\n      if (this[0]) {\n        return getDataValue(this[0], key);\n      }\n      return undefined;\n    }\n    \n    // Set data\n    return this.each(function() {\n      setData(this, key, value);\n    });\n  }\n  \n  /**\n   * Remove data from elements\n   * @param {string|string[]} [key]\n   * @returns {jQCollection}\n   */\n  removeData(key) {\n    return this.each(function() {\n      removeData(this, key);\n    });\n  }\n  \n  // ==========================================\n  // INTERNAL HELPERS\n  // ==========================================\n  \n  /**\n   * Push elements onto the stack (jQuery internal)\n   * @param {Element[]} elems\n   * @returns {jQCollection}\n   */\n  pushStack(elems) {\n    return pushStack(elems, this);\n  }\n  \n  /**\n   * Create a function bound to this object\n   * Used internally for callbacks\n   * @param {Function} fn\n   * @returns {Function}\n   */\n  _bind(fn) {\n    const collection = this;\n    return function(...args) {\n      return fn.apply(collection, args);\n    };\n  }\n}\n\n// Make it array-like for iteration\njQCollection.prototype[Symbol.iterator] = function* () {\n  for (let i = 0; i < this.length; i++) {\n    yield this[i];\n  }\n};\n\n/**\n * Filter/not helper - jQuery's winnow function\n * @param {jQCollection} elements\n * @param {*} qualifier\n * @param {boolean} not\n * @returns {Element[]}\n */\nfunction winnow(elements, qualifier, not) {\n  // Handle null/undefined qualifier\n  if (qualifier == null) {\n    return not ? Array.prototype.slice.call(elements) : [];\n  }\n  \n  // Ensure elements is array-like\n  if (!elements || typeof elements.length !== 'number') {\n    return [];\n  }\n  \n  // Single element\n  if (isElement(qualifier)) {\n    return Array.prototype.filter.call(elements, elem =>\n      (elem === qualifier) !== not\n    );\n  }\n  \n  // Function\n  if (isFunction(qualifier)) {\n    return Array.prototype.filter.call(elements, (elem, i) =>\n      !!qualifier.call(elem, i, elem) !== not\n    );\n  }\n  \n  // Array of elements\n  if (isArrayLike(qualifier) && !isString(qualifier)) {\n    const qualArr = Array.from(qualifier);\n    const qualSet = new Set(qualArr);\n    return Array.prototype.filter.call(elements, elem =>\n      qualSet.has(elem) !== not\n    );\n  }\n  \n  // Selector string\n  if (isString(qualifier)) {\n    const elemArray = Array.prototype.slice.call(elements);\n    return elemArray.filter((elem, index) => {\n      if (!elem || !elem.matches) return not;\n      return matchesWithPseudo(elem, qualifier, index, elemArray) !== not;\n    });\n  }\n  \n  return [];\n}\n\nexport default jQCollection;","/**\n * jQNext - Deferred/Promise Utilities\n * jQuery-compatible Deferred implementation using native Promises\n */\n\nimport { isFunction } from './type.js';\nimport { extend } from './objects.js';\n\n/**\n * Create a Callbacks list\n * @param {string} options - Space-separated list of options\n * @returns {Object} - Callbacks list object\n */\nexport function Callbacks(options = '') {\n  const opts = {};\n  options.split(/\\s+/).forEach(flag => {\n    if (flag) opts[flag] = true;\n  });\n  \n  let list = [];\n  let firing = false;\n  let firingIndex = -1;\n  let memory = null;\n  let fired = false;\n  let locked = false;\n  \n  const fire = function() {\n    locked = locked || opts.once;\n    fired = firing = true;\n    \n    for (; firingIndex < list.length; firingIndex++) {\n      const fn = list[firingIndex];\n      if (fn && typeof fn === 'function') {\n        if (fn.apply(memory[0], memory[1]) === false && opts.stopOnFalse) {\n          memory = false;\n          break;\n        }\n      }\n    }\n    \n    firing = false;\n    \n    if (locked) {\n      if (memory) {\n        list = [];\n      } else {\n        list = '';\n      }\n    }\n  };\n  \n  const self = {\n    add: function(...args) {\n      if (list) {\n        // Save starting position for memory-triggered fire\n        const firingStart = list.length;\n        \n        const addToList = (arg) => {\n          if (isFunction(arg)) {\n            if (!opts.unique || !self.has(arg)) {\n              list.push(arg);\n            }\n          } else if (Array.isArray(arg)) {\n            arg.forEach(addToList);\n          }\n        };\n        \n        args.forEach(addToList);\n        \n        if (memory && !firing) {\n          // Reset firingIndex to point just before the new callbacks\n          // so the loop starts at the first newly added callback\n          firingIndex = firingStart - 1;\n          fire();\n        }\n      }\n      return this;\n    },\n    \n    remove: function(...args) {\n      args.forEach(arg => {\n        let index;\n        while ((index = list.indexOf(arg)) > -1) {\n          list.splice(index, 1);\n          if (index <= firingIndex) {\n            firingIndex--;\n          }\n        }\n      });\n      return this;\n    },\n    \n    has: function(fn) {\n      return fn ? list.indexOf(fn) > -1 : list.length > 0;\n    },\n    \n    empty: function() {\n      if (list) {\n        list = [];\n      }\n      return this;\n    },\n    \n    disable: function() {\n      locked = list = memory = null;\n      return this;\n    },\n    \n    disabled: function() {\n      return !list;\n    },\n    \n    lock: function() {\n      locked = true;\n      if (!memory) {\n        self.disable();\n      }\n      return this;\n    },\n    \n    locked: function() {\n      return !!locked;\n    },\n    \n    fireWith: function(context, args) {\n      if (list) {\n        if (fired && !firing) {\n          if (!opts.memory) {\n            return this;\n          }\n        }\n        \n        memory = [context, args || []];\n        firingIndex = -1;\n        \n        if (!firing) {\n          fire();\n        }\n      }\n      return this;\n    },\n    \n    fire: function(...args) {\n      self.fireWith(this, args);\n      return this;\n    },\n    \n    fired: function() {\n      return !!fired;\n    }\n  };\n  \n  return self;\n}\n\n/**\n * Create a new Deferred object\n * @param {Function} [func] - Function to call with the deferred\n * @returns {Object} - Deferred object\n */\nexport function Deferred(func) {\n  const tuples = [\n    // action, add listener, callbacks, final state\n    ['resolve', 'done', Callbacks('once memory'), 'resolved'],\n    ['reject', 'fail', Callbacks('once memory'), 'rejected'],\n    ['notify', 'progress', Callbacks('memory')]\n  ];\n  \n  let state = 'pending';\n  \n  const promise = {\n    state: function() {\n      return state;\n    },\n    \n    always: function(...fns) {\n      deferred.done(...fns).fail(...fns);\n      return this;\n    },\n    \n    catch: function(fn) {\n      return promise.then(null, fn);\n    },\n    \n    pipe: function(/* fnDone, fnFail, fnProgress */) {\n      // Deprecated in jQuery, but still supported\n      return this.then.apply(this, arguments);\n    },\n    \n    then: function(onFulfilled, onRejected, onProgress) {\n      let maxDepth = 0;\n      \n      function resolve(depth, deferred, handler, special) {\n        return function() {\n          let context = this;\n          let callArgs = Array.prototype.slice.call(arguments);\n          \n          function mightThrow() {\n            let returned, then;\n            \n            // Support: Promises/A+ section 2.3.3.3.3\n            if (depth < maxDepth) {\n              return;\n            }\n            \n            returned = handler.apply(context, callArgs);\n            \n            // Support: Promises/A+ section 2.3.1\n            if (returned === deferred.promise()) {\n              throw new TypeError('Thenable self-resolution');\n            }\n            \n            // Support: Promises/A+ sections 2.3.3.1, 3.5\n            then = returned &&\n              (typeof returned === 'object' || typeof returned === 'function') &&\n              returned.then;\n            \n            // Handle a returned thenable\n            if (isFunction(then)) {\n              // Special processors (notify) just wait for resolution\n              if (special) {\n                then.call(\n                  returned,\n                  resolve(maxDepth, deferred, identity, special),\n                  resolve(maxDepth, deferred, thrower, special)\n                );\n              } else {\n                maxDepth++;\n                then.call(\n                  returned,\n                  resolve(maxDepth, deferred, identity, special),\n                  resolve(maxDepth, deferred, thrower, special),\n                  resolve(maxDepth, deferred, identity, deferred.notifyWith)\n                );\n              }\n            } else {\n              if (handler !== identity) {\n                context = undefined;\n                callArgs = [returned];\n              }\n              (special || deferred.resolveWith)(context, callArgs);\n            }\n          }\n          \n          // Only normal processors (resolve) catch and reject exceptions\n          const process = special\n            ? mightThrow\n            : function() {\n                try {\n                  mightThrow();\n                } catch (e) {\n                  if (depth + 1 >= maxDepth) {\n                    context = undefined;\n                    callArgs = [e];\n                    deferred.rejectWith(context, callArgs);\n                  }\n                }\n              };\n          \n          // Execute the process\n          if (depth) {\n            process();\n          } else {\n            setTimeout(process);\n          }\n        };\n      }\n      \n      return Deferred(function(newDefer) {\n        // progress handlers\n        tuples[2][2].add(\n          resolve(0, newDefer, isFunction(onProgress) ? onProgress : identity, newDefer.notifyWith)\n        );\n        \n        // done handlers\n        tuples[0][2].add(\n          resolve(0, newDefer, isFunction(onFulfilled) ? onFulfilled : identity)\n        );\n        \n        // fail handlers\n        tuples[1][2].add(\n          resolve(0, newDefer, isFunction(onRejected) ? onRejected : thrower)\n        );\n      }).promise();\n    },\n    \n    promise: function(obj) {\n      return obj != null ? extend(obj, promise) : promise;\n    }\n  };\n  \n  const deferred = {};\n  \n  // Add list-specific methods\n  tuples.forEach((tuple, i) => {\n    const list = tuple[2];\n    const stateString = tuple[3];\n    \n    // promise.progress = list.add\n    // promise.done = list.add\n    // promise.fail = list.add\n    promise[tuple[1]] = list.add;\n    \n    // Handle state\n    if (stateString) {\n      list.add(\n        function() {\n          state = stateString;\n        },\n        // Disable opposite callback list\n        tuples[i ^ 1][2].disable,\n        // Lock progress callback\n        tuples[2][2].lock\n      );\n    }\n    \n    list.add(tuple[4]);\n    \n    // deferred.resolve = function()\n    // deferred.reject = function()\n    // deferred.notify = function()\n    deferred[tuple[0]] = function(...args) {\n      deferred[tuple[0] + 'With'](this === deferred ? undefined : this, args);\n      return this;\n    };\n    \n    // deferred.resolveWith = list.fireWith\n    // deferred.rejectWith = list.fireWith\n    // deferred.notifyWith = list.fireWith\n    deferred[tuple[0] + 'With'] = list.fireWith;\n  });\n  \n  // Make the deferred a promise\n  promise.promise(deferred);\n  \n  // Call given func if any\n  if (func) {\n    func.call(deferred, deferred);\n  }\n  \n  return deferred;\n}\n\n/**\n * Resolve multiple deferreds/values\n * @param {...*} args - Deferreds or values\n * @returns {Promise} - Master promise\n */\nexport function when(...args) {\n  const subordinates = args.slice();\n  const length = subordinates.length;\n  \n  // The count of uncompleted subordinates\n  let remaining = length !== 1 || (subordinates[0] && isFunction(subordinates[0].promise))\n    ? length\n    : 0;\n  \n  // The master Deferred\n  const deferred = remaining === 1 ? subordinates[0] : Deferred();\n  \n  // Update function for resolve values\n  const updateFunc = function(i, context, values) {\n    return function(value) {\n      context[i] = this;\n      values[i] = arguments.length > 1 ? Array.from(arguments) : value;\n      if (values === progressContexts) {\n        deferred.notifyWith(context, values);\n      } else if (!(--remaining)) {\n        deferred.resolveWith(context, values);\n      }\n    };\n  };\n  \n  let progressContexts, progressValues, resolveContexts, resolveValues;\n  \n  // Add listeners to Deferred subordinates\n  if (length > 1) {\n    progressContexts = new Array(length);\n    progressValues = new Array(length);\n    resolveContexts = new Array(length);\n    resolveValues = new Array(length);\n    \n    for (let i = 0; i < length; i++) {\n      if (subordinates[i] && isFunction(subordinates[i].promise)) {\n        subordinates[i].promise()\n          .progress(updateFunc(i, progressContexts, progressValues))\n          .done(updateFunc(i, resolveContexts, resolveValues))\n          .fail(deferred.reject);\n      } else {\n        --remaining;\n      }\n    }\n  }\n  \n  // If we're not waiting on anything, resolve the master\n  if (!remaining) {\n    deferred.resolveWith(resolveContexts, resolveValues);\n  }\n  \n  return deferred.promise();\n}\n\n// Helper functions\nfunction identity(v) {\n  return v;\n}\n\nfunction thrower(ex) {\n  throw ex;\n}\n\nexport default {\n  Callbacks,\n  Deferred,\n  when\n};","/**\n * jQNext - Events Core\n * Event binding, delegation, and triggering with namespace support\n */\n\nimport { isFunction, isString, isPlainObject } from '../utilities/type.js';\nimport { setInternalData, getInternalData, removeInternalData } from '../core/data.js';\nimport { matchesWithPseudo } from '../selectors/pseudo.js';\n\n// Event handler storage using WeakMap\nconst handlersStorage = new WeakMap();\n\n// Special event types that need different handling\nexport const special = {\n  // Focus/blur don't bubble, use focusin/focusout\n  focus: {\n    trigger: function() {\n      if (this !== document.activeElement && this.focus) {\n        this.focus();\n        return false;\n      }\n    },\n    delegateType: 'focusin'\n  },\n  blur: {\n    trigger: function() {\n      if (this === document.activeElement && this.blur) {\n        this.blur();\n        return false;\n      }\n    },\n    delegateType: 'focusout'\n  },\n  // Click for checkbox/radio needs special handling\n  click: {\n    trigger: function() {\n      if (this.type === 'checkbox' && this.click && this.nodeName.toLowerCase() === 'input') {\n        this.click();\n        return false;\n      }\n    },\n    _default: function(event) {\n      return event.target.nodeName.toLowerCase() === 'a';\n    }\n  },\n  // Submit needs special handling to trigger native form submission\n  submit: {\n    trigger: function() {\n      if (this.nodeName && this.nodeName.toLowerCase() === 'form' && typeof this.submit === 'function') {\n        this.submit();\n        return false;\n      }\n    },\n    _default: function(event) {\n      return event.target.nodeName && event.target.nodeName.toLowerCase() === 'form';\n    }\n  },\n  // Mouseenter/leave don't bubble, simulate with mouseover/out\n  mouseenter: {\n    delegateType: 'mouseover',\n    handle: function(event) {\n      const related = event.relatedTarget;\n      const target = event.currentTarget;\n      \n      if (!related || (related !== target && !target.contains(related))) {\n        return event.handleObj.handler.apply(this, arguments);\n      }\n    }\n  },\n  mouseleave: {\n    delegateType: 'mouseout',\n    handle: function(event) {\n      const related = event.relatedTarget;\n      const target = event.currentTarget;\n      \n      if (!related || (related !== target && !target.contains(related))) {\n        return event.handleObj.handler.apply(this, arguments);\n      }\n    }\n  },\n  // Focusin/focusout are handled natively in modern browsers\n  focusin: {\n    setup: function() {\n      return false; // Use native\n    }\n  },\n  focusout: {\n    setup: function() {\n      return false; // Use native\n    }\n  }\n};\n\n/**\n * Parse event type string with namespaces\n * @param {string} types - Event type(s) with optional namespaces (e.g., 'click.ns1.ns2')\n * @returns {Array} - Array of { type, namespaces } objects\n */\nexport function parseEventTypes(types) {\n  const result = [];\n  \n  // Handle non-string types\n  if (typeof types !== 'string') {\n    if (types && typeof types === 'object' && types.type) {\n      // It's an event object\n      return [{ type: types.type, namespaces: [], namespace: '', origType: types.type }];\n    }\n    return result;\n  }\n  \n  const typeArr = types.split(/\\s+/).filter(Boolean);\n  \n  typeArr.forEach(type => {\n    const parts = type.split('.');\n    const eventType = parts[0];\n    const namespaces = parts.slice(1).sort();\n    \n    result.push({\n      type: eventType,\n      namespaces,\n      namespace: namespaces.join('.'),\n      origType: type\n    });\n  });\n  \n  return result;\n}\n\n/**\n * Get or create handlers object for an element\n * @param {Element} elem\n * @returns {Object}\n */\nfunction getHandlers(elem) {\n  let handlers = handlersStorage.get(elem);\n  if (!handlers) {\n    handlers = { events: {}, handle: null };\n    handlersStorage.set(elem, handlers);\n  }\n  return handlers;\n}\n\n/**\n * Create a unified event handler function\n * @param {Element} elem\n * @returns {Function}\n */\nfunction createHandler(elem) {\n  const handlers = getHandlers(elem);\n  \n  if (handlers.handle) {\n    return handlers.handle;\n  }\n  \n  handlers.handle = function(nativeEvent) {\n    // Create jQuery-like event object\n    const event = fixEvent(nativeEvent);\n    \n    // Get handlers for this event type\n    const typeHandlers = handlers.events[event.type] || [];\n    \n    // Copy to avoid modification during iteration\n    const handlersCopy = typeHandlers.slice();\n    \n    for (let i = 0; i < handlersCopy.length; i++) {\n      const handleObj = handlersCopy[i];\n      \n      // Check namespace match\n      if (event.namespace && !event.namespace.split('.').every(ns => \n        handleObj.namespace.includes(ns))) {\n        continue;\n      }\n      \n      // Check selector (delegation)\n      let target;\n      \n      if (handleObj.selector) {\n        // Find matching delegated target (use pseudo-aware matching)\n        target = event.target;\n        while (target && target !== elem) {\n          if (target.nodeType === 1 && matchesWithPseudo(target, handleObj.selector)) {\n            break;\n          }\n          target = target.parentNode;\n        }\n        \n        if (target === elem) {\n          continue; // No match found\n        }\n        \n        event.currentTarget = target;\n      } else {\n        // For non-delegated events, this should be the element the handler is bound to\n        target = elem;\n        event.currentTarget = elem;\n      }\n      \n      event.handleObj = handleObj;\n      event.data = handleObj.data;\n      \n      // Call the handler\n      let result;\n      \n      // Build arguments: event + any extra args from trigger\n      const extraArgs = event._extraArgs || [];\n      const args = [event].concat(extraArgs);\n      \n      // Check for special handler\n      const specialHandle = special[handleObj.origType]?.handle;\n      if (specialHandle) {\n        result = specialHandle.apply(target || elem, args);\n      }\n      \n      if (result === undefined) {\n        result = handleObj.handler.apply(target || elem, args);\n      }\n      \n      if (result !== undefined) {\n        event.result = result;\n        if (result === false) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }\n      \n      if (event.isImmediatePropagationStopped()) {\n        break;\n      }\n    }\n    \n    return event.result;\n  };\n  \n  return handlers.handle;\n}\n\n/**\n * Fix native event to jQuery-like event\n * @param {Event} nativeEvent\n * @returns {Object}\n */\nfunction fixEvent(nativeEvent) {\n  // If already fixed, return\n  if (nativeEvent._fixed) {\n    return nativeEvent;\n  }\n  \n  const event = {\n    originalEvent: nativeEvent,\n    _fixed: true,\n    type: nativeEvent.type,\n    target: nativeEvent.target,\n    currentTarget: nativeEvent.currentTarget,\n    relatedTarget: nativeEvent.relatedTarget,\n    timeStamp: nativeEvent.timeStamp || Date.now(),\n    namespace: '',\n    result: undefined,\n    handleObj: null,\n    data: null,\n    \n    // Copy common properties\n    button: nativeEvent.button,\n    buttons: nativeEvent.buttons,\n    which: nativeEvent.which || nativeEvent.keyCode || nativeEvent.charCode,\n    keyCode: nativeEvent.keyCode,\n    charCode: nativeEvent.charCode,\n    key: nativeEvent.key,\n    code: nativeEvent.code,\n    altKey: nativeEvent.altKey,\n    ctrlKey: nativeEvent.ctrlKey,\n    metaKey: nativeEvent.metaKey,\n    shiftKey: nativeEvent.shiftKey,\n    clientX: nativeEvent.clientX,\n    clientY: nativeEvent.clientY,\n    pageX: nativeEvent.pageX,\n    pageY: nativeEvent.pageY,\n    screenX: nativeEvent.screenX,\n    screenY: nativeEvent.screenY,\n    offsetX: nativeEvent.offsetX,\n    offsetY: nativeEvent.offsetY,\n    detail: nativeEvent.detail,\n    \n    // State\n    _isDefaultPrevented: false,\n    _isPropagationStopped: false,\n    _isImmediatePropagationStopped: false,\n    \n    // Methods\n    preventDefault: function() {\n      this._isDefaultPrevented = true;\n      nativeEvent.preventDefault();\n    },\n    stopPropagation: function() {\n      this._isPropagationStopped = true;\n      nativeEvent.stopPropagation();\n    },\n    stopImmediatePropagation: function() {\n      this._isImmediatePropagationStopped = true;\n      this._isPropagationStopped = true;\n      nativeEvent.stopImmediatePropagation();\n    },\n    isDefaultPrevented: function() {\n      return this._isDefaultPrevented || nativeEvent.defaultPrevented;\n    },\n    isPropagationStopped: function() {\n      return this._isPropagationStopped;\n    },\n    isImmediatePropagationStopped: function() {\n      return this._isImmediatePropagationStopped;\n    }\n  };\n  \n  // Calculate pageX/pageY if missing\n  if (event.pageX == null && nativeEvent.clientX != null) {\n    const doc = nativeEvent.target?.ownerDocument || document;\n    const docElem = doc.documentElement;\n    const body = doc.body;\n    \n    event.pageX = nativeEvent.clientX + \n      (docElem?.scrollLeft || body?.scrollLeft || 0) - \n      (docElem?.clientLeft || body?.clientLeft || 0);\n    event.pageY = nativeEvent.clientY + \n      (docElem?.scrollTop || body?.scrollTop || 0) - \n      (docElem?.clientTop || body?.clientTop || 0);\n  }\n  \n  // Add which for click events\n  if (!event.which && nativeEvent.button !== undefined) {\n    event.which = (nativeEvent.button & 1 ? 1 : \n                   (nativeEvent.button & 2 ? 3 : \n                   (nativeEvent.button & 4 ? 2 : 0)));\n  }\n  \n  return event;\n}\n\n/**\n * Bind event handler(s)\n * @param {jQCollection} collection\n * @param {string} types - Event type(s)\n * @param {string|Object|Function} selector - Selector for delegation, or data, or handler\n * @param {Object|Function} [data] - Data to pass to handler, or handler\n * @param {Function} [fn] - Handler function\n * @param {boolean} [one=false] - Only trigger once\n * @returns {jQCollection}\n */\nexport function on(collection, types, selector, data, fn, one = false) {\n  // Handle object signature: on({ type: handler }, selector, data)\n  if (isPlainObject(types)) {\n    if (isString(selector)) {\n      // on({ type: handler }, selector)\n      data = data || null;\n    } else {\n      // on({ type: handler }, data)\n      data = selector;\n      selector = undefined;\n    }\n    \n    for (const type in types) {\n      on(collection, type, selector, data, types[type], one);\n    }\n    return collection;\n  }\n  \n  // Normalize arguments\n  if (data == null && fn == null) {\n    // on(types, fn)\n    fn = selector;\n    data = selector = undefined;\n  } else if (fn == null) {\n    if (isString(selector)) {\n      // on(types, selector, fn)\n      fn = data;\n      data = undefined;\n    } else {\n      // on(types, data, fn)\n      fn = data;\n      data = selector;\n      selector = undefined;\n    }\n  }\n  \n  if (fn === false) {\n    fn = returnFalse;\n  } else if (!fn) {\n    return collection;\n  }\n  \n  // Handle one-time binding\n  if (one) {\n    const origFn = fn;\n    fn = function(event) {\n      off(collection, event);\n      return origFn.apply(this, arguments);\n    };\n    fn.guid = origFn.guid || (origFn.guid = on.guid++);\n  }\n  \n  return collection.each(function() {\n    addHandler(this, types, fn, data, selector);\n  });\n}\n\non.guid = 1;\n\n/**\n * Add handler to element\n */\nfunction addHandler(elem, types, handler, data, selector) {\n  const parsedTypes = parseEventTypes(types);\n  const handlers = getHandlers(elem);\n  const elemHandle = createHandler(elem);\n  \n  // Assign guid to handler if not present\n  if (!handler.guid) {\n    handler.guid = on.guid++;\n  }\n  \n  parsedTypes.forEach(({ type, namespaces, namespace, origType }) => {\n    // Get special handling\n    const specialType = special[type];\n    \n    // Determine the actual event type to listen for\n    const bindType = selector && specialType?.delegateType || type;\n    \n    // Create handler object\n    const handleObj = {\n      type: bindType,\n      origType: type,\n      handler,\n      data,\n      selector,\n      namespace,\n      namespaces,\n      guid: handler.guid\n    };\n    \n    // Call special add callback (used by plugins like jquery.hotkeys)\n    // This allows plugins to modify handleObj (e.g., wrap the handler)\n    specialType?.add?.call(elem, handleObj);\n    \n    // Initialize handlers array for this type if needed\n    if (!handlers.events[bindType]) {\n      handlers.events[bindType] = [];\n      \n      // Check for special setup\n      if (!specialType?.setup?.call(elem, data, namespaces, elemHandle)) {\n        // Use addEventListener\n        elem.addEventListener(bindType, elemHandle, false);\n      }\n    }\n    \n    handlers.events[bindType].push(handleObj);\n  });\n}\n\n/**\n * Remove event handler(s)\n * @param {jQCollection} collection\n * @param {string|Object} [types]\n * @param {string|Function} [selector]\n * @param {Function} [fn]\n * @returns {jQCollection}\n */\nexport function off(collection, types, selector, fn) {\n  // Handle object signature\n  if (types && types.handleObj) {\n    // off(event) - called from one-time handler\n    const event = types;\n    // Directly call removeHandler instead of recursively calling off\n    // since we don't have a real collection with .each()\n    removeHandler(event.currentTarget, event.handleObj.origType,\n        event.handleObj.handler, event.handleObj.selector);\n    return collection;\n  }\n  \n  if (isPlainObject(types)) {\n    for (const type in types) {\n      off(collection, type, selector, types[type]);\n    }\n    return collection;\n  }\n  \n  // Normalize arguments\n  if (selector === false || isFunction(selector)) {\n    fn = selector;\n    selector = undefined;\n  }\n  \n  if (fn === false) {\n    fn = returnFalse;\n  }\n  \n  return collection.each(function() {\n    removeHandler(this, types, fn, selector);\n  });\n}\n\n/**\n * Remove handler from element\n */\nfunction removeHandler(elem, types, handler, selector) {\n  const handlers = handlersStorage.get(elem);\n  if (!handlers) return;\n  \n  // If no types specified, remove all\n  if (!types) {\n    for (const type in handlers.events) {\n      removeByType(elem, handlers, type, handler, selector);\n    }\n    return;\n  }\n  \n  const parsedTypes = parseEventTypes(types);\n  \n  parsedTypes.forEach(({ type, namespace }) => {\n    // Remove for specific type or all types if type is empty\n    const typesToRemove = type ? [type] : Object.keys(handlers.events);\n    \n    typesToRemove.forEach(t => {\n      removeByType(elem, handlers, t, handler, selector, namespace);\n    });\n  });\n}\n\n/**\n * Remove handlers by type\n */\nfunction removeByType(elem, handlers, type, handler, selector, namespace) {\n  const events = handlers.events[type];\n  if (!events) return;\n  \n  const remaining = events.filter(handleObj => {\n    // Check if this handler should be removed\n    if (handler && handleObj.guid !== handler.guid) {\n      return true;\n    }\n    if (selector && handleObj.selector !== selector) {\n      return true;\n    }\n    if (namespace) {\n      const nsArray = namespace.split('.');\n      if (!nsArray.every(ns => handleObj.namespaces.includes(ns))) {\n        return true;\n      }\n    }\n    return false;\n  });\n  \n  handlers.events[type] = remaining;\n  \n  // Remove listener if no handlers left\n  if (!remaining.length) {\n    const specialType = special[type];\n    \n    if (!specialType?.teardown?.call(elem, namespace, handlers.handle)) {\n      elem.removeEventListener(type, handlers.handle, false);\n    }\n    \n    delete handlers.events[type];\n  }\n}\n\n/**\n * Bind one-time event handler\n * @param {jQCollection} collection\n * @param {string} types\n * @param {string|Object|Function} selector\n * @param {Object|Function} [data]\n * @param {Function} [fn]\n * @returns {jQCollection}\n */\nexport function one(collection, types, selector, data, fn) {\n  return on(collection, types, selector, data, fn, true);\n}\n\n/**\n * Trigger an event\n * @param {jQCollection} collection\n * @param {string|Event} event\n * @param {*} [data]\n * @returns {jQCollection}\n */\nexport function trigger(collection, event, data) {\n  return collection.each(function() {\n    triggerEvent(this, event, data, true);\n  });\n}\n\n/**\n * Trigger handler without bubbling\n * @param {jQCollection} collection\n * @param {string|Event} event\n * @param {*} [data]\n * @returns {*}\n */\nexport function triggerHandler(collection, event, data) {\n  const elem = collection[0];\n  if (elem) {\n    return triggerEvent(elem, event, data, false);\n  }\n}\n\n/**\n * Core trigger function\n */\nfunction triggerEvent(elem, event, data, propagate) {\n  const eventType = isString(event) ? event : event.type;\n  const parsedTypes = parseEventTypes(eventType);\n  \n  if (!parsedTypes.length) return;\n  \n  const { type, namespace, origType } = parsedTypes[0];\n  \n  // Check special trigger\n  const specialTrigger = special[type]?.trigger;\n  if (specialTrigger?.call(elem, data) === false) {\n    return;\n  }\n  \n  // Create event object\n  let eventObj;\n  \n  // Check if it's a jQuery-like event (has isDefaultPrevented method)\n  const isJQueryEvent = event && typeof event.isDefaultPrevented === 'function';\n  \n  if (isJQueryEvent) {\n    // Already a jQuery-like event object, use it directly\n    eventObj = event;\n    // Ensure target is set\n    if (!eventObj.target) {\n      eventObj.target = elem;\n    }\n  } else if (isPlainObject(event) || event instanceof Event) {\n    eventObj = fixEvent(event instanceof Event ? event : { type, target: elem, ...event });\n  } else {\n    eventObj = fixEvent(new CustomEvent(type, {\n      bubbles: propagate,\n      cancelable: true,\n      detail: data\n    }));\n  }\n  \n  eventObj.type = type;\n  eventObj.namespace = namespace;\n  \n  // Ensure target is always set (CustomEvent doesn't have target until dispatched)\n  if (!eventObj.target) {\n    eventObj.target = elem;\n  }\n  \n  // Store extra arguments for handlers (jQuery compatibility)\n  // data can be an array that should be spread as extra args\n  eventObj._extraArgs = data != null ? (Array.isArray(data) ? data : [data]) : [];\n  \n  // Trigger on element\n  const handlers = handlersStorage.get(elem);\n  if (handlers?.handle) {\n    handlers.handle(eventObj);\n  }\n  \n  // Propagate to parent if needed\n  if (propagate && !eventObj.isPropagationStopped() && elem.parentNode) {\n    triggerEvent(elem.parentNode, eventObj, data, true);\n  }\n  \n  // Trigger native event if applicable\n  if (propagate && !eventObj.isDefaultPrevented()) {\n    const nativeEventName = 'on' + type;\n    if (elem[nativeEventName] && isFunction(elem[type])) {\n      // Temporarily prevent re-triggering\n      const old = elem[nativeEventName];\n      elem[nativeEventName] = null;\n      elem[type]();\n      elem[nativeEventName] = old;\n    }\n  }\n  \n  return eventObj.result;\n}\n\n/**\n * Helper function that returns false\n */\nfunction returnFalse() {\n  return false;\n}\n\n/**\n * Helper function that returns true\n */\nfunction returnTrue() {\n  return true;\n}\n\n/**\n * Clone event handlers from one element to another\n * @param {Element} source - Source element\n * @param {Element} dest - Destination element\n */\nexport function cloneHandlers(source, dest) {\n  const sourceHandlers = handlersStorage.get(source);\n  if (!sourceHandlers || !sourceHandlers.events) return;\n  \n  // Get or create handlers for dest\n  const destHandlers = getHandlers(dest);\n  const destHandle = createHandler(dest);\n  \n  // Clone each event type\n  for (const type in sourceHandlers.events) {\n    const typeHandlers = sourceHandlers.events[type];\n    \n    if (!destHandlers.events[type]) {\n      destHandlers.events[type] = [];\n      // Add event listener on dest\n      dest.addEventListener(type, destHandle, false);\n    }\n    \n    // Clone each handler object\n    typeHandlers.forEach(handleObj => {\n      const clonedHandleObj = {\n        type: handleObj.type,\n        origType: handleObj.origType,\n        handler: handleObj.handler,\n        data: handleObj.data,\n        selector: handleObj.selector,\n        namespace: handleObj.namespace,\n        namespaces: handleObj.namespaces ? handleObj.namespaces.slice() : [],\n        guid: handleObj.guid\n      };\n      \n      destHandlers.events[type].push(clonedHandleObj);\n    });\n  }\n}\n\nexport default {\n  on,\n  off,\n  one,\n  trigger,\n  triggerHandler,\n  special,\n  parseEventTypes,\n  cloneHandlers\n};","/**\n * jQNext - DOM Manipulation\n * Insert, remove, wrap, clone methods\n */\n\nimport { isString, isFunction, isElement } from '../utilities/type.js';\nimport { parseHTML } from '../utilities/strings.js';\nimport { cleanData, getDataValue, setData } from '../core/data.js';\nimport { matchesWithPseudo } from '../selectors/pseudo.js';\nimport { cloneHandlers } from '../events/core.js';\n\n/**\n * Get the document for an element\n * @param {Element} elem\n * @returns {Document}\n */\nfunction getDocument(elem) {\n  return elem.ownerDocument || elem;\n}\n\n/**\n * Convert argument to nodes\n * @param {string|Element|NodeList|Array} content\n * @param {Document} doc\n * @returns {Node[]}\n */\nfunction toNodes(content, doc = document) {\n  if (isString(content)) {\n    return parseHTML(content, doc, true);\n  }\n  if (content instanceof Node) {\n    return [content];\n  }\n  // Handle jQuery-like collections (array-like with elements)\n  if (content && content.length !== undefined) {\n    const arr = [];\n    for (let i = 0; i < content.length; i++) {\n      const item = content[i];\n      if (item instanceof Node) {\n        arr.push(item);\n      }\n    }\n    // Only return nodes that are valid - don't include non-Nodes\n    return arr;\n  }\n  return [];\n}\n\n/**\n * Insert nodes relative to target\n * @param {Element} target\n * @param {Node[]} nodes\n * @param {string} position - 'beforebegin', 'afterbegin', 'beforeend', 'afterend'\n */\nfunction insertNodes(target, nodes, position) {\n  const parent = target.parentNode;\n  \n  nodes.forEach(node => {\n    switch (position) {\n      case 'beforebegin':\n        parent.insertBefore(node, target);\n        break;\n      case 'afterbegin':\n        target.insertBefore(node, target.firstChild);\n        break;\n      case 'beforeend':\n        target.appendChild(node);\n        break;\n      case 'afterend':\n        parent.insertBefore(node, target.nextSibling);\n        break;\n    }\n  });\n}\n\n/**\n * Get/set innerHTML\n * @param {jQCollection} collection\n * @param {string|Function} [value]\n * @returns {string|jQCollection}\n */\nexport function html(collection, value) {\n  // Getter\n  if (value === undefined) {\n    const elem = collection[0];\n    return elem ? elem.innerHTML : undefined;\n  }\n  \n  // Setter\n  return collection.each(function(i) {\n    const oldHtml = this.innerHTML;\n    \n    // Clean up events/data on children\n    cleanData(Array.from(this.getElementsByTagName('*')));\n    \n    // Set new content\n    const newValue = isFunction(value) ? value.call(this, i, oldHtml) : value;\n    \n    // Handle jQuery-like collections (object with length and elements)\n    if (newValue && typeof newValue === 'object' && newValue.length !== undefined && !(newValue instanceof Node)) {\n      // It's a collection - empty and append each element\n      this.textContent = '';\n      for (let j = 0; j < newValue.length; j++) {\n        const node = newValue[j];\n        if (node instanceof Node) {\n          this.appendChild(node.cloneNode ? node.cloneNode(true) : node);\n        }\n      }\n      return;\n    }\n    \n    try {\n      this.innerHTML = newValue;\n    } catch (e) {\n      // Fall back to DOM manipulation for problematic HTML\n      this.textContent = '';\n      const nodes = parseHTML(newValue, getDocument(this), true);\n      nodes.forEach(node => this.appendChild(node));\n    }\n  });\n}\n\n/**\n * Get/set textContent\n * @param {jQCollection} collection\n * @param {string|Function} [value]\n * @returns {string|jQCollection}\n */\nexport function text(collection, value) {\n  // Getter\n  if (value === undefined) {\n    let result = '';\n    for (let i = 0; i < collection.length; i++) {\n      const elem = collection[i];\n      const nodeType = elem.nodeType;\n      \n      if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n        result += elem.textContent;\n      } else if (nodeType === 3 || nodeType === 4) {\n        result += elem.nodeValue;\n      }\n    }\n    return result;\n  }\n  \n  // Setter\n  return collection.each(function(i) {\n    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n      const newValue = isFunction(value) ? value.call(this, i, this.textContent) : value;\n      this.textContent = newValue;\n    }\n  });\n}\n\n/**\n * Append content to each element\n * @param {jQCollection} collection\n * @param {...*} content - Content to append\n * @returns {jQCollection}\n */\nexport function append(collection, ...content) {\n  return domManip(collection, content, function(elem) {\n    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n      this.appendChild(elem);\n    }\n  });\n}\n\n/**\n * Prepend content to each element\n * @param {jQCollection} collection\n * @param {...*} content\n * @returns {jQCollection}\n */\nexport function prepend(collection, ...content) {\n  return domManip(collection, content, function(elem) {\n    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {\n      this.insertBefore(elem, this.firstChild);\n    }\n  });\n}\n\n/**\n * Insert content before each element\n * @param {jQCollection} collection\n * @param {...*} content\n * @returns {jQCollection}\n */\nexport function before(collection, ...content) {\n  return domManip(collection, content, function(elem) {\n    if (this.parentNode) {\n      this.parentNode.insertBefore(elem, this);\n    }\n  });\n}\n\n/**\n * Insert content after each element\n * @param {jQCollection} collection\n * @param {...*} content\n * @returns {jQCollection}\n */\nexport function after(collection, ...content) {\n  return domManip(collection, content, function(elem) {\n    if (this.parentNode) {\n      this.parentNode.insertBefore(elem, this.nextSibling);\n    }\n  });\n}\n\n/**\n * DOM manipulation core function\n * @param {jQCollection} collection\n * @param {Array} args\n * @param {Function} callback\n * @returns {jQCollection}\n */\nfunction domManip(collection, args, callback) {\n  const doc = getDocument(collection[0] || document);\n  \n  // Pre-parse non-function arguments into nodes (will be cloned per element)\n  const staticArgs = [];\n  const funcArgs = [];\n  \n  args.forEach((arg, idx) => {\n    if (isFunction(arg)) {\n      funcArgs.push({ idx, fn: arg });\n    } else {\n      staticArgs.push({ idx, nodes: toNodes(arg, doc) });\n    }\n  });\n  \n  const len = collection.length;\n  \n  collection.each(function(i) {\n    const isLast = i === len - 1;\n    \n    // Build nodes array in argument order\n    const allNodes = [];\n    \n    // Process static args - clone for all except last element\n    staticArgs.forEach(({ nodes }) => {\n      nodes.forEach(node => {\n        allNodes.push(isLast ? node : node.cloneNode(true));\n      });\n    });\n    \n    // Process function args - always fresh nodes per element\n    funcArgs.forEach(({ fn }) => {\n      const result = fn.call(this, i, this.innerHTML);\n      const resultNodes = toNodes(result, doc);\n      // Function results are always used directly (fresh per element)\n      allNodes.push(...resultNodes);\n    });\n    \n    // Insert all nodes\n    allNodes.forEach(node => {\n      callback.call(this, node);\n    });\n  });\n  \n  return collection;\n}\n\n/**\n * Append elements to target\n * @param {jQCollection} collection\n * @param {string|Element|jQCollection} target\n * @returns {jQCollection}\n */\nexport function appendTo(collection, target, jQNext) {\n  jQNext(target).append(collection);\n  return collection;\n}\n\n/**\n * Prepend elements to target\n * @param {jQCollection} collection\n * @param {string|Element|jQCollection} target\n * @returns {jQCollection}\n */\nexport function prependTo(collection, target, jQNext) {\n  jQNext(target).prepend(collection);\n  return collection;\n}\n\n/**\n * Insert elements before target\n * @param {jQCollection} collection\n * @param {string|Element|jQCollection} target\n * @returns {jQCollection}\n */\nexport function insertBefore(collection, target, jQNext) {\n  jQNext(target).before(collection);\n  return collection;\n}\n\n/**\n * Insert elements after target\n * @param {jQCollection} collection\n * @param {string|Element|jQCollection} target\n * @returns {jQCollection}\n */\nexport function insertAfter(collection, target, jQNext) {\n  jQNext(target).after(collection);\n  return collection;\n}\n\n/**\n * Wrap each element with content\n * @param {jQCollection} collection\n * @param {string|Element|Function} wrapper\n * @returns {jQCollection}\n */\nexport function wrap(collection, wrapper, jQNext) {\n  const isFunc = isFunction(wrapper);\n  \n  return collection.each(function(i) {\n    const wrapperElem = isFunc ? wrapper.call(this, i) : wrapper;\n    const wrap = jQNext(wrapperElem).clone()[0];\n    \n    if (this.parentNode) {\n      this.parentNode.insertBefore(wrap, this);\n    }\n    \n    // Find the deepest child of the wrapper\n    let target = wrap;\n    while (target.firstElementChild) {\n      target = target.firstElementChild;\n    }\n    \n    target.appendChild(this);\n  });\n}\n\n/**\n * Wrap all elements together\n * @param {jQCollection} collection\n * @param {string|Element} wrapper\n * @returns {jQCollection}\n */\nexport function wrapAll(collection, wrapper, jQNext) {\n  if (!collection.length) return collection;\n  \n  const wrap = jQNext(wrapper).clone()[0];\n  \n  // Insert wrapper before first element\n  if (collection[0].parentNode) {\n    collection[0].parentNode.insertBefore(wrap, collection[0]);\n  }\n  \n  // Find deepest child\n  let target = wrap;\n  while (target.firstElementChild) {\n    target = target.firstElementChild;\n  }\n  \n  // Move all elements into wrapper\n  collection.each(function() {\n    target.appendChild(this);\n  });\n  \n  return collection;\n}\n\n/**\n * Wrap the inner contents of each element\n * @param {jQCollection} collection\n * @param {string|Element|Function} wrapper\n * @returns {jQCollection}\n */\nexport function wrapInner(collection, wrapper, jQNext) {\n  const isFunc = isFunction(wrapper);\n  \n  return collection.each(function(i) {\n    const self = jQNext(this);\n    const contents = self.contents();\n    \n    if (contents.length) {\n      contents.wrapAll(isFunc ? wrapper.call(this, i) : wrapper);\n    } else {\n      self.append(isFunc ? wrapper.call(this, i) : wrapper);\n    }\n  });\n}\n\n/**\n * Remove the parent wrapper from elements\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {jQCollection}\n */\nexport function unwrap(collection, selector) {\n  collection.parent(selector).not('body').each(function() {\n    const parent = this.parentNode;\n    if (parent) {\n      while (this.firstChild) {\n        parent.insertBefore(this.firstChild, this);\n      }\n      parent.removeChild(this);\n    }\n  });\n  \n  return collection;\n}\n\n/**\n * Remove all children\n * @param {jQCollection} collection\n * @returns {jQCollection}\n */\nexport function empty(collection) {\n  return collection.each(function() {\n    // Clean up data on children\n    cleanData(Array.from(this.getElementsByTagName('*')));\n    \n    // Remove children\n    while (this.firstChild) {\n      this.removeChild(this.firstChild);\n    }\n  });\n}\n\n/**\n * Remove elements from the DOM\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {jQCollection}\n */\nexport function remove(collection, selector) {\n  for (let i = 0; i < collection.length; i++) {\n    const elem = collection[i];\n    \n    // Skip if selector provided and doesn't match (use pseudo-aware matching)\n    if (selector && !matchesWithPseudo(elem, selector)) {\n      continue;\n    }\n    \n    // Clean up data and events\n    cleanData([elem]);\n    cleanData(Array.from(elem.getElementsByTagName('*')));\n    \n    // Remove from DOM\n    if (elem.parentNode) {\n      elem.parentNode.removeChild(elem);\n    }\n  }\n  \n  return collection;\n}\n\n/**\n * Remove elements but keep data and events\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {jQCollection}\n */\nexport function detach(collection, selector) {\n  for (let i = 0; i < collection.length; i++) {\n    const elem = collection[i];\n    \n    if (selector && !matchesWithPseudo(elem, selector)) {\n      continue;\n    }\n    \n    if (elem.parentNode) {\n      elem.parentNode.removeChild(elem);\n    }\n  }\n  \n  return collection;\n}\n\n/**\n * Replace elements with new content\n * @param {jQCollection} collection\n * @param {string|Element|Function} newContent\n * @returns {jQCollection}\n */\nexport function replaceWith(collection, newContent, jQNext) {\n  const isFunc = isFunction(newContent);\n  \n  return collection.each(function(i) {\n    const content = isFunc ? newContent.call(this, i, this) : newContent;\n    const nodes = toNodes(content, getDocument(this));\n    \n    if (this.parentNode) {\n      // Clean up\n      cleanData([this]);\n      cleanData(Array.from(this.getElementsByTagName('*')));\n      \n      // Insert new content\n      nodes.forEach((node, j) => {\n        if (j === 0) {\n          this.parentNode.replaceChild(node, this);\n        } else {\n          this.parentNode.insertBefore(node, nodes[j - 1].nextSibling);\n        }\n      });\n    }\n  });\n}\n\n/**\n * Replace target elements with these elements\n * @param {jQCollection} collection\n * @param {string|Element} target\n * @returns {jQCollection}\n */\nexport function replaceAll(collection, target, jQNext) {\n  jQNext(target).replaceWith(collection);\n  return collection;\n}\n\n/**\n * Clone elements\n * @param {jQCollection} collection\n * @param {boolean} [withDataAndEvents=false]\n * @param {boolean} [deepWithDataAndEvents=withDataAndEvents]\n * @returns {jQCollection}\n */\nexport function clone(collection, withDataAndEvents = false, deepWithDataAndEvents = withDataAndEvents, jQNext) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    const elem = collection[i];\n    const cloned = elem.cloneNode(true);\n    \n    // Copy data and events if requested\n    if (withDataAndEvents) {\n      // Copy data from source element\n      const sourceData = getDataValue(elem);\n      if (sourceData && Object.keys(sourceData).length > 0) {\n        for (const key in sourceData) {\n          setData(cloned, key, sourceData[key]);\n        }\n      }\n      \n      // Copy event handlers from source element\n      cloneHandlers(elem, cloned);\n      \n      // Handle deep cloning for descendants\n      if (deepWithDataAndEvents) {\n        const sourceDescendants = elem.querySelectorAll('*');\n        const clonedDescendants = cloned.querySelectorAll('*');\n        \n        for (let j = 0; j < sourceDescendants.length; j++) {\n          const srcDesc = sourceDescendants[j];\n          const clonedDesc = clonedDescendants[j];\n          \n          // Copy data\n          const descData = getDataValue(srcDesc);\n          if (descData && Object.keys(descData).length > 0) {\n            for (const key in descData) {\n              setData(clonedDesc, key, descData[key]);\n            }\n          }\n          \n          // Copy event handlers\n          cloneHandlers(srcDesc, clonedDesc);\n        }\n      }\n    }\n    \n    result.push(cloned);\n  }\n  \n  return jQNext(result);\n}\n\nexport default {\n  html,\n  text,\n  append,\n  prepend,\n  before,\n  after,\n  appendTo,\n  prependTo,\n  insertBefore,\n  insertAfter,\n  wrap,\n  wrapAll,\n  wrapInner,\n  unwrap,\n  empty,\n  remove,\n  detach,\n  replaceWith,\n  replaceAll,\n  clone\n};","/**\n * jQNext - DOM Attributes\n * Attribute, property, and value manipulation\n */\n\nimport { isFunction, isString, isArray } from '../utilities/type.js';\nimport { camelCase } from '../utilities/strings.js';\n\n// Properties that should use .prop() instead of .attr()\nconst propFix = {\n  'for': 'htmlFor',\n  'class': 'className',\n  'tabindex': 'tabIndex',\n  'readonly': 'readOnly',\n  'maxlength': 'maxLength',\n  'cellspacing': 'cellSpacing',\n  'cellpadding': 'cellPadding',\n  'rowspan': 'rowSpan',\n  'colspan': 'colSpan',\n  'usemap': 'useMap',\n  'frameborder': 'frameBorder',\n  'contenteditable': 'contentEditable'\n};\n\n// Boolean attributes\nconst booleanAttrs = new Set([\n  'checked', 'selected', 'async', 'autofocus', 'autoplay', 'controls',\n  'defer', 'disabled', 'hidden', 'ismap', 'loop', 'multiple', 'muted',\n  'open', 'readonly', 'required', 'scoped', 'novalidate', 'reversed',\n  'allowfullscreen', 'contenteditable', 'draggable', 'spellcheck'\n]);\n\n/**\n * Get/set attribute\n * @param {jQCollection} collection\n * @param {string|Object} name - Attribute name or object of name-value pairs\n * @param {*} [value] - Attribute value\n * @returns {*|jQCollection}\n */\nexport function attr(collection, name, value) {\n  // Handle attr() with no arguments - returns undefined (jQuery compatibility)\n  if (name === undefined) {\n    return undefined;\n  }\n  \n  // Get attribute value\n  if (isString(name) && value === undefined) {\n    const elem = collection[0];\n    if (!elem || elem.nodeType !== 1) {\n      return undefined;\n    }\n    \n    const val = elem.getAttribute(name);\n    \n    // Handle boolean attributes\n    if (booleanAttrs.has(name.toLowerCase())) {\n      return val !== null ? name.toLowerCase() : undefined;\n    }\n    \n    // Return undefined for non-existent attributes (jQuery compatibility)\n    // Native getAttribute returns null, but jQuery returns undefined\n    return val === null ? undefined : val;\n  }\n  \n  // Set attribute(s)\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    if (typeof name === 'object') {\n      // Set multiple attributes\n      for (const key in name) {\n        setAttr(this, key, name[key], i);\n      }\n    } else {\n      setAttr(this, name, value, i);\n    }\n  });\n}\n\n/**\n * Set single attribute on element\n */\nfunction setAttr(elem, name, value, index) {\n  const val = isFunction(value) ? value.call(elem, index, elem.getAttribute(name)) : value;\n  \n  if (val === null || val === undefined) {\n    elem.removeAttribute(name);\n  } else if (booleanAttrs.has(name.toLowerCase())) {\n    // Boolean attribute\n    if (val) {\n      elem.setAttribute(name, name.toLowerCase());\n    } else {\n      elem.removeAttribute(name);\n    }\n  } else {\n    elem.setAttribute(name, val);\n  }\n}\n\n/**\n * Remove attribute\n * @param {jQCollection} collection\n * @param {string} name - Attribute name(s), space-separated\n * @returns {jQCollection}\n */\nexport function removeAttr(collection, name) {\n  const names = name.split(/\\s+/);\n  \n  return collection.each(function() {\n    if (this.nodeType === 1) {\n      names.forEach(n => this.removeAttribute(n));\n    }\n  });\n}\n\n/**\n * Get/set property\n * @param {jQCollection} collection\n * @param {string|Object} name\n * @param {*} [value]\n * @returns {*|jQCollection}\n */\nexport function prop(collection, name, value) {\n  const propName = propFix[name] || name;\n  \n  // Getter\n  if (isString(name) && value === undefined) {\n    const elem = collection[0];\n    return elem ? elem[propName] : undefined;\n  }\n  \n  // Setter\n  return collection.each(function(i) {\n    if (typeof name === 'object') {\n      for (const key in name) {\n        const pName = propFix[key] || key;\n        this[pName] = name[key];\n      }\n    } else {\n      const val = isFunction(value) ? value.call(this, i, this[propName]) : value;\n      this[propName] = val;\n    }\n  });\n}\n\n/**\n * Remove property\n * @param {jQCollection} collection\n * @param {string} name\n * @returns {jQCollection}\n */\nexport function removeProp(collection, name) {\n  const propName = propFix[name] || name;\n  \n  return collection.each(function() {\n    try {\n      this[propName] = undefined;\n      delete this[propName];\n    } catch (e) {\n      // Some properties can't be deleted\n    }\n  });\n}\n\n/**\n * Get/set value for form elements\n * @param {jQCollection} collection\n * @param {*} [value]\n * @returns {*|jQCollection}\n */\nexport function val(collection, value) {\n  // Getter\n  if (value === undefined) {\n    const elem = collection[0];\n    if (!elem) return undefined;\n    \n    // Select element\n    if (elem.nodeName.toLowerCase() === 'select') {\n      const options = elem.options;\n      const index = elem.selectedIndex;\n      const one = elem.type === 'select-one';\n      const values = one ? null : [];\n      \n      if (index < 0) {\n        return one ? '' : [];\n      }\n      \n      const max = one ? index + 1 : options.length;\n      let i = one ? index : 0;\n      \n      for (; i < max; i++) {\n        const option = options[i];\n        \n        if (option.selected && !option.disabled) {\n          const optValue = option.value;\n          \n          if (one) {\n            return optValue;\n          }\n          \n          values.push(optValue);\n        }\n      }\n      \n      return values;\n    }\n    \n    // Checkbox/radio\n    if (elem.type === 'checkbox' || elem.type === 'radio') {\n      return elem.value !== 'on' ? elem.value : elem.getAttribute('value') || 'on';\n    }\n    \n    // Other inputs\n    const ret = elem.value;\n    return typeof ret === 'string' ? ret.replace(/\\r/g, '') : ret == null ? '' : ret;\n  }\n  \n  // Setter\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    let val = isFunction(value) ? value.call(this, i, this.value) : value;\n    \n    if (val == null) {\n      val = '';\n    } else if (typeof val === 'number') {\n      val = String(val);\n    } else if (isArray(val)) {\n      val = val.map(v => v == null ? '' : String(v));\n    }\n    \n    const nodeName = this.nodeName.toLowerCase();\n    \n    // Select element\n    if (nodeName === 'select') {\n      const values = isArray(val) ? val : [val];\n      const options = this.options;\n      \n      for (let j = 0; j < options.length; j++) {\n        const option = options[j];\n        option.selected = values.includes(option.value);\n      }\n      \n      if (!values.length) {\n        this.selectedIndex = -1;\n      }\n    }\n    // Checkbox/radio\n    else if (this.type === 'checkbox' || this.type === 'radio') {\n      this.checked = isArray(val) ? val.includes(this.value) : val === this.value;\n    }\n    // Other inputs\n    else {\n      this.value = val;\n    }\n  });\n}\n\n/**\n * Add class(es) to elements\n * @param {jQCollection} collection\n * @param {string|Function} className\n * @returns {jQCollection}\n */\nexport function addClass(collection, className) {\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    const classes = isFunction(className) \n      ? className.call(this, i, this.className)\n      : className;\n    \n    if (isString(classes)) {\n      const classNames = classes.split(/\\s+/).filter(Boolean);\n      this.classList.add(...classNames);\n    }\n  });\n}\n\n/**\n * Remove class(es) from elements\n * @param {jQCollection} collection\n * @param {string|Function} [className]\n * @returns {jQCollection}\n */\nexport function removeClass(collection, className) {\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    // Remove all classes if no argument\n    if (className === undefined) {\n      this.className = '';\n      return;\n    }\n    \n    const classes = isFunction(className)\n      ? className.call(this, i, this.className)\n      : className;\n    \n    if (isString(classes)) {\n      const classNames = classes.split(/\\s+/).filter(Boolean);\n      this.classList.remove(...classNames);\n    }\n  });\n}\n\n/**\n * Toggle class(es) on elements\n * @param {jQCollection} collection\n * @param {string|Function} className\n * @param {boolean} [state]\n * @returns {jQCollection}\n */\nexport function toggleClass(collection, className, state) {\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    const classes = isFunction(className)\n      ? className.call(this, i, this.className, state)\n      : className;\n    \n    if (isString(classes)) {\n      const classNames = classes.split(/\\s+/).filter(Boolean);\n      classNames.forEach(name => {\n        if (state === undefined) {\n          this.classList.toggle(name);\n        } else if (state) {\n          this.classList.add(name);\n        } else {\n          this.classList.remove(name);\n        }\n      });\n    }\n  });\n}\n\n/**\n * Check if any element has the class\n * @param {jQCollection} collection\n * @param {string} className\n * @returns {boolean}\n */\nexport function hasClass(collection, className) {\n  for (let i = 0; i < collection.length; i++) {\n    if (collection[i].nodeType === 1 && collection[i].classList.contains(className)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default {\n  attr,\n  removeAttr,\n  prop,\n  removeProp,\n  val,\n  addClass,\n  removeClass,\n  toggleClass,\n  hasClass\n};","/**\n * jQNext - CSS Module\n * Style manipulation, dimensions, and positioning\n */\n\nimport { isFunction, isString, isNumeric, isWindow } from '../utilities/type.js';\nimport { camelCase } from '../utilities/strings.js';\n\n// CSS properties that should not have 'px' appended\nconst cssNumber = new Set([\n  'animationIterationCount', 'columnCount', 'fillOpacity', 'flexGrow',\n  'flexShrink', 'fontWeight', 'gridArea', 'gridColumn', 'gridColumnEnd',\n  'gridColumnStart', 'gridRow', 'gridRowEnd', 'gridRowStart', 'lineHeight',\n  'opacity', 'order', 'orphans', 'widows', 'zIndex', 'zoom'\n]);\n\n// CSS properties that need vendor prefixes\nconst vendorPrefixes = ['webkit', 'moz', 'ms', 'o'];\n\n// CSS Hooks storage (for jQuery UI compatibility)\nexport const cssHooks = {};\n\n/**\n * Get computed style for an element\n * @param {Element} elem\n * @returns {CSSStyleDeclaration}\n */\nfunction getStyles(elem) {\n  if (!elem || !elem.ownerDocument || !elem.ownerDocument.defaultView) {\n    return {};\n  }\n  return elem.ownerDocument.defaultView.getComputedStyle(elem, null);\n}\n\n/**\n * Normalize CSS property name\n * @param {string} name\n * @returns {string}\n */\nfunction vendorPropName(name) {\n  const camelName = camelCase(name);\n  \n  // Check if it works directly\n  if (camelName in document.documentElement.style) {\n    return camelName;\n  }\n  \n  // Try vendor prefixes\n  const capName = camelName[0].toUpperCase() + camelName.slice(1);\n  for (const prefix of vendorPrefixes) {\n    const prefixed = prefix + capName;\n    if (prefixed in document.documentElement.style) {\n      return prefixed;\n    }\n  }\n  \n  return camelName;\n}\n\n/**\n * Adjust the CSS value (add 'px' if needed)\n * @param {string} prop\n * @param {*} value\n * @returns {string}\n */\nfunction adjustCSS(prop, value) {\n  if (value === '' || value === null || value === undefined) {\n    return '';\n  }\n  \n  // Numbers that need 'px'\n  if (isNumeric(value) && !cssNumber.has(prop)) {\n    return value + 'px';\n  }\n  \n  return String(value);\n}\n\n/**\n * Get/set CSS properties\n * @param {jQCollection} collection\n * @param {string|Object} name\n * @param {*} [value]\n * @returns {*|jQCollection}\n */\nexport function css(collection, name, value) {\n  // Get computed style\n  if (isString(name) && value === undefined) {\n    const elem = collection[0];\n    if (!elem || elem.nodeType !== 1) {\n      return undefined;\n    }\n    \n    const prop = vendorPropName(name);\n    const computed = getStyles(elem);\n    \n    // Return computed style (jQuery behavior - always returns computed values)\n    return computed.getPropertyValue(name) || computed[prop] || '';\n  }\n  \n  // Set styles\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    if (typeof name === 'object') {\n      // Set multiple properties\n      for (const key in name) {\n        setCSS(this, key, name[key], i);\n      }\n    } else {\n      setCSS(this, name, value, i);\n    }\n  });\n}\n\n/**\n * Set a single CSS property\n */\nfunction setCSS(elem, name, value, index) {\n  const prop = vendorPropName(name);\n  let val = isFunction(value) \n    ? value.call(elem, index, css({ 0: elem, length: 1 }, name))\n    : value;\n  \n  // Handle removing style\n  if (val === null || val === undefined || val === '') {\n    elem.style[prop] = '';\n    return;\n  }\n  \n  // Adjust value (add 'px' etc.)\n  val = adjustCSS(prop, val);\n  \n  elem.style[prop] = val;\n}\n\n/**\n * Get width of element\n * @param {jQCollection} collection\n * @param {*} [value]\n * @returns {number|jQCollection}\n */\nexport function width(collection, value) {\n  return dimension(collection, 'width', value);\n}\n\n/**\n * Get height of element\n * @param {jQCollection} collection\n * @param {*} [value]\n * @returns {number|jQCollection}\n */\nexport function height(collection, value) {\n  return dimension(collection, 'height', value);\n}\n\n/**\n * Get inner width (includes padding)\n * @param {jQCollection} collection\n * @param {*} [value]\n * @returns {number|jQCollection}\n */\nexport function innerWidth(collection, value) {\n  return dimension(collection, 'width', value, 'inner');\n}\n\n/**\n * Get inner height (includes padding)\n * @param {jQCollection} collection\n * @param {*} [value]\n * @returns {number|jQCollection}\n */\nexport function innerHeight(collection, value) {\n  return dimension(collection, 'height', value, 'inner');\n}\n\n/**\n * Get outer width (includes padding and border, optionally margin)\n * @param {jQCollection} collection\n * @param {boolean|*} [includeMargin]\n * @returns {number|jQCollection}\n */\nexport function outerWidth(collection, includeMargin) {\n  // Handle setter\n  if (typeof includeMargin !== 'boolean' && includeMargin !== undefined) {\n    return dimension(collection, 'width', includeMargin, 'outer');\n  }\n  return dimension(collection, 'width', undefined, includeMargin ? 'outerMargin' : 'outer');\n}\n\n/**\n * Get outer height (includes padding and border, optionally margin)\n * @param {jQCollection} collection\n * @param {boolean|*} [includeMargin]\n * @returns {number|jQCollection}\n */\nexport function outerHeight(collection, includeMargin) {\n  // Handle setter\n  if (typeof includeMargin !== 'boolean' && includeMargin !== undefined) {\n    return dimension(collection, 'height', includeMargin, 'outer');\n  }\n  return dimension(collection, 'height', undefined, includeMargin ? 'outerMargin' : 'outer');\n}\n\n/**\n * Core dimension function\n * @param {jQCollection} collection\n * @param {string} dim - 'width' or 'height'\n * @param {*} [value]\n * @param {string} [extra] - 'inner', 'outer', 'outerMargin'\n * @returns {number|jQCollection}\n */\nfunction dimension(collection, dim, value, extra) {\n  const elem = collection[0];\n  \n  // Getter\n  if (value === undefined) {\n    if (!elem) return undefined;\n    \n    // Window\n    if (isWindow(elem)) {\n      return dim === 'width'\n        ? elem.innerWidth\n        : elem.innerHeight;\n    }\n    \n    // Document\n    if (elem.nodeType === 9) {\n      const doc = elem.documentElement;\n      return Math.max(\n        elem.body[`scroll${dim === 'width' ? 'Width' : 'Height'}`],\n        doc[`scroll${dim === 'width' ? 'Width' : 'Height'}`],\n        elem.body[`offset${dim === 'width' ? 'Width' : 'Height'}`],\n        doc[`offset${dim === 'width' ? 'Width' : 'Height'}`],\n        doc[`client${dim === 'width' ? 'Width' : 'Height'}`]\n      );\n    }\n    \n    // Element\n    const rect = elem.getBoundingClientRect();\n    const computed = getStyles(elem);\n    let result = rect[dim];\n    \n    if (!extra) {\n      // Content only (subtract padding and border)\n      if (dim === 'width') {\n        result -= parseFloat(computed.paddingLeft) || 0;\n        result -= parseFloat(computed.paddingRight) || 0;\n        result -= parseFloat(computed.borderLeftWidth) || 0;\n        result -= parseFloat(computed.borderRightWidth) || 0;\n      } else {\n        result -= parseFloat(computed.paddingTop) || 0;\n        result -= parseFloat(computed.paddingBottom) || 0;\n        result -= parseFloat(computed.borderTopWidth) || 0;\n        result -= parseFloat(computed.borderBottomWidth) || 0;\n      }\n    } else if (extra === 'inner') {\n      // Content + padding (subtract border)\n      if (dim === 'width') {\n        result -= parseFloat(computed.borderLeftWidth) || 0;\n        result -= parseFloat(computed.borderRightWidth) || 0;\n      } else {\n        result -= parseFloat(computed.borderTopWidth) || 0;\n        result -= parseFloat(computed.borderBottomWidth) || 0;\n      }\n    } else if (extra === 'outerMargin') {\n      // Content + padding + border + margin\n      if (dim === 'width') {\n        result += parseFloat(computed.marginLeft) || 0;\n        result += parseFloat(computed.marginRight) || 0;\n      } else {\n        result += parseFloat(computed.marginTop) || 0;\n        result += parseFloat(computed.marginBottom) || 0;\n      }\n    }\n    // 'outer' = content + padding + border (the default getBoundingClientRect)\n    \n    return Math.round(result);\n  }\n  \n  // Setter\n  return collection.each(function(i) {\n    if (this.nodeType !== 1) return;\n    \n    let val = isFunction(value)\n      ? value.call(this, i, dimension(collection, dim))\n      : value;\n    \n    if (val === null || val === undefined) {\n      return;\n    }\n    \n    if (isNumeric(val)) {\n      const computed = getStyles(this);\n      \n      // Adjust for box-sizing\n      if (computed.boxSizing === 'border-box') {\n        if (extra === 'inner' || !extra) {\n          // Add padding and border\n          if (dim === 'width') {\n            val += parseFloat(computed.paddingLeft) || 0;\n            val += parseFloat(computed.paddingRight) || 0;\n            val += parseFloat(computed.borderLeftWidth) || 0;\n            val += parseFloat(computed.borderRightWidth) || 0;\n          } else {\n            val += parseFloat(computed.paddingTop) || 0;\n            val += parseFloat(computed.paddingBottom) || 0;\n            val += parseFloat(computed.borderTopWidth) || 0;\n            val += parseFloat(computed.borderBottomWidth) || 0;\n          }\n        }\n      }\n      \n      val = val + 'px';\n    }\n    \n    this.style[dim] = val;\n  });\n}\n\n/**\n * Get offset (position relative to document)\n * @param {jQCollection} collection\n * @param {Object} [coordinates]\n * @returns {Object|jQCollection}\n */\nexport function offset(collection, coordinates) {\n  // Setter\n  if (coordinates !== undefined) {\n    return collection.each(function(i) {\n      setOffset(this, coordinates, i);\n    });\n  }\n  \n  // Getter\n  const elem = collection[0];\n  if (!elem || elem.nodeType !== 1) {\n    return undefined;\n  }\n  \n  // Return zeros for disconnected elements\n  if (!elem.getClientRects().length) {\n    return { top: 0, left: 0 };\n  }\n  \n  const rect = elem.getBoundingClientRect();\n  const doc = elem.ownerDocument;\n  const docElem = doc.documentElement;\n  const win = doc.defaultView;\n  \n  return {\n    top: rect.top + win.pageYOffset - docElem.clientTop,\n    left: rect.left + win.pageXOffset - docElem.clientLeft\n  };\n}\n\n/**\n * Set element offset\n */\nfunction setOffset(elem, options, i) {\n  const curPosition = css({ 0: elem, length: 1 }, 'position');\n  \n  // Set position if static\n  if (curPosition === 'static') {\n    elem.style.position = 'relative';\n  }\n  \n  const curOffset = offset({ 0: elem, length: 1 });\n  const curCSSTop = css({ 0: elem, length: 1 }, 'top');\n  const curCSSLeft = css({ 0: elem, length: 1 }, 'left');\n  \n  const calculatePosition = (curPosition === 'absolute' || curPosition === 'fixed') &&\n    (curCSSTop + curCSSLeft).indexOf('auto') > -1;\n  \n  let curTop, curLeft;\n  \n  if (calculatePosition) {\n    const curPos = position({ 0: elem, length: 1 });\n    curTop = curPos.top;\n    curLeft = curPos.left;\n  } else {\n    curTop = parseFloat(curCSSTop) || 0;\n    curLeft = parseFloat(curCSSLeft) || 0;\n  }\n  \n  const props = isFunction(options) ? options.call(elem, i, curOffset) : options;\n  \n  if (props.top != null) {\n    elem.style.top = (props.top - curOffset.top + curTop) + 'px';\n  }\n  if (props.left != null) {\n    elem.style.left = (props.left - curOffset.left + curLeft) + 'px';\n  }\n}\n\n/**\n * Get position (relative to offset parent)\n * @param {jQCollection} collection\n * @returns {Object}\n */\nexport function position(collection) {\n  const elem = collection[0];\n  if (!elem || elem.nodeType !== 1) {\n    return undefined;\n  }\n  \n  let offsetParent = elem.offsetParent || document.documentElement;\n  \n  // Account for offset parent being body/html\n  while (offsetParent && \n         offsetParent !== document.documentElement && \n         css({ 0: offsetParent, length: 1 }, 'position') === 'static') {\n    offsetParent = offsetParent.offsetParent;\n  }\n  offsetParent = offsetParent || document.documentElement;\n  \n  const elemOffset = offset(collection);\n  const parentOffset = offsetParent === document.documentElement\n    ? { top: 0, left: 0 }\n    : offset({ 0: offsetParent, length: 1 });\n  \n  const computed = getStyles(elem);\n  \n  // Subtract element margins\n  elemOffset.top -= parseFloat(computed.marginTop) || 0;\n  elemOffset.left -= parseFloat(computed.marginLeft) || 0;\n  \n  // Add offset parent borders\n  const parentComputed = getStyles(offsetParent);\n  parentOffset.top += parseFloat(parentComputed.borderTopWidth) || 0;\n  parentOffset.left += parseFloat(parentComputed.borderLeftWidth) || 0;\n  \n  return {\n    top: elemOffset.top - parentOffset.top,\n    left: elemOffset.left - parentOffset.left\n  };\n}\n\n/**\n * Get/set scroll top\n * @param {jQCollection} collection\n * @param {number} [value]\n * @returns {number|jQCollection}\n */\nexport function scrollTop(collection, value) {\n  return scrollProp(collection, 'top', value);\n}\n\n/**\n * Get/set scroll left\n * @param {jQCollection} collection\n * @param {number} [value]\n * @returns {number|jQCollection}\n */\nexport function scrollLeft(collection, value) {\n  return scrollProp(collection, 'left', value);\n}\n\n/**\n * Core scroll property function\n */\nfunction scrollProp(collection, prop, value) {\n  const scrollPropName = prop === 'top' ? 'scrollTop' : 'scrollLeft';\n  const pagePropName = prop === 'top' ? 'pageYOffset' : 'pageXOffset';\n  \n  // Getter\n  if (value === undefined) {\n    const elem = collection[0];\n    if (!elem) return undefined;\n    \n    if (isWindow(elem)) {\n      return elem[pagePropName];\n    }\n    \n    return elem[scrollPropName];\n  }\n  \n  // Setter\n  return collection.each(function() {\n    if (isWindow(this)) {\n      const scrollX = prop === 'left' ? value : this.pageXOffset;\n      const scrollY = prop === 'top' ? value : this.pageYOffset;\n      this.scrollTo(scrollX, scrollY);\n    } else {\n      this[scrollPropName] = value;\n    }\n  });\n}\n\n/**\n * Show elements\n * @param {jQCollection} collection\n * @returns {jQCollection}\n */\nexport function show(collection) {\n  return collection.each(function() {\n    if (this.style.display === 'none') {\n      this.style.display = '';\n    }\n    \n    // Check if still hidden by stylesheet\n    if (getStyles(this).display === 'none') {\n      this.style.display = getDefaultDisplay(this);\n    }\n  });\n}\n\n/**\n * Hide elements\n * @param {jQCollection} collection\n * @returns {jQCollection}\n */\nexport function hide(collection) {\n  return collection.each(function() {\n    this.style.display = 'none';\n  });\n}\n\n/**\n * Toggle visibility\n * @param {jQCollection} collection\n * @param {boolean} [state]\n * @returns {jQCollection}\n */\nexport function toggle(collection, state) {\n  return collection.each(function() {\n    const isHidden = getStyles(this).display === 'none';\n    const shouldShow = state === undefined ? isHidden : state;\n    \n    if (shouldShow) {\n      show({ 0: this, length: 1 });\n    } else {\n      hide({ 0: this, length: 1 });\n    }\n  });\n}\n\n/**\n * Get default display value for element\n */\nconst displayCache = {};\nfunction getDefaultDisplay(elem) {\n  const nodeName = elem.nodeName.toLowerCase();\n  \n  if (displayCache[nodeName]) {\n    return displayCache[nodeName];\n  }\n  \n  // Create temp element to check default display\n  const temp = document.createElement(nodeName);\n  document.body.appendChild(temp);\n  const display = getStyles(temp).display;\n  document.body.removeChild(temp);\n  \n  displayCache[nodeName] = display === 'none' ? 'block' : display;\n  return displayCache[nodeName];\n}\n\nexport default {\n  css,\n  width,\n  height,\n  innerWidth,\n  innerHeight,\n  outerWidth,\n  outerHeight,\n  offset,\n  position,\n  scrollTop,\n  scrollLeft,\n  show,\n  hide,\n  toggle\n};","/**\n * jQNext - Event Shortcuts\n * Shorthand event methods (click, focus, etc.)\n */\n\nimport { on, off, trigger } from './core.js';\n\n/**\n * Create event shortcut method\n * @param {string} type - Event type\n * @returns {Function}\n */\nfunction createShortcut(type) {\n  return function(data, fn) {\n    // Trigger if no arguments\n    if (arguments.length === 0) {\n      return trigger(this, type);\n    }\n    \n    // Bind handler\n    if (typeof data === 'function') {\n      fn = data;\n      data = undefined;\n    }\n    \n    return on(this, type, null, data, fn);\n  };\n}\n\n// Standard DOM events\nexport const blur = createShortcut('blur');\nexport const focus = createShortcut('focus');\nexport const focusin = createShortcut('focusin');\nexport const focusout = createShortcut('focusout');\nexport const load = createShortcut('load');\nexport const resize = createShortcut('resize');\nexport const scroll = createShortcut('scroll');\nexport const unload = createShortcut('unload');\nexport const click = createShortcut('click');\nexport const dblclick = createShortcut('dblclick');\nexport const mousedown = createShortcut('mousedown');\nexport const mouseup = createShortcut('mouseup');\nexport const mousemove = createShortcut('mousemove');\nexport const mouseover = createShortcut('mouseover');\nexport const mouseout = createShortcut('mouseout');\nexport const mouseenter = createShortcut('mouseenter');\nexport const mouseleave = createShortcut('mouseleave');\nexport const change = createShortcut('change');\nexport const select = createShortcut('select');\nexport const submit = createShortcut('submit');\nexport const keydown = createShortcut('keydown');\nexport const keypress = createShortcut('keypress');\nexport const keyup = createShortcut('keyup');\nexport const error = createShortcut('error');\nexport const contextmenu = createShortcut('contextmenu');\n\n/**\n * Bind handlers for mouseenter and mouseleave\n * @param {Function} handlerIn - Handler for mouseenter\n * @param {Function} [handlerOut] - Handler for mouseleave\n * @returns {jQCollection}\n */\nexport function hover(handlerIn, handlerOut) {\n  return this.mouseenter(handlerIn).mouseleave(handlerOut || handlerIn);\n}\n\n// Deprecated methods (still supported for compatibility)\n\n/**\n * Bind event (deprecated - use on)\n */\nexport function bind(types, data, fn) {\n  return on(this, types, null, data, fn);\n}\n\n/**\n * Unbind event (deprecated - use off)\n */\nexport function unbind(types, fn) {\n  return off(this, types, null, fn);\n}\n\n/**\n * Delegate event (deprecated - use on)\n */\nexport function delegate(selector, types, data, fn) {\n  return on(this, types, selector, data, fn);\n}\n\n/**\n * Undelegate event (deprecated - use off)\n */\nexport function undelegate(selector, types, fn) {\n  // No selector = remove all\n  if (arguments.length === 0) {\n    return off(this, '**');\n  }\n  \n  return off(this, types, selector, fn);\n}\n\n// Shortcut list for easy iteration\nexport const shortcuts = [\n  'blur', 'focus', 'focusin', 'focusout', 'load', 'resize', 'scroll',\n  'unload', 'click', 'dblclick', 'mousedown', 'mouseup', 'mousemove',\n  'mouseover', 'mouseout', 'mouseenter', 'mouseleave', 'change', 'select',\n  'submit', 'keydown', 'keypress', 'keyup', 'error', 'contextmenu'\n];\n\nexport default {\n  blur,\n  focus,\n  focusin,\n  focusout,\n  load,\n  resize,\n  scroll,\n  unload,\n  click,\n  dblclick,\n  mousedown,\n  mouseup,\n  mousemove,\n  mouseover,\n  mouseout,\n  mouseenter,\n  mouseleave,\n  change,\n  select,\n  submit,\n  keydown,\n  keypress,\n  keyup,\n  error,\n  contextmenu,\n  hover,\n  bind,\n  unbind,\n  delegate,\n  undelegate,\n  shortcuts\n};","/**\n * jQNext - Effects Core\n * Animation using Web Animation API\n */\n\nimport { isFunction, isNumeric, isPlainObject, isString } from '../utilities/type.js';\nimport { getInternalData, setInternalData, removeInternalData } from '../core/data.js';\nimport { Deferred } from '../utilities/deferred.js';\nimport { camelCase } from '../utilities/strings.js';\n\n// Animation speeds\nexport const speeds = {\n  slow: 600,\n  fast: 200,\n  _default: 400\n};\n\n// Global animation settings\nexport const fx = {\n  off: false,\n  interval: 13, // Legacy, not used with Web Animation API\n  speeds\n};\n\n// Easing functions mapping (jQuery to CSS)\nconst easingMap = {\n  linear: 'linear',\n  swing: 'ease-in-out',\n  easeInQuad: 'cubic-bezier(0.55, 0.085, 0.68, 0.53)',\n  easeOutQuad: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)',\n  easeInOutQuad: 'cubic-bezier(0.455, 0.03, 0.515, 0.955)',\n  easeInCubic: 'cubic-bezier(0.55, 0.055, 0.675, 0.19)',\n  easeOutCubic: 'cubic-bezier(0.215, 0.61, 0.355, 1)',\n  easeInOutCubic: 'cubic-bezier(0.645, 0.045, 0.355, 1)',\n  easeInQuart: 'cubic-bezier(0.895, 0.03, 0.685, 0.22)',\n  easeOutQuart: 'cubic-bezier(0.165, 0.84, 0.44, 1)',\n  easeInOutQuart: 'cubic-bezier(0.77, 0, 0.175, 1)',\n  easeInQuint: 'cubic-bezier(0.755, 0.05, 0.855, 0.06)',\n  easeOutQuint: 'cubic-bezier(0.23, 1, 0.32, 1)',\n  easeInOutQuint: 'cubic-bezier(0.86, 0, 0.07, 1)',\n  easeInSine: 'cubic-bezier(0.47, 0, 0.745, 0.715)',\n  easeOutSine: 'cubic-bezier(0.39, 0.575, 0.565, 1)',\n  easeInOutSine: 'cubic-bezier(0.445, 0.05, 0.55, 0.95)',\n  easeInExpo: 'cubic-bezier(0.95, 0.05, 0.795, 0.035)',\n  easeOutExpo: 'cubic-bezier(0.19, 1, 0.22, 1)',\n  easeInOutExpo: 'cubic-bezier(1, 0, 0, 1)',\n  easeInCirc: 'cubic-bezier(0.6, 0.04, 0.98, 0.335)',\n  easeOutCirc: 'cubic-bezier(0.075, 0.82, 0.165, 1)',\n  easeInOutCirc: 'cubic-bezier(0.785, 0.135, 0.15, 0.86)',\n  easeInBack: 'cubic-bezier(0.6, -0.28, 0.735, 0.045)',\n  easeOutBack: 'cubic-bezier(0.175, 0.885, 0.32, 1.275)',\n  easeInOutBack: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)'\n};\n\n// CSS properties that don't need 'px'\nconst cssNumber = new Set([\n  'columnCount', 'fillOpacity', 'flexGrow', 'flexShrink',\n  'fontWeight', 'lineHeight', 'opacity', 'order', 'orphans',\n  'widows', 'zIndex', 'zoom'\n]);\n\n/**\n * Get computed style value\n */\nfunction getStyle(elem, prop) {\n  return getComputedStyle(elem).getPropertyValue(prop);\n}\n\n/**\n * Normalize duration value\n * @param {number|string} duration\n * @returns {number}\n */\nfunction normalizeDuration(duration) {\n  if (typeof duration === 'number') {\n    return duration;\n  }\n  if (speeds[duration]) {\n    return speeds[duration];\n  }\n  return speeds._default;\n}\n\n/**\n * Normalize easing value\n * @param {string} easing\n * @returns {string}\n */\nfunction normalizeEasing(easing = 'swing') {\n  return easingMap[easing] || easing;\n}\n\n/**\n * Core animate function using Web Animation API\n * @param {jQCollection} collection\n * @param {Object} properties - CSS properties to animate\n * @param {number|string|Object} duration - Duration or options\n * @param {string|Function} easing - Easing or callback\n * @param {Function} [callback] - Complete callback\n * @returns {jQCollection}\n */\nexport function animate(collection, properties, duration, easing, callback) {\n  // Handle options object\n  let options = {};\n  \n  if (isPlainObject(duration)) {\n    options = { ...duration };\n  } else {\n    // Normalize arguments\n    if (isFunction(easing)) {\n      callback = easing;\n      easing = undefined;\n    } else if (isFunction(duration)) {\n      callback = duration;\n      duration = undefined;\n    }\n    \n    options = {\n      duration: normalizeDuration(duration),\n      easing: normalizeEasing(easing),\n      complete: callback\n    };\n  }\n  \n  // Normalize options\n  options.duration = normalizeDuration(options.duration);\n  options.easing = normalizeEasing(options.easing);\n  \n  // Handle fx.off\n  if (fx.off) {\n    options.duration = 0;\n  }\n  \n  // Handle objects without .each() method\n  if (!collection || typeof collection.each !== 'function') {\n    // If it's a single element, animate it directly\n    if (collection && collection.nodeType) {\n      animateElement(collection, properties, options);\n      return collection;\n    }\n    // If it's array-like, iterate manually\n    if (collection && typeof collection.length === 'number') {\n      for (let i = 0; i < collection.length; i++) {\n        if (collection[i] && collection[i].nodeType) {\n          animateElement(collection[i], properties, options);\n        }\n      }\n      return collection;\n    }\n    return collection;\n  }\n  \n  return collection.each(function() {\n    animateElement(this, properties, options);\n  });\n}\n\n/**\n * Animate a single element\n */\nfunction animateElement(elem, properties, options) {\n  // Get or create animation queue\n  let queue = getInternalData(elem, 'fxqueue') || [];\n  \n  const animationTask = () => {\n    return runAnimation(elem, properties, options);\n  };\n  \n  if (options.queue === false) {\n    // Run immediately\n    animationTask();\n  } else {\n    // Add to queue\n    queue.push(animationTask);\n    setInternalData(elem, 'fxqueue', queue);\n    \n    // Start queue if not running\n    if (queue.length === 1) {\n      processQueue(elem);\n    }\n  }\n}\n\n/**\n * Process animation queue\n */\nfunction processQueue(elem) {\n  const queue = getInternalData(elem, 'fxqueue');\n  \n  if (!queue || !queue.length) {\n    removeInternalData(elem, 'fxqueue');\n    return;\n  }\n  \n  const task = queue[0];\n  const promise = task();\n  \n  if (promise && promise.then) {\n    promise.then(() => {\n      queue.shift();\n      setInternalData(elem, 'fxqueue', queue);\n      processQueue(elem);\n    });\n  } else {\n    queue.shift();\n    processQueue(elem);\n  }\n}\n\n/**\n * Run animation on element\n */\nfunction runAnimation(elem, properties, options) {\n  const deferred = Deferred();\n  const computed = getComputedStyle(elem);\n  \n  // Build keyframes\n  const from = {};\n  const to = {};\n  \n  for (const prop in properties) {\n    const camelProp = camelCase(prop);\n    let targetValue = properties[prop];\n    \n    // Handle relative values (+=, -=)\n    const currentValue = parseFloat(computed[camelProp]) || 0;\n    \n    if (isString(targetValue)) {\n      const match = targetValue.match(/^([+-]=)(.+)$/);\n      if (match) {\n        const modifier = match[1];\n        const delta = parseFloat(match[2]) || 0;\n        targetValue = modifier === '+=' ? currentValue + delta : currentValue - delta;\n      }\n    }\n    \n    // Get current computed value\n    from[camelProp] = computed[camelProp];\n    \n    // Normalize target value\n    if (isNumeric(targetValue) && !cssNumber.has(camelProp)) {\n      to[camelProp] = targetValue + 'px';\n    } else {\n      to[camelProp] = targetValue;\n    }\n  }\n  \n  // Handle show/hide/toggle special values\n  const keyframes = [from, to];\n  \n  // Use Web Animation API\n  const animation = elem.animate(keyframes, {\n    duration: options.duration,\n    easing: options.easing,\n    fill: 'forwards'\n  });\n  \n  // Store animation for stop/finish\n  const animations = getInternalData(elem, 'animations') || [];\n  animations.push(animation);\n  setInternalData(elem, 'animations', animations);\n  \n  animation.onfinish = () => {\n    // Apply final values to style\n    for (const prop in to) {\n      elem.style[prop] = to[prop];\n    }\n    \n    // Remove from animations list\n    const anims = getInternalData(elem, 'animations') || [];\n    const idx = anims.indexOf(animation);\n    if (idx > -1) anims.splice(idx, 1);\n    setInternalData(elem, 'animations', anims);\n    \n    // Call complete callback\n    if (options.complete) {\n      options.complete.call(elem);\n    }\n    \n    // Call step callback (final)\n    if (options.step) {\n      options.step.call(elem, 1, { elem, prop: '', now: 1, end: 1 });\n    }\n    \n    deferred.resolveWith(elem, [animation, true]);\n  };\n  \n  animation.oncancel = () => {\n    deferred.rejectWith(elem, [animation, false]);\n  };\n  \n  return deferred.promise();\n}\n\n/**\n * Stop animations\n * @param {jQCollection} collection\n * @param {boolean} [clearQueue=false]\n * @param {boolean} [jumpToEnd=false]\n * @returns {jQCollection}\n */\nexport function stop(collection, clearQueue = false, jumpToEnd = false) {\n  return collection.each(function() {\n    const animations = getInternalData(this, 'animations') || [];\n    \n    animations.forEach(anim => {\n      if (jumpToEnd) {\n        anim.finish();\n      } else {\n        anim.cancel();\n      }\n    });\n    \n    setInternalData(this, 'animations', []);\n    \n    if (clearQueue) {\n      setInternalData(this, 'fxqueue', []);\n    }\n  });\n}\n\n/**\n * Finish all animations (jump to end)\n * @param {jQCollection} collection\n * @param {string} [queue]\n * @returns {jQCollection}\n */\nexport function finish(collection, queue) {\n  return collection.each(function() {\n    // Clear queue\n    setInternalData(this, 'fxqueue', []);\n    \n    // Finish all animations\n    const animations = getInternalData(this, 'animations') || [];\n    animations.forEach(anim => anim.finish());\n    setInternalData(this, 'animations', []);\n  });\n}\n\n/**\n * Delay the queue\n * @param {jQCollection} collection\n * @param {number} time\n * @param {string} [type]\n * @returns {jQCollection}\n */\nexport function delay(collection, time, type) {\n  const duration = normalizeDuration(time);\n  \n  return collection.each(function() {\n    let queue = getInternalData(this, 'fxqueue') || [];\n    \n    queue.push(() => {\n      return new Promise(resolve => setTimeout(resolve, duration));\n    });\n    \n    setInternalData(this, 'fxqueue', queue);\n    \n    if (queue.length === 1) {\n      processQueue(this);\n    }\n  });\n}\n\n/**\n * Get/set the queue\n * @param {jQCollection} collection\n * @param {string|Array|Function} [type]\n * @param {Array|Function} [data]\n * @returns {Array|jQCollection}\n */\nexport function queue(collection, type, data) {\n  // Getter\n  if (type === undefined || isString(type) && data === undefined) {\n    const elem = collection[0];\n    if (!elem) return [];\n    return getInternalData(elem, 'fxqueue') || [];\n  }\n  \n  // Handle (type, data) and (data) signatures\n  if (!isString(type)) {\n    data = type;\n    type = 'fx';\n  }\n  \n  // Setter\n  return collection.each(function() {\n    let queue = getInternalData(this, 'fxqueue') || [];\n    \n    if (Array.isArray(data)) {\n      queue = data.slice();\n    } else if (isFunction(data)) {\n      queue.push(data);\n    }\n    \n    setInternalData(this, 'fxqueue', queue);\n    \n    if (queue.length === 1) {\n      processQueue(this);\n    }\n  });\n}\n\n/**\n * Execute the next item in the queue\n * @param {jQCollection} collection\n * @param {string} [type]\n * @returns {jQCollection}\n */\nexport function dequeue(collection, type) {\n  return collection.each(function() {\n    const queue = getInternalData(this, 'fxqueue') || [];\n    \n    if (queue.length) {\n      queue.shift();\n      setInternalData(this, 'fxqueue', queue);\n      processQueue(this);\n    }\n  });\n}\n\n/**\n * Clear the queue\n * @param {jQCollection} collection\n * @param {string} [type]\n * @returns {jQCollection}\n */\nexport function clearQueue(collection, type) {\n  return collection.each(function() {\n    setInternalData(this, 'fxqueue', []);\n  });\n}\n\n/**\n * Get a promise resolved when all animations complete\n * @param {jQCollection} collection\n * @param {string} [type]\n * @param {Object} [target]\n * @returns {Promise}\n */\nexport function promise(collection, type, target) {\n  const deferred = Deferred();\n  \n  let count = collection.length;\n  if (count === 0) {\n    deferred.resolveWith(collection);\n    return deferred.promise(target);\n  }\n  \n  collection.each(function() {\n    const animations = getInternalData(this, 'animations') || [];\n    const queue = getInternalData(this, 'fxqueue') || [];\n    \n    if (!animations.length && !queue.length) {\n      count--;\n      if (count === 0) {\n        deferred.resolveWith(collection);\n      }\n      return;\n    }\n    \n    // Wait for all animations to finish\n    Promise.all(animations.map(a => \n      new Promise(resolve => {\n        const orig = a.onfinish;\n        a.onfinish = () => {\n          if (orig) orig();\n          resolve();\n        };\n      })\n    )).then(() => {\n      count--;\n      if (count === 0) {\n        deferred.resolveWith(collection);\n      }\n    });\n  });\n  \n  return deferred.promise(target);\n}\n\nexport default {\n  animate,\n  stop,\n  finish,\n  delay,\n  queue,\n  dequeue,\n  clearQueue,\n  promise,\n  fx,\n  speeds\n};","/**\n * jQNext - Show/Hide Effects\n * Show, hide, toggle, slide, and fade effects\n */\n\nimport { isFunction, isString, isPlainObject } from '../utilities/type.js';\nimport { animate, speeds, fx } from './core.js';\nimport { getInternalData, setInternalData } from '../core/data.js';\n\n/**\n * Get the default display value for an element\n */\nconst displayCache = {};\nfunction getDefaultDisplay(elem) {\n  const nodeName = elem.nodeName.toLowerCase();\n  \n  if (displayCache[nodeName]) {\n    return displayCache[nodeName];\n  }\n  \n  const temp = document.createElement(nodeName);\n  document.body.appendChild(temp);\n  const display = getComputedStyle(temp).display;\n  document.body.removeChild(temp);\n  \n  displayCache[nodeName] = display === 'none' ? 'block' : display;\n  return displayCache[nodeName];\n}\n\n/**\n * Check if element is hidden\n */\nfunction isHidden(elem) {\n  return getComputedStyle(elem).display === 'none';\n}\n\n/**\n * Normalize show/hide options\n */\nfunction normalizeOptions(duration, easing, callback, useDefault = false) {\n  let options = {};\n  \n  if (isPlainObject(duration)) {\n    options = { ...duration };\n  } else {\n    if (isFunction(easing)) {\n      callback = easing;\n      easing = undefined;\n    } else if (isFunction(duration)) {\n      callback = duration;\n      duration = undefined;\n    }\n    \n    options = {\n      duration,\n      easing,\n      complete: callback\n    };\n  }\n  \n  // Normalize duration\n  // If no duration provided and useDefault is false, use 0 (instant)\n  // If useDefault is true, use speeds._default\n  if (options.duration === undefined) {\n    options.duration = useDefault ? speeds._default : 0;\n  } else if (isString(options.duration)) {\n    options.duration = speeds[options.duration] || speeds._default;\n  }\n  \n  // Handle fx.off\n  if (fx.off) {\n    options.duration = 0;\n  }\n  \n  return options;\n}\n\n/**\n * Show elements with optional animation\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function show(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  // No animation\n  if (!options.duration) {\n    return collection.each(function() {\n      if (isHidden(this)) {\n        this.style.display = getInternalData(this, 'olddisplay') || getDefaultDisplay(this);\n      }\n      if (options.complete) {\n        options.complete.call(this);\n      }\n    });\n  }\n  \n  // With animation\n  return collection.each(function() {\n    if (!isHidden(this)) {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    // Store original display\n    const display = getInternalData(this, 'olddisplay') || getDefaultDisplay(this);\n    \n    // Set initial state\n    this.style.overflow = 'hidden';\n    this.style.display = display;\n    \n    // Get natural dimensions\n    const targetHeight = this.offsetHeight;\n    const targetWidth = this.offsetWidth;\n    \n    // Start from zero\n    this.style.height = '0px';\n    this.style.width = '0px';\n    this.style.opacity = '0';\n    \n    // Animate to natural size\n    animate({ 0: this, length: 1 }, {\n      height: targetHeight,\n      width: targetWidth,\n      opacity: 1\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.overflow = '';\n        this.style.height = '';\n        this.style.width = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Hide elements with optional animation\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function hide(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  // No animation\n  if (!options.duration) {\n    return collection.each(function() {\n      if (!isHidden(this)) {\n        // Store current display\n        const display = getComputedStyle(this).display;\n        if (display !== 'none') {\n          setInternalData(this, 'olddisplay', display);\n        }\n        this.style.display = 'none';\n      }\n      if (options.complete) {\n        options.complete.call(this);\n      }\n    });\n  }\n  \n  // With animation\n  return collection.each(function() {\n    if (isHidden(this)) {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    // Store original display\n    const display = getComputedStyle(this).display;\n    if (display !== 'none') {\n      setInternalData(this, 'olddisplay', display);\n    }\n    \n    this.style.overflow = 'hidden';\n    \n    animate({ 0: this, length: 1 }, {\n      height: 0,\n      width: 0,\n      opacity: 0\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.display = 'none';\n        this.style.overflow = '';\n        this.style.height = '';\n        this.style.width = '';\n        this.style.opacity = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Toggle visibility with optional animation\n * @param {jQCollection} collection\n * @param {boolean|number|string|Object} [state]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function toggle(collection, state, easing, callback) {\n  // Handle boolean state\n  if (typeof state === 'boolean') {\n    return state ? show(collection) : hide(collection);\n  }\n  \n  return collection.each(function() {\n    if (isHidden(this)) {\n      show({ 0: this, length: 1 }, state, easing, callback);\n    } else {\n      hide({ 0: this, length: 1 }, state, easing, callback);\n    }\n  });\n}\n\n/**\n * Slide down (show with height animation)\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function slideDown(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  return collection.each(function() {\n    if (!isHidden(this)) {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    const display = getInternalData(this, 'olddisplay') || getDefaultDisplay(this);\n    \n    // Show element to get natural height\n    this.style.display = display;\n    this.style.overflow = 'hidden';\n    const targetHeight = this.offsetHeight;\n    \n    // Start from zero height\n    this.style.height = '0px';\n    \n    animate({ 0: this, length: 1 }, {\n      height: targetHeight\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.overflow = '';\n        this.style.height = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Slide up (hide with height animation)\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function slideUp(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  return collection.each(function() {\n    if (isHidden(this)) {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    // Store original display\n    const display = getComputedStyle(this).display;\n    if (display !== 'none') {\n      setInternalData(this, 'olddisplay', display);\n    }\n    \n    this.style.overflow = 'hidden';\n    \n    animate({ 0: this, length: 1 }, {\n      height: 0\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.display = 'none';\n        this.style.overflow = '';\n        this.style.height = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Toggle slide\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function slideToggle(collection, duration, easing, callback) {\n  return collection.each(function() {\n    if (isHidden(this)) {\n      slideDown({ 0: this, length: 1 }, duration, easing, callback);\n    } else {\n      slideUp({ 0: this, length: 1 }, duration, easing, callback);\n    }\n  });\n}\n\n/**\n * Fade in\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function fadeIn(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  return collection.each(function() {\n    if (!isHidden(this) && getComputedStyle(this).opacity !== '0') {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    const display = getInternalData(this, 'olddisplay') || getDefaultDisplay(this);\n    \n    this.style.display = display;\n    this.style.opacity = '0';\n    \n    animate({ 0: this, length: 1 }, {\n      opacity: 1\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.opacity = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Fade out\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function fadeOut(collection, duration, easing, callback) {\n  const options = normalizeOptions(duration, easing, callback);\n  \n  return collection.each(function() {\n    if (isHidden(this)) {\n      if (options.complete) options.complete.call(this);\n      return;\n    }\n    \n    // Store original display\n    const display = getComputedStyle(this).display;\n    if (display !== 'none') {\n      setInternalData(this, 'olddisplay', display);\n    }\n    \n    animate({ 0: this, length: 1 }, {\n      opacity: 0\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: () => {\n        this.style.display = 'none';\n        this.style.opacity = '';\n        if (options.complete) options.complete.call(this);\n      }\n    });\n  });\n}\n\n/**\n * Fade to specific opacity\n * @param {jQCollection} collection\n * @param {number|string} duration\n * @param {number} opacity\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function fadeTo(collection, duration, opacity, callback) {\n  const options = normalizeOptions(duration, undefined, callback);\n  \n  return collection.each(function() {\n    // Show if hidden\n    if (isHidden(this)) {\n      this.style.opacity = '0';\n      this.style.display = getInternalData(this, 'olddisplay') || getDefaultDisplay(this);\n    }\n    \n    animate({ 0: this, length: 1 }, {\n      opacity: opacity\n    }, {\n      duration: options.duration,\n      easing: options.easing,\n      complete: options.complete\n    });\n  });\n}\n\n/**\n * Toggle fade\n * @param {jQCollection} collection\n * @param {number|string|Object} [duration]\n * @param {string|Function} [easing]\n * @param {Function} [callback]\n * @returns {jQCollection}\n */\nexport function fadeToggle(collection, duration, easing, callback) {\n  return collection.each(function() {\n    if (isHidden(this) || getComputedStyle(this).opacity === '0') {\n      fadeIn({ 0: this, length: 1 }, duration, easing, callback);\n    } else {\n      fadeOut({ 0: this, length: 1 }, duration, easing, callback);\n    }\n  });\n}\n\nexport default {\n  show,\n  hide,\n  toggle,\n  slideDown,\n  slideUp,\n  slideToggle,\n  fadeIn,\n  fadeOut,\n  fadeTo,\n  fadeToggle\n};","/**\n * jQNext - AJAX Core\n * Modern AJAX using Fetch API with jQuery-compatible interface\n */\n\nimport { isFunction, isPlainObject, isString, isArray } from '../utilities/type.js';\nimport { extend } from '../utilities/objects.js';\nimport { Deferred } from '../utilities/deferred.js';\nimport { param } from '../utilities/strings.js';\nimport { trigger } from '../events/core.js';\n\n// Default AJAX settings\nexport const ajaxSettings = {\n  url: location.href,\n  type: 'GET',\n  contentType: 'application/x-www-form-urlencoded; charset=UTF-8',\n  processData: true,\n  async: true,\n  accepts: {\n    '*': '*/*',\n    text: 'text/plain',\n    html: 'text/html',\n    xml: 'application/xml, text/xml',\n    json: 'application/json, text/javascript',\n    script: 'text/javascript, application/javascript'\n  },\n  dataType: null,\n  timeout: 0,\n  cache: true,\n  crossDomain: false,\n  headers: {},\n  global: true\n};\n\n// Active request count\nlet active = 0;\n\n/**\n * Setup default AJAX settings\n * @param {Object} settings\n */\nexport function ajaxSetup(settings) {\n  extend(ajaxSettings, settings);\n}\n\n/**\n * AJAX prefilters\n */\nconst prefilters = [];\n\n/**\n * Add AJAX prefilter\n * @param {string|Function} dataTypeOrHandler\n * @param {Function} [handler]\n */\nexport function ajaxPrefilter(dataTypeOrHandler, handler) {\n  if (isFunction(dataTypeOrHandler)) {\n    handler = dataTypeOrHandler;\n    dataTypeOrHandler = '*';\n  }\n  prefilters.push({ dataType: dataTypeOrHandler, handler });\n}\n\n/**\n * AJAX transports\n */\nconst transports = {};\n\n/**\n * Add AJAX transport\n * @param {string} dataType\n * @param {Function} handler\n */\nexport function ajaxTransport(dataType, handler) {\n  transports[dataType] = handler;\n}\n\n/**\n * Main AJAX function\n * @param {string|Object} url - URL or settings object\n * @param {Object} [settings] - AJAX settings\n * @returns {Object} - jqXHR object (Deferred-compatible)\n */\nexport function ajax(url, settings) {\n  // Handle overloaded signature\n  if (typeof url === 'object') {\n    settings = url;\n    url = settings.url;\n  }\n  \n  // Merge settings with defaults\n  const s = extend({}, ajaxSettings, settings);\n  s.url = url || s.url;\n  s.type = (s.type || s.method || 'GET').toUpperCase();\n  \n  // Process data types\n  const dataTypes = (s.dataType || '*').toLowerCase().split(/\\s+/);\n  \n  // Create jqXHR (Deferred-compatible) - MUST be before prefilters\n  const deferred = Deferred();\n  const jqXHR = deferred.promise({\n    readyState: 0,\n    status: 0,\n    statusText: '',\n    responseText: '',\n    responseJSON: null,\n    responseXML: null,\n    \n    getResponseHeader(name) {\n      return this._responseHeaders?.[name.toLowerCase()];\n    },\n    \n    getAllResponseHeaders() {\n      if (!this._responseHeaders) return '';\n      return Object.entries(this._responseHeaders)\n        .map(([k, v]) => `${k}: ${v}`)\n        .join('\\r\\n');\n    },\n    \n    setRequestHeader(name, value) {\n      if (this.readyState === 0) {\n        s.headers[name] = value;\n      }\n      return this;\n    },\n    \n    overrideMimeType(type) {\n      s.mimeType = type;\n      return this;\n    },\n    \n    abort(statusText) {\n      if (controller) {\n        controller.abort();\n      }\n      done(0, statusText || 'abort');\n      return this;\n    }\n  });\n  \n  // Run prefilters (after jqXHR is created)\n  prefilters.forEach(({ dataType, handler }) => {\n    if (dataType === '*' || dataTypes.includes(dataType)) {\n      handler(s, settings || {}, jqXHR);\n    }\n  });\n  \n  // Callbacks\n  jqXHR.success = jqXHR.done;\n  jqXHR.error = jqXHR.fail;\n  jqXHR.complete = jqXHR.always;\n  \n  // Abort controller\n  let controller;\n  \n  // Process URL for cache busting\n  let requestUrl = s.url;\n  \n  if (!s.cache && s.type === 'GET') {\n    const timestamp = '_=' + Date.now();\n    requestUrl += (requestUrl.indexOf('?') > -1 ? '&' : '?') + timestamp;\n  }\n  \n  // Process data\n  let requestData = s.data;\n  \n  if (requestData && s.processData && !isString(requestData)) {\n    requestData = param(requestData);\n  }\n  \n  // Append data to URL for GET requests\n  if (requestData && s.type === 'GET') {\n    requestUrl += (requestUrl.indexOf('?') > -1 ? '&' : '?') + requestData;\n    requestData = null;\n  }\n  \n  // Build fetch options\n  const fetchOptions = {\n    method: s.type,\n    headers: new Headers(),\n    credentials: s.xhrFields?.withCredentials ? 'include' : 'same-origin'\n  };\n  \n  // Set headers\n  if (s.contentType !== false && s.type !== 'GET') {\n    fetchOptions.headers.set('Content-Type', s.contentType);\n  }\n  \n  // Accept header based on dataType\n  const accept = s.accepts[dataTypes[0]] || s.accepts['*'];\n  fetchOptions.headers.set('Accept', accept);\n  \n  // X-Requested-With header\n  if (!s.crossDomain) {\n    fetchOptions.headers.set('X-Requested-With', 'XMLHttpRequest');\n  }\n  \n  // Custom headers\n  for (const header in s.headers) {\n    fetchOptions.headers.set(header, s.headers[header]);\n  }\n  \n  // Set body for non-GET requests\n  if (requestData && s.type !== 'GET') {\n    if (s.contentType && s.contentType.indexOf('json') > -1) {\n      fetchOptions.body = isString(requestData) ? requestData : JSON.stringify(requestData);\n    } else if (requestData instanceof FormData) {\n      fetchOptions.body = requestData;\n      // Let browser set content-type for FormData\n      fetchOptions.headers.delete('Content-Type');\n    } else {\n      fetchOptions.body = requestData;\n    }\n  }\n  \n  // Timeout handling\n  if (s.timeout > 0) {\n    controller = new AbortController();\n    fetchOptions.signal = controller.signal;\n    \n    setTimeout(() => {\n      if (jqXHR.readyState < 4) {\n        controller.abort();\n        done(0, 'timeout');\n      }\n    }, s.timeout);\n  }\n  \n  // Before send callback\n  if (s.beforeSend) {\n    if (s.beforeSend.call(s.context || s, jqXHR, s) === false) {\n      return jqXHR;\n    }\n  }\n  \n  // Global ajaxStart\n  if (s.global && active++ === 0) {\n    triggerGlobal('ajaxStart');\n  }\n  \n  // Global ajaxSend\n  if (s.global) {\n    triggerGlobal('ajaxSend', [jqXHR, s]);\n  }\n  \n  jqXHR.readyState = 1;\n  \n  // Execute fetch\n  fetch(requestUrl, fetchOptions)\n    .then(response => {\n      jqXHR.readyState = 2;\n      jqXHR.status = response.status;\n      jqXHR.statusText = response.statusText;\n      \n      // Store headers\n      jqXHR._responseHeaders = {};\n      response.headers.forEach((value, name) => {\n        jqXHR._responseHeaders[name.toLowerCase()] = value;\n      });\n      \n      // Check for HTTP errors\n      if (!response.ok) {\n        throw response;\n      }\n      \n      // Parse response based on dataType\n      const contentType = response.headers.get('Content-Type') || '';\n      let dataType = dataTypes[0];\n      \n      // Auto-detect data type if not specified\n      if (!dataType || dataType === '*') {\n        if (contentType.indexOf('json') > -1) {\n          dataType = 'json';\n        } else if (contentType.indexOf('xml') > -1) {\n          dataType = 'xml';\n        } else if (contentType.indexOf('html') > -1) {\n          dataType = 'html';\n        } else {\n          dataType = 'text';\n        }\n      }\n      \n      // Parse response\n      if (dataType === 'json') {\n        return response.json().then(data => {\n          jqXHR.responseJSON = data;\n          return data;\n        });\n      } else if (dataType === 'xml') {\n        return response.text().then(text => {\n          jqXHR.responseText = text;\n          const parser = new DOMParser();\n          jqXHR.responseXML = parser.parseFromString(text, 'text/xml');\n          return jqXHR.responseXML;\n        });\n      } else {\n        return response.text().then(text => {\n          jqXHR.responseText = text;\n          return text;\n        });\n      }\n    })\n    .then(data => {\n      done(jqXHR.status, jqXHR.statusText, data);\n    })\n    .catch(error => {\n      if (error.name === 'AbortError') {\n        // Already handled by abort\n        return;\n      }\n      \n      jqXHR.status = error.status || 0;\n      jqXHR.statusText = error.statusText || 'error';\n      \n      done(jqXHR.status, jqXHR.statusText, null, error);\n    });\n  \n  /**\n   * Complete the request\n   */\n  function done(status, statusText, data, error) {\n    if (jqXHR.readyState === 4) return;\n    \n    jqXHR.readyState = 4;\n    jqXHR.status = status;\n    jqXHR.statusText = statusText;\n    \n    const isSuccess = status >= 200 && status < 300 || status === 304;\n    \n    if (isSuccess) {\n      // Success callbacks\n      if (s.success) {\n        s.success.call(s.context || s, data, statusText, jqXHR);\n      }\n      deferred.resolveWith(s.context || s, [data, statusText, jqXHR]);\n    } else {\n      // Error callbacks\n      if (s.error) {\n        s.error.call(s.context || s, jqXHR, statusText, error);\n      }\n      deferred.rejectWith(s.context || s, [jqXHR, statusText, error]);\n    }\n    \n    // Complete callbacks\n    if (s.complete) {\n      s.complete.call(s.context || s, jqXHR, statusText);\n    }\n    \n    // Global events\n    if (s.global) {\n      triggerGlobal('ajaxComplete', [jqXHR, s]);\n      \n      if (isSuccess) {\n        triggerGlobal('ajaxSuccess', [jqXHR, s, data]);\n      } else {\n        triggerGlobal('ajaxError', [jqXHR, s, error]);\n      }\n      \n      if (--active === 0) {\n        triggerGlobal('ajaxStop');\n      }\n    }\n  }\n  \n  return jqXHR;\n}\n\n/**\n * Trigger global AJAX event\n */\nfunction triggerGlobal(type, args = []) {\n  const event = new CustomEvent(type, {\n    bubbles: true,\n    cancelable: true,\n    detail: args\n  });\n  document.dispatchEvent(event);\n}\n\n/**\n * Shorthand GET request\n * @param {string} url\n * @param {Object|Function} [data]\n * @param {Function} [success]\n * @param {string} [dataType]\n * @returns {Object} jqXHR\n */\nexport function get(url, data, success, dataType) {\n  // Shift arguments if data is a function\n  if (isFunction(data)) {\n    dataType = dataType || success;\n    success = data;\n    data = undefined;\n  }\n  \n  return ajax({\n    url,\n    data,\n    success,\n    dataType,\n    type: 'GET'\n  });\n}\n\n/**\n * Shorthand POST request\n * @param {string} url\n * @param {Object|Function} [data]\n * @param {Function} [success]\n * @param {string} [dataType]\n * @returns {Object} jqXHR\n */\nexport function post(url, data, success, dataType) {\n  if (isFunction(data)) {\n    dataType = dataType || success;\n    success = data;\n    data = undefined;\n  }\n  \n  return ajax({\n    url,\n    data,\n    success,\n    dataType,\n    type: 'POST'\n  });\n}\n\n/**\n * Get JSON\n * @param {string} url\n * @param {Object|Function} [data]\n * @param {Function} [success]\n * @returns {Object} jqXHR\n */\nexport function getJSON(url, data, success) {\n  if (isFunction(data)) {\n    success = data;\n    data = undefined;\n  }\n  \n  return get(url, data, success, 'json');\n}\n\n/**\n * Load and execute script\n * @param {string} url\n * @param {Function} [success]\n * @returns {Object} jqXHR\n */\nexport function getScript(url, success) {\n  return ajax({\n    url,\n    type: 'GET',\n    dataType: 'script',\n    cache: true,\n    success\n  }).then(script => {\n    // Execute the script\n    const scriptElem = document.createElement('script');\n    scriptElem.text = script;\n    document.head.appendChild(scriptElem).parentNode.removeChild(scriptElem);\n    return script;\n  });\n}\n\n/**\n * Load HTML into element\n * @param {jQCollection} collection\n * @param {string} url\n * @param {Object|Function} [data]\n * @param {Function} [complete]\n * @returns {jQCollection}\n */\nexport function load(collection, url, data, complete) {\n  if (!collection.length) {\n    return collection;\n  }\n  \n  // Ensure url is a string\n  if (typeof url !== 'string') {\n    return collection;\n  }\n  \n  // Handle argument shifting\n  if (isFunction(data)) {\n    complete = data;\n    data = undefined;\n  }\n  \n  // Check for selector in URL\n  const selector = url.indexOf(' ') > -1\n    ? url.slice(url.indexOf(' ') + 1)\n    : null;\n  const requestUrl = selector ? url.slice(0, url.indexOf(' ')) : url;\n  \n  ajax({\n    url: requestUrl,\n    type: data ? 'POST' : 'GET',\n    dataType: 'html',\n    data\n  }).done((responseText) => {\n    // If selector specified, extract matching content\n    let content = responseText;\n    \n    if (selector) {\n      const temp = document.createElement('div');\n      temp.innerHTML = responseText;\n      const found = temp.querySelectorAll(selector);\n      content = '';\n      found.forEach(el => content += el.innerHTML);\n    }\n    \n    // Insert content\n    collection.each(function() {\n      this.innerHTML = content;\n    });\n    \n    // Execute callback\n    if (complete) {\n      collection.each(function() {\n        complete.call(this, responseText, 'success', null);\n      });\n    }\n  }).fail((jqXHR, status, error) => {\n    if (complete) {\n      collection.each(function() {\n        complete.call(this, jqXHR.responseText || '', status, jqXHR);\n      });\n    }\n  });\n  \n  return collection;\n}\n\nexport default {\n  ajax,\n  ajaxSetup,\n  ajaxPrefilter,\n  ajaxTransport,\n  ajaxSettings,\n  get,\n  post,\n  getJSON,\n  getScript,\n  load\n};","/**\n * jQNext - Form Serialization\n * Serialize forms and form elements\n */\n\nimport { param } from '../utilities/strings.js';\n\n/**\n * Elements that can be serialized\n */\nconst rsubmittable = /^(?:input|select|textarea|keygen)/i;\nconst rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i;\nconst rcheckableType = /^(?:checkbox|radio)$/i;\n\n/**\n * Get serializable form elements\n * @param {Element} form\n * @returns {Element[]}\n */\nfunction getSerializableElements(form) {\n  const elements = [];\n  \n  // Handle form or collection of elements\n  if (form.elements) {\n    // It's a form\n    const formElements = form.elements;\n    for (let i = 0; i < formElements.length; i++) {\n      elements.push(formElements[i]);\n    }\n  } else if (form.length !== undefined) {\n    // It's a collection\n    for (let i = 0; i < form.length; i++) {\n      if (form[i].elements) {\n        // Form element\n        const formElements = form[i].elements;\n        for (let j = 0; j < formElements.length; j++) {\n          elements.push(formElements[j]);\n        }\n      } else {\n        elements.push(form[i]);\n      }\n    }\n  } else {\n    elements.push(form);\n  }\n  \n  return elements.filter(elem => {\n    const type = elem.type;\n    const name = elem.name;\n    \n    // Must have a name\n    if (!name) return false;\n    \n    // Must not be disabled\n    if (elem.disabled) return false;\n    \n    // Must match submittable pattern\n    if (!rsubmittable.test(elem.nodeName)) return false;\n    \n    // Must not be submit/button/image/reset/file type\n    if (rsubmitterTypes.test(type)) return false;\n    \n    // Checkboxes and radios must be checked\n    if (rcheckableType.test(type) && !elem.checked) return false;\n    \n    return true;\n  });\n}\n\n/**\n * Get the value of a form element\n * @param {Element} elem\n * @returns {string|string[]}\n */\nfunction getValue(elem) {\n  const type = elem.type;\n  \n  // Select element\n  if (elem.nodeName.toLowerCase() === 'select') {\n    if (elem.multiple) {\n      const values = [];\n      const options = elem.options;\n      for (let i = 0; i < options.length; i++) {\n        if (options[i].selected) {\n          values.push(options[i].value);\n        }\n      }\n      return values;\n    }\n    return elem.value;\n  }\n  \n  // Checkbox/radio\n  if (rcheckableType.test(type)) {\n    return elem.value;\n  }\n  \n  // Normalize line endings\n  return elem.value.replace(/\\r?\\n/g, '\\r\\n');\n}\n\n/**\n * Serialize form elements to array of {name, value} objects\n * @param {jQCollection} collection\n * @returns {Array}\n */\nexport function serializeArray(collection) {\n  const result = [];\n  \n  // Get all elements to serialize\n  const elements = [];\n  for (let i = 0; i < collection.length; i++) {\n    elements.push(...getSerializableElements(collection[i]));\n  }\n  \n  // Build result array\n  elements.forEach(elem => {\n    const name = elem.name;\n    const value = getValue(elem);\n    \n    if (Array.isArray(value)) {\n      // Multiple select values\n      value.forEach(v => {\n        result.push({ name, value: v });\n      });\n    } else {\n      result.push({ name, value });\n    }\n  });\n  \n  return result;\n}\n\n/**\n * Serialize form elements to URL-encoded string\n * @param {jQCollection} collection\n * @returns {string}\n */\nexport function serialize(collection) {\n  return param(serializeArray(collection));\n}\n\nexport default {\n  serialize,\n  serializeArray\n};","/**\n * jQNext - jQuery UI Compatibility Layer\n * Widget factory and UI utilities for jQuery UI 1.11.x support\n */\n\nimport { isFunction, isPlainObject, isArray } from '../utilities/type.js';\nimport { extend, each } from '../utilities/objects.js';\nimport { setData, getDataValue, removeData } from '../core/data.js';\nimport { on, off, trigger } from '../events/core.js';\n\n/**\n * UI namespace\n */\nexport const ui = {\n  version: '1.11.4-compat',\n  \n  // Key codes used by jQuery UI\n  keyCode: {\n    BACKSPACE: 8,\n    COMMA: 188,\n    DELETE: 46,\n    DOWN: 40,\n    END: 35,\n    ENTER: 13,\n    ESCAPE: 27,\n    HOME: 36,\n    LEFT: 37,\n    PAGE_DOWN: 34,\n    PAGE_UP: 33,\n    PERIOD: 190,\n    RIGHT: 39,\n    SPACE: 32,\n    TAB: 9,\n    UP: 38\n  },\n  \n  // Safe active element access\n  safeActiveElement: function(document) {\n    try {\n      return document.activeElement;\n    } catch (error) {\n      return document.body;\n    }\n  },\n  \n  // Safe blur\n  safeBlur: function(element) {\n    if (element && element.nodeName.toLowerCase() !== 'body') {\n      try {\n        element.blur();\n      } catch (error) {\n        // Ignore errors\n      }\n    }\n  }\n};\n\n/**\n * Widget factory storage\n */\nconst widgetUuid = 0;\nconst widgetSlice = Array.prototype.slice;\n\n/**\n * Base Widget class\n */\nexport class Widget {\n  constructor() {\n    this.widgetName = 'widget';\n    this.widgetEventPrefix = '';\n    this.defaultElement = '<div>';\n    this.options = {\n      disabled: false,\n      create: null\n    };\n    this.element = null;\n    this.uuid = widgetUuid;\n    this.eventNamespace = '';\n    this.bindings = null;\n    this.hoverable = null;\n    this.focusable = null;\n  }\n  \n  _createWidget(options, element) {\n    this.element = element instanceof Element ? element : element[0];\n    this.uuid = widgetUuid++;\n    this.eventNamespace = '.' + this.widgetName + this.uuid;\n    this.bindings = [];\n    this.hoverable = [];\n    this.focusable = [];\n    \n    // Merge options\n    this.options = extend(true, {},\n      this.options,\n      this._getCreateOptions(),\n      options\n    );\n    \n    // Store instance\n    setData(this.element, 'ui-' + this.widgetName, this);\n    \n    this._create();\n    this._trigger('create', null, this._getCreateEventData());\n    this._init();\n  }\n  \n  _getCreateOptions() {\n    return {};\n  }\n  \n  _getCreateEventData() {\n    return {};\n  }\n  \n  _create() {}\n  \n  _init() {}\n  \n  destroy() {\n    this._destroy();\n    \n    // Remove data\n    removeData(this.element, 'ui-' + this.widgetName);\n    \n    // Unbind events\n    this.bindings.forEach(binding => {\n      off({ 0: binding, length: 1 }, this.eventNamespace);\n    });\n    \n    // Remove hover/focus classes\n    this.hoverable.forEach(elem => {\n      elem.classList.remove('ui-state-hover');\n    });\n    this.focusable.forEach(elem => {\n      elem.classList.remove('ui-state-focus');\n    });\n  }\n  \n  _destroy() {}\n  \n  widget() {\n    return this.element;\n  }\n  \n  option(key, value) {\n    if (arguments.length === 0) {\n      return extend({}, this.options);\n    }\n    \n    if (typeof key === 'string') {\n      const parts = key.split('.');\n      let curOption = this.options;\n      \n      // Getter\n      if (value === undefined) {\n        for (let i = 0; i < parts.length; i++) {\n          curOption = curOption[parts[i]];\n          if (curOption === undefined) {\n            return undefined;\n          }\n        }\n        return curOption;\n      }\n      \n      // Setter\n      const lastPart = parts.pop();\n      for (let i = 0; i < parts.length; i++) {\n        curOption = curOption[parts[i]] = curOption[parts[i]] || {};\n      }\n      curOption[lastPart] = value;\n      this._setOption(lastPart, value);\n    } else {\n      // Object of options\n      for (const k in key) {\n        this._setOption(k, key[k]);\n      }\n    }\n    \n    return this;\n  }\n  \n  _setOption(key, value) {\n    this.options[key] = value;\n    \n    if (key === 'disabled') {\n      this._toggleClass(this.widget(), null, 'ui-state-disabled', !!value);\n      if (value) {\n        this._removeClass(this.hoverable, null, 'ui-state-hover');\n        this._removeClass(this.focusable, null, 'ui-state-focus');\n      }\n    }\n    \n    return this;\n  }\n  \n  _setOptions(options) {\n    for (const key in options) {\n      this._setOption(key, options[key]);\n    }\n    return this;\n  }\n  \n  enable() {\n    return this._setOptions({ disabled: false });\n  }\n  \n  disable() {\n    return this._setOptions({ disabled: true });\n  }\n  \n  _on(suppressDisabledCheck, element, handlers) {\n    // Handle argument shifting\n    if (typeof suppressDisabledCheck !== 'boolean') {\n      handlers = element;\n      element = suppressDisabledCheck;\n      suppressDisabledCheck = false;\n    }\n    \n    if (!handlers) {\n      handlers = element;\n      element = this.element;\n    } else {\n      element = element instanceof Element ? element : element[0] || element;\n    }\n    \n    const instance = this;\n    \n    for (const event in handlers) {\n      const handler = handlers[event];\n      \n      // Ensure event is a string\n      const eventStr = String(event || '');\n      \n      // Add namespace\n      const eventParts = eventStr.split(' ');\n      const eventType = eventParts[0] + this.eventNamespace;\n      const selector = eventParts.slice(1).join(' ') || undefined;\n      \n      const wrappedHandler = function(evt) {\n        if (!suppressDisabledCheck && \n            (instance.options.disabled === true || \n             evt.currentTarget.classList.contains('ui-state-disabled'))) {\n          return;\n        }\n        return (typeof handler === 'string' ? instance[handler] : handler)\n          .apply(instance, arguments);\n      };\n      \n      on({ 0: element, length: 1 }, eventType, selector, null, wrappedHandler);\n      this.bindings.push(element);\n    }\n  }\n  \n  _off(element, eventName) {\n    const elem = element instanceof Element ? element : element[0] || element;\n    eventName = (eventName || '').split(' ')\n      .map(e => e + this.eventNamespace)\n      .join(' ');\n    off({ 0: elem, length: 1 }, eventName);\n  }\n  \n  _trigger(type, event, data) {\n    const prop = this.options[type];\n    data = data || {};\n    \n    // Create jQuery-like event\n    const customEvent = new CustomEvent(this.widgetEventPrefix + type, {\n      bubbles: true,\n      cancelable: true,\n      detail: data\n    });\n    \n    // Add original event properties\n    if (event) {\n      customEvent.originalEvent = event;\n    }\n    \n    this.element.dispatchEvent(customEvent);\n    \n    // Call callback\n    if (isFunction(prop)) {\n      return prop.call(this.element, customEvent, data) !== false && \n             !customEvent.defaultPrevented;\n    }\n    \n    return !customEvent.defaultPrevented;\n  }\n  \n  _delay(handler, delay) {\n    const instance = this;\n    return setTimeout(function() {\n      return (typeof handler === 'string' ? instance[handler] : handler)\n        .apply(instance, arguments);\n    }, delay || 0);\n  }\n  \n  _hoverable(element) {\n    const elem = element instanceof Element ? element : element[0];\n    this.hoverable.push(elem);\n    \n    this._on(elem, {\n      mouseenter: function(event) {\n        this._addClass(event.currentTarget, null, 'ui-state-hover');\n      },\n      mouseleave: function(event) {\n        this._removeClass(event.currentTarget, null, 'ui-state-hover');\n      }\n    });\n  }\n  \n  _focusable(element) {\n    const elem = element instanceof Element ? element : element[0];\n    this.focusable.push(elem);\n    \n    this._on(elem, {\n      focusin: function(event) {\n        this._addClass(event.currentTarget, null, 'ui-state-focus');\n      },\n      focusout: function(event) {\n        this._removeClass(event.currentTarget, null, 'ui-state-focus');\n      }\n    });\n  }\n  \n  _addClass(element, keys, extra) {\n    const elem = element instanceof Element ? element : \n                 (element && element[0]) || this.element;\n    const classes = [];\n    \n    if (keys) {\n      keys.split(' ').forEach(key => {\n        if (this.options.classes && this.options.classes[key]) {\n          classes.push(this.options.classes[key]);\n        }\n        classes.push(key);\n      });\n    }\n    \n    if (extra) {\n      classes.push(...extra.split(' '));\n    }\n    \n    elem.classList.add(...classes.filter(Boolean));\n  }\n  \n  _removeClass(element, keys, extra) {\n    const elem = element instanceof Element ? element :\n                 (element && element[0]) || this.element;\n    const classes = [];\n    \n    if (keys) {\n      keys.split(' ').forEach(key => {\n        if (this.options.classes && this.options.classes[key]) {\n          classes.push(this.options.classes[key]);\n        }\n        classes.push(key);\n      });\n    }\n    \n    if (extra) {\n      classes.push(...extra.split(' '));\n    }\n    \n    elem.classList.remove(...classes.filter(Boolean));\n  }\n  \n  _toggleClass(element, keys, extra, add) {\n    if (typeof add === 'boolean') {\n      if (add) {\n        this._addClass(element, keys, extra);\n      } else {\n        this._removeClass(element, keys, extra);\n      }\n    } else {\n      const elem = element instanceof Element ? element :\n                   (element && element[0]) || this.element;\n      \n      const classes = [];\n      if (keys) classes.push(...keys.split(' '));\n      if (extra) classes.push(...extra.split(' '));\n      \n      classes.filter(Boolean).forEach(cls => elem.classList.toggle(cls));\n    }\n  }\n  \n  _scrollParent(includeHidden) {\n    const position = getComputedStyle(this.element).position;\n    const excludeStaticParent = position === 'absolute';\n    const overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/;\n    \n    let scrollParent = this.element.parentElement;\n    \n    while (scrollParent) {\n      const style = getComputedStyle(scrollParent);\n      \n      if (excludeStaticParent && style.position === 'static') {\n        scrollParent = scrollParent.parentElement;\n        continue;\n      }\n      \n      if (overflowRegex.test(style.overflow + style.overflowY + style.overflowX)) {\n        return scrollParent;\n      }\n      \n      scrollParent = scrollParent.parentElement;\n    }\n    \n    return document.scrollingElement || document.documentElement;\n  }\n}\n\n/**\n * Widget factory function\n * Creates a new widget constructor and registers it as a jQuery plugin\n */\nexport function widget(name, base, prototype) {\n  const fullName = name;\n  const namespace = name.split('.')[0];\n  const widgetName = name.split('.')[1] || name;\n  \n  // Handle base argument\n  if (!prototype) {\n    prototype = base;\n    base = Widget;\n  }\n  \n  // Create widget constructor\n  const WidgetConstructor = function(options, element) {\n    // Allow instantiation without 'new'\n    if (!(this instanceof WidgetConstructor)) {\n      return new WidgetConstructor(options, element);\n    }\n    \n    // Call parent constructor\n    if (base !== Widget) {\n      base.call(this);\n    } else {\n      Widget.call(this);\n    }\n    \n    // Merge prototype\n    for (const key in prototype) {\n      if (key !== '_create' && key !== '_init' && key !== 'options') {\n        this[key] = prototype[key];\n      }\n    }\n    \n    // Set widget name\n    this.widgetName = widgetName;\n    this.widgetEventPrefix = prototype.widgetEventPrefix || widgetName;\n    \n    // Merge options\n    if (prototype.options) {\n      this.options = extend(true, {}, this.options, prototype.options);\n    }\n    \n    // Override _create and _init if provided\n    if (prototype._create) {\n      const parentCreate = this._create;\n      this._create = function() {\n        if (parentCreate) parentCreate.call(this);\n        prototype._create.call(this);\n      };\n    }\n    \n    if (prototype._init) {\n      const parentInit = this._init;\n      this._init = function() {\n        if (parentInit) parentInit.call(this);\n        prototype._init.call(this);\n      };\n    }\n    \n    if (prototype._destroy) {\n      const parentDestroy = this._destroy;\n      this._destroy = function() {\n        prototype._destroy.call(this);\n        if (parentDestroy) parentDestroy.call(this);\n      };\n    }\n    \n    // Initialize if element provided\n    if (arguments.length) {\n      this._createWidget(options, element);\n    }\n  };\n  \n  // Inherit from base\n  WidgetConstructor.prototype = Object.create(base.prototype);\n  WidgetConstructor.prototype.constructor = WidgetConstructor;\n  \n  // Store constructor\n  if (!ui[namespace]) {\n    ui[namespace] = {};\n  }\n  ui[widgetName] = WidgetConstructor;\n  \n  return WidgetConstructor;\n}\n\n/**\n * Register widget as jQuery plugin\n * @param {Function} jQNext - The jQNext function\n * @param {string} name - Widget name\n * @param {Function} WidgetConstructor - Widget constructor\n */\nexport function registerPlugin(jQNext, name, WidgetConstructor) {\n  const widgetName = name.split('.').pop();\n  \n  jQNext.fn[widgetName] = function(options, ...args) {\n    const isMethodCall = typeof options === 'string';\n    \n    if (isMethodCall) {\n      const methodName = options;\n      let returnValue;\n      \n      this.each(function() {\n        const instance = getDataValue(this, 'ui-' + widgetName);\n        \n        if (!instance) {\n          console.error(`Cannot call methods on ${widgetName} prior to initialization`);\n          return;\n        }\n        \n        if (!isFunction(instance[methodName]) || methodName.charAt(0) === '_') {\n          console.error(`No such method '${methodName}' for ${widgetName}`);\n          return;\n        }\n        \n        const result = instance[methodName](...args);\n        \n        if (result !== instance && result !== undefined) {\n          returnValue = result;\n          return false; // Break the loop\n        }\n      });\n      \n      return returnValue !== undefined ? returnValue : this;\n    }\n    \n    // Initialize widget\n    return this.each(function() {\n      const existing = getDataValue(this, 'ui-' + widgetName);\n      \n      if (existing) {\n        // Update options\n        existing._setOptions(options || {});\n        if (existing._init) {\n          existing._init();\n        }\n      } else {\n        // Create new instance\n        new WidgetConstructor(options, this);\n      }\n    });\n  };\n}\n\n/**\n * Plugin for adding UI support\n */\nexport const plugin = {\n  add: function(module, option, set) {\n    // Plugin extension point\n  },\n  \n  call: function(instance, name, args, allowDisconnected) {\n    const set = instance.plugins[name];\n    \n    if (!set) return;\n    \n    if (!allowDisconnected && \n        (!instance.element || !instance.element.parentNode || \n         instance.element.parentNode.nodeType === 11)) {\n      return;\n    }\n    \n    set.forEach(([proto, fn]) => {\n      if (instance.options[proto]) {\n        fn.apply(instance.element, args);\n      }\n    });\n  }\n};\n\nexport default {\n  ui,\n  widget,\n  Widget,\n  registerPlugin,\n  plugin\n};","/**\n * jQNext - Modern jQuery 2.x Compatible Library\n * \n * A drop-in replacement for jQuery 2.2.5 using modern JavaScript internals.\n * Compatible with jQuery UI 1.11.x\n * \n * @version 1.0.0\n * @author Ready Intelligence\n * @license MIT\n */\n\n// Core\nimport { jQCollection, setJQNext } from './core/collection.js';\nimport { expando, setData, getDataValue, removeData, hasData, cleanData } from './core/data.js';\n\n// Utilities\nimport {\n  type, isArray, isFunction, isWindow, isDocument, isElement,\n  isNumeric, isPlainObject, isEmptyObject, isArrayLike, isString\n} from './utilities/type.js';\nimport {\n  extend, each, map, grep, inArray, merge, makeArray,\n  proxy, noop, now, uniqueSort, contains, globalEval\n} from './utilities/objects.js';\nimport {\n  camelCase, trim, parseHTML, parseJSON, parseXML, param, error\n} from './utilities/strings.js';\nimport { Deferred, Callbacks, when } from './utilities/deferred.js';\n\n// Selectors\nimport { \n  querySelectorAllWithPseudo, matchesWithPseudo, pseudoSelectors \n} from './selectors/pseudo.js';\n\n// DOM\nimport * as traversal from './dom/traversal.js';\nimport * as manipulation from './dom/manipulation.js';\nimport * as attributes from './dom/attributes.js';\nimport * as cssModule from './dom/css.js';\nimport { cssHooks } from './dom/css.js';\n\n// Events\nimport { on, off, one, trigger, triggerHandler, special, parseEventTypes } from './events/core.js';\nimport * as eventShortcuts from './events/shortcuts.js';\n\n// Effects\nimport {\n  animate, stop, finish, delay, queue, dequeue, clearQueue, promise, fx, speeds\n} from './effects/core.js';\nimport {\n  show, hide, toggle, slideDown, slideUp, slideToggle,\n  fadeIn, fadeOut, fadeTo, fadeToggle\n} from './effects/showhide.js';\n\n// AJAX\nimport {\n  ajax, ajaxSetup, ajaxPrefilter, ajaxTransport, ajaxSettings,\n  get, post, getJSON, getScript, load\n} from './ajax/core.js';\nimport { serialize, serializeArray } from './ajax/serialize.js';\n\n// Compatibility\nimport { ui, widget, Widget, registerPlugin, plugin } from './compat/jquery-ui.js';\n\n/**\n * The main jQNext function\n * @param {string|Element|Function|NodeList|Array} selector\n * @param {Element|Document} [context]\n * @returns {jQCollection}\n */\nfunction jQNext(selector, context) {\n  const collection = new jQCollection();\n  collection.init(selector, context);\n  return collection;\n}\n\n// Set reference in collection module\nsetJQNext(jQNext);\n\n// Version\njQNext.fn = jQNext.prototype = jQCollection.prototype;\njQNext.fn.jquery = '2.2.5-jqnext';\njQNext.fn.constructor = jQNext;\n\n// ==================================================\n// STATIC METHODS\n// ==================================================\n\n// Utilities\njQNext.extend = extend;\njQNext.each = each;\njQNext.map = map;\njQNext.grep = grep;\njQNext.inArray = inArray;\njQNext.merge = merge;\njQNext.makeArray = makeArray;\njQNext.proxy = proxy;\njQNext.noop = noop;\njQNext.now = now;\njQNext.uniqueSort = uniqueSort;\njQNext.unique = uniqueSort; // Alias\njQNext.contains = contains;\njQNext.globalEval = globalEval;\n\n// Type checking\njQNext.type = type;\njQNext.isArray = isArray;\njQNext.isFunction = isFunction;\njQNext.isWindow = isWindow;\njQNext.isNumeric = isNumeric;\njQNext.isPlainObject = isPlainObject;\njQNext.isEmptyObject = isEmptyObject;\n\n// Check if a document is an XML document\njQNext.isXMLDoc = function(elem) {\n  // documentElement is verified for cases where it doesn't yet exist\n  const namespace = elem && (elem.ownerDocument || elem).documentElement;\n  return namespace ? namespace.nodeName !== 'HTML' : false;\n};\n\n// Check if an element has a specific node name (case-insensitive)\njQNext.nodeName = function(elem, name) {\n  return elem && elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n};\n\n// String utilities\njQNext.camelCase = camelCase;\njQNext.trim = trim;\njQNext.parseHTML = parseHTML;\njQNext.parseJSON = parseJSON;\njQNext.parseXML = parseXML;\njQNext.param = param;\njQNext.error = error;\n\n// Deferred\njQNext.Deferred = Deferred;\njQNext.Callbacks = Callbacks;\njQNext.when = when;\n\n// Data\njQNext.expando = expando;\njQNext.data = function(elem, name, value) {\n  // Getter: $.data(elem, key)\n  if (value === undefined && typeof name !== 'object') {\n    return getDataValue(elem, name);\n  }\n  // Setter: $.data(elem, key, value) - returns value\n  // Or: $.data(elem, obj) - returns obj\n  setData(elem, name, value);\n  return typeof name === 'object' ? name : value;\n};\njQNext.removeData = function(elem, name) {\n  removeData(elem, name);\n  return undefined;\n};\njQNext.hasData = hasData;\njQNext._data = function(elem, name, value) {\n  // Internal data (for jQuery internals/plugins)\n  // Getter\n  if (value === undefined && typeof name !== 'object') {\n    return getDataValue(elem, '_' + name);\n  }\n  // Setter - returns value/obj\n  setData(elem, '_' + name, value);\n  return typeof name === 'object' ? name : value;\n};\njQNext._removeData = function(elem, name) {\n  removeData(elem, '_' + name);\n  return undefined;\n};\njQNext.cleanData = cleanData;\n\n// AJAX\njQNext.ajax = ajax;\njQNext.ajaxSetup = ajaxSetup;\njQNext.ajaxPrefilter = ajaxPrefilter;\njQNext.ajaxTransport = ajaxTransport;\njQNext.ajaxSettings = ajaxSettings;\njQNext.get = get;\njQNext.post = post;\njQNext.getJSON = getJSON;\njQNext.getScript = getScript;\n\n// Animation\njQNext.fx = fx;\njQNext.fx.speeds = speeds;\njQNext.fx.step = {}; // For jQuery UI color animation hooks\njQNext.easing = {\n  linear: function(p) { return p; },\n  swing: function(p) { return 0.5 - Math.cos(p * Math.PI) / 2; }\n};\njQNext.Animation = {}; // Compatibility stub\njQNext.speed = function(speed, easing, fn) {\n  const opt = speed && typeof speed === 'object' ? extend({}, speed) : {\n    complete: fn || (!fn && easing) || (isFunction(speed) && speed),\n    duration: speed,\n    easing: fn && easing || easing && !isFunction(easing) && easing\n  };\n  opt.duration = typeof opt.duration === 'number' ? opt.duration :\n    opt.duration in speeds ? speeds[opt.duration] : speeds._default;\n  opt.old = opt.complete;\n  opt.complete = function() {\n    if (isFunction(opt.old)) {\n      opt.old.call(this);\n    }\n  };\n  return opt;\n};\n\n// Queue utilities (static)\njQNext.queue = function(elem, type, data) {\n  return queue({ 0: elem, length: 1 }, type, data);\n};\njQNext.dequeue = function(elem, type) {\n  return dequeue({ 0: elem, length: 1 }, type);\n};\n\n// Event constructor - jQuery UI expects $.Event()\njQNext.Event = function(type, props) {\n  // Allow instantiation without 'new'\n  if (!(this instanceof jQNext.Event)) {\n    return new jQNext.Event(type, props);\n  }\n  \n  // Handle event object passed as type\n  if (type && type.type) {\n    this.originalEvent = type;\n    this.type = type.type;\n    this.isDefaultPrevented = type.defaultPrevented ||\n      (type.defaultPrevented === undefined && type.returnValue === false)\n        ? returnTrue : returnFalse;\n    this.target = type.target;\n    this.currentTarget = type.currentTarget;\n    this.relatedTarget = type.relatedTarget;\n    this.timeStamp = type.timeStamp || Date.now();\n  } else {\n    this.type = type;\n    this.timeStamp = Date.now();\n  }\n  \n  // Copy properties\n  if (props) {\n    extend(this, props);\n  }\n  \n  // State tracking\n  this._isDefaultPrevented = false;\n  this._isPropagationStopped = false;\n  this._isImmediatePropagationStopped = false;\n};\n\njQNext.Event.prototype = {\n  constructor: jQNext.Event,\n  isDefaultPrevented: function() { return this._isDefaultPrevented; },\n  isPropagationStopped: function() { return this._isPropagationStopped; },\n  isImmediatePropagationStopped: function() { return this._isImmediatePropagationStopped; },\n  preventDefault: function() {\n    this._isDefaultPrevented = true;\n    if (this.originalEvent) {\n      this.originalEvent.preventDefault();\n    }\n  },\n  stopPropagation: function() {\n    this._isPropagationStopped = true;\n    if (this.originalEvent) {\n      this.originalEvent.stopPropagation();\n    }\n  },\n  stopImmediatePropagation: function() {\n    this._isImmediatePropagationStopped = true;\n    this._isPropagationStopped = true;\n    if (this.originalEvent) {\n      this.originalEvent.stopImmediatePropagation();\n    }\n  }\n};\n\nfunction returnTrue() { return true; }\nfunction returnFalse() { return false; }\n\n// Event special\njQNext.event = {\n  special,\n  // Event properties that should be copied - excluded 'type' (handled separately per tests)\n  props: ('altKey bubbles cancelable ctrlKey currentTarget detail eventPhase ' +\n    'metaKey relatedTarget shiftKey target timeStamp view which').split(' '),\n  fixHooks: {},\n  fix: function(event) {\n    if (event instanceof jQNext.Event) {\n      return event;\n    }\n    return new jQNext.Event(event);\n  },\n  simulate: function(type, elem, event) {\n    const e = extend(new jQNext.Event(type), event, {\n      type,\n      isSimulated: true\n    });\n    if (elem.dispatchEvent) {\n      elem.dispatchEvent(new CustomEvent(type, { detail: e, bubbles: true, cancelable: true }));\n    }\n  }\n};\n\n// Expression/Sizzle compatibility\njQNext.expr = {\n  ':': pseudoSelectors,\n  pseudos: pseudoSelectors,\n  match: {},\n  filter: {},\n  // Filter functions used by jquery.tabbable.js and other plugins\n  filters: {\n    visible: function(elem) {\n      return !!(elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length);\n    },\n    hidden: function(elem) {\n      return !jQNext.expr.filters.visible(elem);\n    }\n  },\n  // createPseudo wraps a factory function to be compatible with our pseudo-selector system\n  // The factory takes the argument (e.g., \"foo\" from :hasData(foo)) and returns a filter function\n  createPseudo: function(fn) {\n    // Return a function that matches our pseudo signature (elem, index, collection, param)\n    // but calls the factory pattern correctly\n    var wrapped = function(elem, index, collection, param) {\n      // Call the factory with the param to get the actual filter\n      var filter = fn(param);\n      // Call the filter with just the element (Sizzle/jQuery style)\n      return filter(elem);\n    };\n    // Mark it as created via createPseudo so we know the signature\n    wrapped._isCreatePseudo = true;\n    return wrapped;\n  }\n};\njQNext.find = function(selector, context, results) {\n  results = results || [];\n  const found = querySelectorAllWithPseudo(selector, context);\n  merge(results, found);\n  return results;\n};\n// Sizzle/selector engine compatibility - compile function for pre-compiling selectors\njQNext.find.compile = function(selector) {\n  // Return a function that performs the selection (simplified Sizzle compatibility)\n  return function(context, results) {\n    return jQNext.find(selector, context, results);\n  };\n};\n// matchesSelector for element matching\njQNext.find.matchesSelector = function(elem, selector) {\n  return matchesWithPseudo(elem, selector);\n};\njQNext.find.matches = function(selector, elements) {\n  return elements.filter(elem => matchesWithPseudo(elem, selector));\n};\n\n// Static CSS method (for plugins like jquery.tabbable.js)\njQNext.css = function(elem, name, extra, styles) {\n  return cssModule.css({ 0: elem, length: 1 }, name);\n};\n\n// Static attr method (for plugins like jquery.tabbable.js)\njQNext.attr = function(elem, name, value) {\n  // Getter\n  if (value === undefined) {\n    if (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.getAttribute) {\n      return undefined;\n    }\n    const val = elem.getAttribute(name);\n    return val === null ? undefined : val;\n  }\n  // Setter\n  elem.setAttribute(name, value);\n  return value;\n};\n\n// CSS Hooks (for jQuery UI color animation etc.)\njQNext.cssHooks = cssHooks;\njQNext.cssNumber = {\n  animationIterationCount: true,\n  columnCount: true,\n  fillOpacity: true,\n  flexGrow: true,\n  flexShrink: true,\n  fontWeight: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  widows: true,\n  zIndex: true,\n  zoom: true\n};\n\n// Support (feature detection)\njQNext.support = {\n  ajax: true,\n  cors: true,\n  boxSizing: true,\n  changeBubbles: true,\n  focusin: true,\n  optSelected: true,\n  transition: true,\n  // createHTMLDocument test - check if we can create an HTML document\n  createHTMLDocument: (function() {\n    try {\n      return !!document.implementation.createHTMLDocument('');\n    } catch (e) {\n      return false;\n    }\n  })()\n};\n\n// jQuery UI\njQNext.ui = ui;\njQNext.widget = function(name, base, prototype) {\n  const Constructor = widget(name, base, prototype);\n  registerPlugin(jQNext, name, Constructor);\n  return Constructor;\n};\njQNext.Widget = Widget;\n\n// noConflict\nconst _jQuery = typeof window !== 'undefined' ? window.jQuery : undefined;\nconst _$ = typeof window !== 'undefined' ? window.$ : undefined;\n\njQNext.noConflict = function(deep) {\n  if (typeof window !== 'undefined') {\n    if (window.$ === jQNext) {\n      window.$ = _$;\n    }\n    if (deep && window.jQuery === jQNext) {\n      window.jQuery = _jQuery;\n    }\n  }\n  return jQNext;\n};\n\n// Ready state\njQNext.isReady = false;\njQNext.readyWait = 1;\njQNext.ready = Deferred();\njQNext.holdReady = function(hold) {\n  if (hold) {\n    jQNext.readyWait++;\n  } else {\n    // Trigger ready if all holds released\n    if (--jQNext.readyWait === 0) {\n      jQNext.isReady = true;\n      jQNext.ready.resolveWith(document, [jQNext]);\n    }\n  }\n};\n\nif (document.readyState === 'complete' ||\n    (document.readyState !== 'loading' && !document.documentElement.doScroll)) {\n  setTimeout(() => {\n    jQNext.isReady = true;\n    jQNext.ready.resolveWith(document, [jQNext]);\n  });\n} else {\n  document.addEventListener('DOMContentLoaded', function() {\n    jQNext.isReady = true;\n    jQNext.ready.resolveWith(document, [jQNext]);\n  });\n}\n\n// ==================================================\n// PROTOTYPE METHODS\n// ==================================================\n\n// Extend the prototype\nextend(jQNext.fn, {\n  // Core\n  jquery: '2.2.5-jqnext',\n  length: 0,\n  \n  // Convert to array\n  toArray: function() {\n    return Array.prototype.slice.call(this);\n  },\n  \n  // Get element(s)\n  get: function(index) {\n    return index === undefined \n      ? this.toArray() \n      : (index < 0 ? this[this.length + index] : this[index]);\n  },\n  \n  // Size (deprecated but needed for compat)\n  size: function() {\n    return this.length;\n  },\n  \n  // Traversal\n  parent: function(selector) {\n    return this.pushStack(traversal.parent(this, selector));\n  },\n  parents: function(selector) {\n    return this.pushStack(traversal.parents(this, selector));\n  },\n  parentsUntil: function(until, filter) {\n    return this.pushStack(traversal.parentsUntil(this, until, filter));\n  },\n  closest: function(selector, context) {\n    return this.pushStack(traversal.closest(this, selector, context));\n  },\n  children: function(selector) {\n    return this.pushStack(traversal.children(this, selector));\n  },\n  siblings: function(selector) {\n    return this.pushStack(traversal.siblings(this, selector));\n  },\n  next: function(selector) {\n    return this.pushStack(traversal.next(this, selector));\n  },\n  nextAll: function(selector) {\n    return this.pushStack(traversal.nextAll(this, selector));\n  },\n  nextUntil: function(until, filter) {\n    return this.pushStack(traversal.nextUntil(this, until, filter));\n  },\n  prev: function(selector) {\n    return this.pushStack(traversal.prev(this, selector));\n  },\n  prevAll: function(selector) {\n    return this.pushStack(traversal.prevAll(this, selector));\n  },\n  prevUntil: function(until, filter) {\n    return this.pushStack(traversal.prevUntil(this, until, filter));\n  },\n  offsetParent: function() {\n    return this.pushStack(traversal.offsetParent(this));\n  },\n  \n  // Manipulation\n  html: function(value) {\n    return manipulation.html(this, value);\n  },\n  text: function(value) {\n    return manipulation.text(this, value);\n  },\n  append: function(...content) {\n    return manipulation.append(this, ...content);\n  },\n  prepend: function(...content) {\n    return manipulation.prepend(this, ...content);\n  },\n  before: function(...content) {\n    return manipulation.before(this, ...content);\n  },\n  after: function(...content) {\n    return manipulation.after(this, ...content);\n  },\n  appendTo: function(target) {\n    return manipulation.appendTo(this, target, jQNext);\n  },\n  prependTo: function(target) {\n    return manipulation.prependTo(this, target, jQNext);\n  },\n  insertBefore: function(target) {\n    return manipulation.insertBefore(this, target, jQNext);\n  },\n  insertAfter: function(target) {\n    return manipulation.insertAfter(this, target, jQNext);\n  },\n  wrap: function(wrapper) {\n    return manipulation.wrap(this, wrapper, jQNext);\n  },\n  wrapAll: function(wrapper) {\n    return manipulation.wrapAll(this, wrapper, jQNext);\n  },\n  wrapInner: function(wrapper) {\n    return manipulation.wrapInner(this, wrapper, jQNext);\n  },\n  unwrap: function(selector) {\n    return manipulation.unwrap(this, selector);\n  },\n  empty: function() {\n    return manipulation.empty(this);\n  },\n  remove: function(selector) {\n    return manipulation.remove(this, selector);\n  },\n  detach: function(selector) {\n    return manipulation.detach(this, selector);\n  },\n  replaceWith: function(content) {\n    return manipulation.replaceWith(this, content, jQNext);\n  },\n  replaceAll: function(target) {\n    return manipulation.replaceAll(this, target, jQNext);\n  },\n  clone: function(withDataAndEvents, deepWithDataAndEvents) {\n    return manipulation.clone(this, withDataAndEvents, deepWithDataAndEvents, jQNext);\n  },\n  \n  // Attributes\n  attr: function(name, value) {\n    return attributes.attr(this, name, value);\n  },\n  removeAttr: function(name) {\n    return attributes.removeAttr(this, name);\n  },\n  prop: function(name, value) {\n    return attributes.prop(this, name, value);\n  },\n  removeProp: function(name) {\n    return attributes.removeProp(this, name);\n  },\n  val: function(value) {\n    return attributes.val(this, value);\n  },\n  addClass: function(className) {\n    return attributes.addClass(this, className);\n  },\n  removeClass: function(className) {\n    return attributes.removeClass(this, className);\n  },\n  toggleClass: function(className, state) {\n    return attributes.toggleClass(this, className, state);\n  },\n  hasClass: function(className) {\n    return attributes.hasClass(this, className);\n  },\n  \n  // CSS\n  css: function(name, value) {\n    return cssModule.css(this, name, value);\n  },\n  width: function(value) {\n    return cssModule.width(this, value);\n  },\n  height: function(value) {\n    return cssModule.height(this, value);\n  },\n  innerWidth: function(value) {\n    return cssModule.innerWidth(this, value);\n  },\n  innerHeight: function(value) {\n    return cssModule.innerHeight(this, value);\n  },\n  outerWidth: function(includeMargin) {\n    return cssModule.outerWidth(this, includeMargin);\n  },\n  outerHeight: function(includeMargin) {\n    return cssModule.outerHeight(this, includeMargin);\n  },\n  offset: function(coordinates) {\n    return cssModule.offset(this, coordinates);\n  },\n  position: function() {\n    return cssModule.position(this);\n  },\n  scrollTop: function(value) {\n    return cssModule.scrollTop(this, value);\n  },\n  scrollLeft: function(value) {\n    return cssModule.scrollLeft(this, value);\n  },\n  \n  // Events\n  on: function(types, selector, data, fn) {\n    return on(this, types, selector, data, fn);\n  },\n  off: function(types, selector, fn) {\n    return off(this, types, selector, fn);\n  },\n  one: function(types, selector, data, fn) {\n    return one(this, types, selector, data, fn);\n  },\n  trigger: function(event, data) {\n    return trigger(this, event, data);\n  },\n  triggerHandler: function(event, data) {\n    return triggerHandler(this, event, data);\n  },\n  \n  // Event shortcuts\n  blur: eventShortcuts.blur,\n  focus: eventShortcuts.focus,\n  focusin: eventShortcuts.focusin,\n  focusout: eventShortcuts.focusout,\n  load: eventShortcuts.load,\n  resize: eventShortcuts.resize,\n  scroll: eventShortcuts.scroll,\n  unload: eventShortcuts.unload,\n  click: eventShortcuts.click,\n  dblclick: eventShortcuts.dblclick,\n  mousedown: eventShortcuts.mousedown,\n  mouseup: eventShortcuts.mouseup,\n  mousemove: eventShortcuts.mousemove,\n  mouseover: eventShortcuts.mouseover,\n  mouseout: eventShortcuts.mouseout,\n  mouseenter: eventShortcuts.mouseenter,\n  mouseleave: eventShortcuts.mouseleave,\n  change: eventShortcuts.change,\n  select: eventShortcuts.select,\n  submit: eventShortcuts.submit,\n  keydown: eventShortcuts.keydown,\n  keypress: eventShortcuts.keypress,\n  keyup: eventShortcuts.keyup,\n  error: eventShortcuts.error,\n  contextmenu: eventShortcuts.contextmenu,\n  hover: eventShortcuts.hover,\n  bind: eventShortcuts.bind,\n  unbind: eventShortcuts.unbind,\n  delegate: eventShortcuts.delegate,\n  undelegate: eventShortcuts.undelegate,\n  \n  // Effects - show/hide\n  show: function(duration, easing, callback) {\n    return show(this, duration, easing, callback);\n  },\n  hide: function(duration, easing, callback) {\n    return hide(this, duration, easing, callback);\n  },\n  toggle: function(state, easing, callback) {\n    return toggle(this, state, easing, callback);\n  },\n  \n  // Effects - slide\n  slideDown: function(duration, easing, callback) {\n    return slideDown(this, duration, easing, callback);\n  },\n  slideUp: function(duration, easing, callback) {\n    return slideUp(this, duration, easing, callback);\n  },\n  slideToggle: function(duration, easing, callback) {\n    return slideToggle(this, duration, easing, callback);\n  },\n  \n  // Effects - fade\n  fadeIn: function(duration, easing, callback) {\n    return fadeIn(this, duration, easing, callback);\n  },\n  fadeOut: function(duration, easing, callback) {\n    return fadeOut(this, duration, easing, callback);\n  },\n  fadeTo: function(duration, opacity, callback) {\n    return fadeTo(this, duration, opacity, callback);\n  },\n  fadeToggle: function(duration, easing, callback) {\n    return fadeToggle(this, duration, easing, callback);\n  },\n  \n  // Effects - animation\n  animate: function(properties, duration, easing, callback) {\n    return animate(this, properties, duration, easing, callback);\n  },\n  stop: function(clearQueue, jumpToEnd) {\n    return stop(this, clearQueue, jumpToEnd);\n  },\n  finish: function(queue) {\n    return finish(this, queue);\n  },\n  delay: function(time, type) {\n    return delay(this, time, type);\n  },\n  queue: function(type, data) {\n    return queue(this, type, data);\n  },\n  dequeue: function(type) {\n    return dequeue(this, type);\n  },\n  clearQueue: function(type) {\n    return clearQueue(this, type);\n  },\n  promise: function(type, target) {\n    return promise(this, type, target);\n  },\n  \n  // AJAX\n  load: function(url, data, complete) {\n    return load(this, url, data, complete);\n  },\n  serialize: function() {\n    return serialize(this);\n  },\n  serializeArray: function() {\n    return serializeArray(this);\n  },\n  \n  // AJAX events\n  ajaxComplete: function(handler) {\n    return this.on('ajaxComplete', handler);\n  },\n  ajaxError: function(handler) {\n    return this.on('ajaxError', handler);\n  },\n  ajaxSend: function(handler) {\n    return this.on('ajaxSend', handler);\n  },\n  ajaxStart: function(handler) {\n    return this.on('ajaxStart', handler);\n  },\n  ajaxStop: function(handler) {\n    return this.on('ajaxStop', handler);\n  },\n  ajaxSuccess: function(handler) {\n    return this.on('ajaxSuccess', handler);\n  },\n  \n  // Ready shortcut\n  ready: function(fn) {\n    jQNext.ready.then(fn);\n    return this;\n  }\n});\n\n// Extend function for prototype\njQNext.fn.extend = function(obj) {\n  return extend(jQNext.fn, obj);\n};\n\n// Global export\nif (typeof window !== 'undefined') {\n  window.jQuery = jQNext;\n  window.$ = jQNext;\n  \n  // Preside compatibility\n  window.presideJQuery = jQNext;\n  window.jQNext = jQNext;\n}\n\nexport default jQNext;","/**\n * jQNext - DOM Traversal\n * Parent, children, sibling traversal methods\n */\n\nimport { isString, isElement } from '../utilities/type.js';\nimport { uniqueSort } from '../utilities/objects.js';\nimport { matchesWithPseudo } from '../selectors/pseudo.js';\n\n/**\n * Get the parent of each element, optionally filtered by selector\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function parent(collection, selector) {\n  const result = [];\n  const seen = new Set();\n  \n  for (let i = 0; i < collection.length; i++) {\n    const parent = collection[i].parentNode;\n    if (parent && parent.nodeType === 1 && !seen.has(parent)) {\n      seen.add(parent);\n      if (!selector || matchesWithPseudo(parent, selector)) {\n        result.push(parent);\n      }\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Get all ancestors of each element, optionally filtered\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function parents(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let parent = collection[i].parentNode;\n    while (parent && parent.nodeType === 1) {\n      if (!selector || matchesWithPseudo(parent, selector)) {\n        result.push(parent);\n      }\n      parent = parent.parentNode;\n    }\n  }\n  \n  return uniqueSort(result);\n}\n\n/**\n * Get ancestors up to (but not including) the element matched by selector\n * @param {jQCollection} collection\n * @param {string|Element} until\n * @param {string} [filter]\n * @returns {Element[]}\n */\nexport function parentsUntil(collection, until, filter) {\n  const result = [];\n  const untilElem = isString(until) ? null : until;\n  \n  for (let i = 0; i < collection.length; i++) {\n    let parent = collection[i].parentNode;\n    while (parent && parent.nodeType === 1) {\n      // Check if we've reached the until element/selector\n      if (untilElem) {\n        if (parent === untilElem) break;\n      } else if (until && matchesWithPseudo(parent, until)) {\n        break;\n      }\n      \n      if (!filter || matchesWithPseudo(parent, filter)) {\n        result.push(parent);\n      }\n      parent = parent.parentNode;\n    }\n  }\n  \n  return uniqueSort(result);\n}\n\n/**\n * Get the closest ancestor matching the selector\n * @param {jQCollection} collection\n * @param {string} selector\n * @param {Element} [context]\n * @returns {Element[]}\n */\nexport function closest(collection, selector, context) {\n  const result = [];\n  const seen = new Set();\n  \n  for (let i = 0; i < collection.length; i++) {\n    let elem = collection[i];\n    \n    while (elem && elem !== context) {\n      if (elem.nodeType === 1 && matchesWithPseudo(elem, selector)) {\n        if (!seen.has(elem)) {\n          seen.add(elem);\n          result.push(elem);\n        }\n        break;\n      }\n      elem = elem.parentNode;\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Get the children of each element, optionally filtered\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function children(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    const kids = collection[i].children;\n    for (let j = 0; j < kids.length; j++) {\n      if (!selector || matchesWithPseudo(kids[j], selector)) {\n        result.push(kids[j]);\n      }\n    }\n  }\n  \n  return collection.length > 1 ? uniqueSort(result) : result;\n}\n\n/**\n * Get all siblings of each element\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function siblings(collection, selector) {\n  const result = [];\n  const seen = new Set();\n  \n  for (let i = 0; i < collection.length; i++) {\n    const elem = collection[i];\n    const parent = elem.parentNode;\n    \n    if (parent) {\n      const kids = parent.children;\n      for (let j = 0; j < kids.length; j++) {\n        if (kids[j] !== elem && !seen.has(kids[j])) {\n          seen.add(kids[j]);\n          if (!selector || matchesWithPseudo(kids[j], selector)) {\n            result.push(kids[j]);\n          }\n        }\n      }\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Get the next sibling of each element\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function next(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].nextElementSibling;\n    if (sibling) {\n      if (!selector || matchesWithPseudo(sibling, selector)) {\n        result.push(sibling);\n      }\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Get all following siblings\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function nextAll(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].nextElementSibling;\n    while (sibling) {\n      if (!selector || matchesWithPseudo(sibling, selector)) {\n        result.push(sibling);\n      }\n      sibling = sibling.nextElementSibling;\n    }\n  }\n  \n  return collection.length > 1 ? uniqueSort(result) : result;\n}\n\n/**\n * Get all following siblings until the selector matches\n * @param {jQCollection} collection\n * @param {string|Element} until\n * @param {string} [filter]\n * @returns {Element[]}\n */\nexport function nextUntil(collection, until, filter) {\n  const result = [];\n  const untilElem = isElement(until) ? until : null;\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].nextElementSibling;\n    while (sibling) {\n      // Check if we've reached the until element/selector\n      if (untilElem) {\n        if (sibling === untilElem) break;\n      } else if (until && matchesWithPseudo(sibling, until)) {\n        break;\n      }\n      \n      if (!filter || matchesWithPseudo(sibling, filter)) {\n        result.push(sibling);\n      }\n      sibling = sibling.nextElementSibling;\n    }\n  }\n  \n  return collection.length > 1 ? uniqueSort(result) : result;\n}\n\n/**\n * Get the previous sibling of each element\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function prev(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].previousElementSibling;\n    if (sibling) {\n      if (!selector || matchesWithPseudo(sibling, selector)) {\n        result.push(sibling);\n      }\n    }\n  }\n  \n  return result;\n}\n\n/**\n * Get all preceding siblings\n * @param {jQCollection} collection\n * @param {string} [selector]\n * @returns {Element[]}\n */\nexport function prevAll(collection, selector) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].previousElementSibling;\n    while (sibling) {\n      if (!selector || matchesWithPseudo(sibling, selector)) {\n        result.push(sibling);\n      }\n      sibling = sibling.previousElementSibling;\n    }\n  }\n  \n  return collection.length > 1 ? uniqueSort(result) : result;\n}\n\n/**\n * Get all preceding siblings until the selector matches\n * @param {jQCollection} collection\n * @param {string|Element} until\n * @param {string} [filter]\n * @returns {Element[]}\n */\nexport function prevUntil(collection, until, filter) {\n  const result = [];\n  const untilElem = isElement(until) ? until : null;\n  \n  for (let i = 0; i < collection.length; i++) {\n    let sibling = collection[i].previousElementSibling;\n    while (sibling) {\n      // Check if we've reached the until element/selector\n      if (untilElem) {\n        if (sibling === untilElem) break;\n      } else if (until && matchesWithPseudo(sibling, until)) {\n        break;\n      }\n      \n      if (!filter || matchesWithPseudo(sibling, filter)) {\n        result.push(sibling);\n      }\n      sibling = sibling.previousElementSibling;\n    }\n  }\n  \n  return collection.length > 1 ? uniqueSort(result) : result;\n}\n\n/**\n * Get the nearest positioned ancestor\n * @param {jQCollection} collection\n * @returns {Element[]}\n */\nexport function offsetParent(collection) {\n  const result = [];\n  \n  for (let i = 0; i < collection.length; i++) {\n    let offsetParent = collection[i].offsetParent || document.documentElement;\n    \n    while (offsetParent && \n           offsetParent !== document.documentElement && \n           getComputedStyle(offsetParent).position === 'static') {\n      offsetParent = offsetParent.offsetParent;\n    }\n    \n    result.push(offsetParent || document.documentElement);\n  }\n  \n  return result;\n}\n\nexport default {\n  parent,\n  parents,\n  parentsUntil,\n  closest,\n  children,\n  siblings,\n  next,\n  nextAll,\n  nextUntil,\n  prev,\n  prevAll,\n  prevUntil,\n  offsetParent\n};"],"names":["isVisible","elem","offsetWidth","offsetHeight","getClientRects","length","pseudoSelectors","index","collection","selector","baseSelector","pseudos","parsePseudos","matches","e","pseudo","filterFn","name","param","matchesSingleSelectorForNot","parseInt","text","textContent","indexOf","firstChild","querySelector","test","nodeName","type","toLowerCase","disabled","checked","selected","ownerDocument","activeElement","hasFocus","documentElement","hash","window","location","id","slice","getAnimations","parentNode","firstElementChild","lastElementChild","parent","key","undefined","dataset","Object","keys","lang","closest","startsWith","pseudoRegex","isJQueryPseudo","match","lastIndex","exec","fullMatch","beforeMatch","substring","push","replace","charBefore","trim","filterByPseudos","elements","result","filter","arr","querySelectorAllWithPseudo","context","document","querySelectorAll","selectors","split","map","s","results","Set","forEach","sel","add","Array","from","actualSelector","tempId","Math","random","toString","substr","removeAttribute","console","warn","matchesWithPseudo","coll","idx","Boolean","some","matchesSingleSelector","dataCache","WeakMap","expando","Date","now","getData","owner","data","get","nodeType","acceptsData","set","camelCase","_","letter","toUpperCase","dataAttr","getAttribute","JSON","parse","setData","value","cache","k","getDataValue","_attrsRead","attr","camelKey","removeData","delete","isArray","getInternalData","setInternalData","cleanData","elems","children","getElementsByTagName","i","class2type","hasOwn","hasOwnProperty","obj","call","isArrayLike","isWindow","objType","isFunction","isElement","isNumeric","realType","isNaN","parseFloat","isPlainObject","constructor","prototype","isString","extend","deep","target","sources","isDeep","targetObj","objectsToMerge","src","srcVal","existingVal","clone","merge","first","second","len","j","proxy","fn","args","tmp","bound","callArgs","apply","this","concat","guid","uniqueSort","seen","unique","has","compareDocumentPosition","sort","a","b","compare","rmsPrefix","rdashAlpha","str","all","wrapMap","thead","tbody","tfoot","colgroup","caption","tr","th","td","col","option","optgroup","legend","defaultWrapper","parseHTML","keepScripts","Error","doc","singleTagMatch","createElement","tagMatch","firstTag","wrapper","fragment","createDocumentFragment","node","html","innerHTML","appendChild","nodes","childNodes","filtered","tagName","script","removeChild","traditional","parts","valueOrFunction","encodeURIComponent","buildParams","prefix","v","item","join","jQNext","pushStack","prev","ret","prevObject","jQCollection","_elements","init","contextElem","readyState","doScroll","setTimeout","addEventListener","once","_push","_applyProps","toArray","props","each","className","setAttribute","callback","flat","element","eq","last","start","end","addBack","find","winnow","not","is","targets","contains","contents","contentDocument","contentWindow","_bind","qualifier","qualArr","qualSet","elemArray","Callbacks","options","opts","flag","list","firing","firingIndex","memory","fired","locked","fire","stopOnFalse","self","firingStart","addToList","arg","remove","splice","empty","disable","lock","fireWith","Deferred","func","tuples","state","promise","always","fns","deferred","done","fail","catch","then","pipe","arguments","onFulfilled","onRejected","onProgress","maxDepth","resolve","depth","handler","special","mightThrow","returned","TypeError","identity","thrower","notifyWith","resolveWith","process","rejectWith","newDefer","tuple","stateString","ex","Symbol","iterator","handlersStorage","focus","trigger","delegateType","blur","click","_default","event","submit","mouseenter","handle","related","relatedTarget","currentTarget","handleObj","mouseleave","focusin","setup","focusout","parseEventTypes","types","namespaces","namespace","origType","eventType","getHandlers","handlers","events","createHandler","nativeEvent","fixEvent","handlersCopy","every","ns","includes","extraArgs","_extraArgs","specialHandle","preventDefault","stopPropagation","isImmediatePropagationStopped","_fixed","originalEvent","timeStamp","button","buttons","which","keyCode","charCode","code","altKey","ctrlKey","metaKey","shiftKey","clientX","clientY","pageX","pageY","screenX","screenY","offsetX","offsetY","detail","_isDefaultPrevented","_isPropagationStopped","_isImmediatePropagationStopped","stopImmediatePropagation","isDefaultPrevented","defaultPrevented","isPropagationStopped","docElem","body","scrollLeft","clientLeft","scrollTop","clientTop","on","one","returnFalse","origFn","off","parsedTypes","elemHandle","specialType","bindType","addHandler","removeHandler","removeByType","t","remaining","teardown","removeEventListener","triggerEvent","propagate","specialTrigger","eventObj","Event","CustomEvent","bubbles","cancelable","nativeEventName","old","cloneHandlers","source","dest","sourceHandlers","destHandlers","destHandle","typeHandlers","clonedHandleObj","getDocument","toNodes","content","Node","domManip","staticArgs","funcArgs","isLast","allNodes","cloneNode","resultNodes","propFix","for","class","tabindex","readonly","maxlength","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","contenteditable","booleanAttrs","setAttr","val","cssNumber","vendorPrefixes","getStyles","defaultView","getComputedStyle","vendorPropName","camelName","style","capName","prefixed","css","prop","computed","getPropertyValue","setCSS","String","adjustCSS","dimension","dim","extra","innerWidth","innerHeight","max","rect","getBoundingClientRect","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","marginLeft","marginRight","marginTop","marginBottom","paddingLeft","paddingRight","paddingTop","paddingBottom","round","boxSizing","offset","coordinates","curPosition","position","curOffset","curCSSTop","curCSSLeft","curTop","curLeft","curPos","top","left","setOffset","win","pageYOffset","pageXOffset","offsetParent","elemOffset","parentOffset","parentComputed","scrollProp","scrollPropName","pagePropName","scrollX","scrollY","scrollTo","createShortcut","load","resize","scroll","unload","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","change","select","keydown","keypress","keyup","error","contextmenu","speeds","slow","fast","fx","interval","easingMap","linear","swing","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInBack","easeOutBack","easeInOutBack","normalizeDuration","duration","normalizeEasing","easing","animate","properties","complete","animateElement","queue","animationTask","to","camelProp","targetValue","currentValue","modifier","delta","keyframes","animation","fill","animations","onfinish","anims","step","oncancel","runAnimation","processQueue","task","shift","dequeue","displayCache","getDefaultDisplay","temp","display","isHidden","normalizeOptions","useDefault","show","overflow","targetHeight","targetWidth","height","width","opacity","hide","slideDown","slideUp","fadeIn","fadeOut","ajaxSettings","url","href","contentType","processData","async","accepts","xml","json","dataType","timeout","crossDomain","headers","global","active","prefilters","ajax","settings","method","dataTypes","jqXHR","status","statusText","responseText","responseJSON","responseXML","getResponseHeader","_responseHeaders","getAllResponseHeaders","entries","setRequestHeader","overrideMimeType","mimeType","abort","controller","success","requestUrl","timestamp","requestData","fetchOptions","Headers","credentials","xhrFields","withCredentials","accept","header","stringify","FormData","AbortController","signal","beforeSend","isSuccess","triggerGlobal","fetch","response","ok","parser","DOMParser","parseFromString","dispatchEvent","rsubmittable","rsubmitterTypes","rcheckableType","getSerializableElements","form","formElements","serializeArray","multiple","values","getValue","ui","version","BACKSPACE","COMMA","DELETE","DOWN","END","ENTER","ESCAPE","HOME","LEFT","PAGE_DOWN","PAGE_UP","PERIOD","RIGHT","SPACE","TAB","UP","safeActiveElement","safeBlur","widgetUuid","Widget","widgetName","widgetEventPrefix","defaultElement","create","uuid","eventNamespace","bindings","hoverable","focusable","_createWidget","Element","_getCreateOptions","_create","_trigger","_getCreateEventData","_init","destroy","_destroy","binding","classList","widget","curOption","lastPart","pop","_setOption","_toggleClass","_removeClass","_setOptions","enable","_on","suppressDisabledCheck","instance","eventParts","wrappedHandler","evt","_off","eventName","customEvent","_delay","delay","_hoverable","_addClass","_focusable","classes","cls","toggle","_scrollParent","includeHidden","excludeStaticParent","overflowRegex","scrollParent","parentElement","overflowY","overflowX","scrollingElement","returnTrue","jquery","grep","array","invert","expectTrue","inArray","fromIndex","makeArray","arrayLike","noop","container","contained","globalEval","head","isEmptyObject","isXMLDoc","parseJSON","parseXML","msg","when","subordinates","updateFunc","progressContexts","progressValues","resolveContexts","resolveValues","progress","reject","hasData","_data","_removeData","ajaxSetup","ajaxPrefilter","dataTypeOrHandler","ajaxTransport","post","getJSON","getScript","scriptElem","p","cos","PI","Animation","speed","opt","returnValue","fixHooks","fix","simulate","isSimulated","expr","filters","visible","hidden","createPseudo","wrapped","_isCreatePseudo","compile","matchesSelector","styles","cssModule.css","cssHooks","animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","fontWeight","lineHeight","order","orphans","widows","zIndex","zoom","support","cors","changeBubbles","optSelected","transition","createHTMLDocument","implementation","base","Constructor","WidgetConstructor","parentCreate","parentInit","parentDestroy","methodName","charAt","existing","registerPlugin","_jQuery","jQuery","_$","$","noConflict","isReady","readyWait","ready","holdReady","hold","size","traversal.parent","parents","traversal.parents","parentsUntil","until","untilElem","traversal.parentsUntil","traversal.closest","kids","traversal.children","siblings","traversal.siblings","next","sibling","nextElementSibling","traversal.next","nextAll","traversal.nextAll","nextUntil","traversal.nextUntil","previousElementSibling","traversal.prev","prevAll","traversal.prevAll","prevUntil","traversal.prevUntil","traversal.offsetParent","oldHtml","newValue","manipulation.html","nodeValue","manipulation.text","append","manipulation.append","prepend","insertBefore","manipulation.prepend","before","manipulation.before","after","nextSibling","manipulation.after","appendTo","manipulation.appendTo","prependTo","manipulation.prependTo","manipulation.insertBefore","insertAfter","manipulation.insertAfter","wrap","isFunc","wrapperElem","manipulation.wrap","wrapAll","manipulation.wrapAll","wrapInner","manipulation.wrapInner","unwrap","manipulation.unwrap","manipulation.remove","detach","manipulation.detach","replaceWith","newContent","replaceChild","manipulation.replaceWith","replaceAll","manipulation.replaceAll","withDataAndEvents","deepWithDataAndEvents","cloned","sourceData","sourceDescendants","clonedDescendants","srcDesc","clonedDesc","descData","manipulation.clone","attributes.attr","removeAttr","names","n","attributes.removeAttr","propName","attributes.prop","removeProp","attributes.removeProp","selectedIndex","optValue","attributes.val","addClass","classNames","attributes.addClass","removeClass","attributes.removeClass","toggleClass","attributes.toggleClass","hasClass","attributes.hasClass","cssModule.width","cssModule.height","cssModule.innerWidth","cssModule.innerHeight","outerWidth","includeMargin","cssModule.outerWidth","outerHeight","cssModule.outerHeight","cssModule.offset","cssModule.position","cssModule.scrollTop","cssModule.scrollLeft","triggerHandler","eventShortcuts.blur","eventShortcuts.focus","eventShortcuts.focusin","eventShortcuts.focusout","eventShortcuts.load","eventShortcuts.resize","eventShortcuts.scroll","eventShortcuts.unload","eventShortcuts.click","eventShortcuts.dblclick","eventShortcuts.mousedown","eventShortcuts.mouseup","eventShortcuts.mousemove","eventShortcuts.mouseover","eventShortcuts.mouseout","eventShortcuts.mouseenter","eventShortcuts.mouseleave","eventShortcuts.change","eventShortcuts.select","eventShortcuts.submit","eventShortcuts.keydown","eventShortcuts.keypress","eventShortcuts.keyup","eventShortcuts.error","eventShortcuts.contextmenu","hover","handlerIn","handlerOut","bind","unbind","delegate","undelegate","slideToggle","fadeTo","fadeToggle","stop","clearQueue","jumpToEnd","anim","finish","cancel","time","Promise","count","orig","found","el","serialize","ajaxComplete","ajaxError","ajaxSend","ajaxStart","ajaxStop","ajaxSuccess","presideJQuery"],"mappings":"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"}